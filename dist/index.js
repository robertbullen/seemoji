/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={6029:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HandPose:()=>Ta,load:()=>wa});var a={};n.r(a),n.d(a,{json:()=>E});var r={};n.r(r),n.d(r,{json:()=>A});var s={};n.r(s),n.d(s,{json:()=>Y});var o={};n.r(o),n.d(o,{json:()=>F});var i={};n.r(i),n.d(i,{json:()=>R});var u={};n.r(u),n.d(u,{json:()=>O});var l={};n.r(l),n.d(l,{json:()=>$});var d={};n.r(d),n.d(d,{json:()=>P});var c={};n.r(c),n.d(c,{json:()=>H});var h={};n.r(h),n.d(h,{json:()=>B});var p={};n.r(p),n.d(p,{json:()=>W});var m={};n.r(m),n.d(m,{json:()=>z});var f={};n.r(f),n.d(f,{json:()=>j});var _={};n.r(_),n.d(_,{json:()=>V});var g={};n.r(g),n.d(g,{json:()=>U});var y={};n.r(y),n.d(y,{json:()=>G});var b={};n.r(b),n.d(b,{json:()=>q});var v,x,k=n(7533);!function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF"}(v||(v={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(x||(x={}));const M={};function w(e){return M[e]}function T(e,t,n,a,r){const s=t.inputParams[e];if(s&&void 0!==s.inputIndexStart){const e=s.inputIndexStart,o=0===s.inputIndexEnd?void 0:void 0===s.inputIndexEnd?e+1:s.inputIndexEnd;if("tensor"===s.type)return L(t.inputNames[s.inputIndexStart],n,a,r);if("tensors"===s.type)return t.inputNames.slice(e,o).map((e=>L(e,n,a,r)));const i=L(t.inputNames.slice(e)[0],n,a,r),u=i.dataSync();return"number"===s.type?u[0]:k.util.toNestedArray(i.shape,u)}const o=t.attrParams[e];return o&&o.value}function L(e,t,n,a){const[r,s]=I(e);if(null!=a){const e=a.getHashTableHandleByName(r);if(null!=e)return e}const o=n.currentContextIds.find((e=>!!t[D(r,e)]));return void 0!==o?t[D(r,o)][s]:void 0}function S(e,t){const[n,a]=I(e);return[D(n,t&&t.currentContextId),a]}function D(e,t){return t?`${e}-${t}`:e}function I(e){const t=e.split(":");return 1===t.length?[e,0]:[t[0],Number(t[t.length-1])]}function N(e,t,n){let a=T("pad",e,t,n);if("explicit"===a){a=T("explicitPaddings",e,t,n);const r=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)r[e][0]=a[2*e],r[e][1]=a[2*e+1];return r}return a}function C(e){return e.kept?e:(0,k.clone)(e)}const E=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],A=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"clip_value_min",name:"clipValueMin",type:"number"},{tfName:"clip_value_max",name:"clipValueMax",type:"number"}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"clipValueMin",name:"clipValueMin",type:"number",defaultValue:0},{tfName:"clipValueMax",name:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Y=[{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]}],F=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],R=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],O=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],$=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],P=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],H=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]}],B=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}],W=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],z=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],j=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],V=[{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],U=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool",notSupported:!0}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],G=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],q=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]}];class X{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[a,r,s,o,i,u,l,p,h,d,m,f,_,g,y,b,c].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e,t={}){const n=e.node,a=[],r=[],s=[],o=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?a.push(e[t.name]):"Const"===t.op?r.push(e[t.name]):null!=t.input&&0!==t.input.length||s.push(e[t.name]),e)),{});let i=[];const u=[];let l={},d={};null!=t&&(l=this.mapSignatureEntries(t.inputs),d=this.mapSignatureEntries(t.outputs));const c=Object.keys(o);c.forEach((e=>{const t=o[e];t.inputNames.forEach((e=>{const[n]=S(e);t.inputs.push(o[n]),o[n].children.push(t)}))})),0===Object.keys(d).length?c.forEach((e=>{const t=o[e];0===t.children.length&&u.push(t)})):Object.keys(d).forEach((e=>{const[t]=S(e),n=o[t];null!=n&&(n.signatureKey=d[e],u.push(n))})),Object.keys(l).length>0?Object.keys(l).forEach((e=>{const[t]=S(e),n=o[t];n&&(n.signatureKey=l[e],i.push(n))})):i=a;let h={};null!=e.library&&null!=e.library.function&&(h=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const p={nodes:o,inputs:i,outputs:u,weights:r,placeholders:a,signature:t,functions:h};return s.length>0&&(p.initNodes=s),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=w(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.substr(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const a=n.type;let r;switch(n.type){case"string":r=J(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=J(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":r=ie(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=ie(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":r=Z(e.attr,n.tfName,n.defaultValue||0),void 0===r&&n.tfDeprecatedName&&(r=Z(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":r=oe(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=oe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":r=Q(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=Q(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":r=le(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=le(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":r=se(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=se(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":r=ue(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=ue(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":r=ne(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=ne(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":r=ae(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=ae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":r=te(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=te(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:r,type:a},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let a={};null!=t&&(a=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const r=[],s=[];e.signature.inputArg.forEach((e=>{const[t]=S(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:ee(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,r.push(n),a[t]=n})),Object.keys(a).forEach((e=>{const t=a[e];t.inputNames.forEach((e=>{const[n]=S(e);t.inputs.push(a[n]),a[n].children.push(t)}))}));const o=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=S(o[e.name]),r=a[t];null!=r&&(r.defaultOutput=n,s.push(r))}));const i=this.mapArgsToSignature(e);return{nodes:a,inputs:r,outputs:s,weights:n,placeholders:[],signature:i}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function K(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=(0,k.env)().global;if(void 0!==t.atob)return t.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function J(e,t,n,a=!1){const r=e[t];return null!=r?K(r.s,a):n}function Q(e,t,n){const a=e[t];return a?a.b:n}function Z(e,t,n){const a=e[t]||{},r=null!=a.i?a.i:null!=a.f?a.f:n;return"number"==typeof r?r:parseInt(r,10)}function ee(e){switch("string"==typeof e&&(e=v[e]),e){case v.DT_FLOAT:return"float32";case v.DT_INT32:case v.DT_INT64:case v.DT_INT8:case v.DT_UINT8:return"int32";case v.DT_BOOL:return"bool";case v.DT_DOUBLE:return"float32";case v.DT_STRING:return"string";default:return null}}function te(e,t,n){const a=e[t];return a&&a.func?a.func.name:n}function ne(e,t,n){const a=e[t];return a&&a.type?ee(a.type):n}function ae(e,t,n){const a=e[t];return a&&a.list&&a.list.type?a.list.type.map((e=>ee(e))):n}function re(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"==typeof e.size?e.size:parseInt(e.size,10))):[]}function se(e,t,n){const a=e[t];return a&&a.shape?re(a.shape):n}function oe(e,t,n){const a=e[t];return a?((a.list.f&&a.list.f.length?a.list.f:a.list.i)||[]).map((e=>"number"==typeof e?e:parseInt(e,10))):n}function ie(e,t,n,a=!1){const r=e[t];return r&&r.list&&r.list.s?r.list.s.map((e=>K(e,a))):n}function ue(e,t,n){const a=e[t];return a&&a.list&&a.list.shape?a.list.shape.map((e=>re(e))):n}function le(e,t,n){const a=e[t];return a&&a.list&&a.list.b?a.list.b:n}class de{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return L(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return L(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return Z(this.node.rawAttrs,e,t);if(null!=n.s)return J(this.node.rawAttrs,e,t);if(null!=n.b)return Q(this.node.rawAttrs,e,t);if(null!=n.shape)return se(this.node.rawAttrs,e,t);if(null!=n.type)return ne(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return oe(this.node.rawAttrs,e,t);if(null!=n.list.s)return ie(this.node.rawAttrs,e,t);if(null!=n.list.shape)return ue(this.node.rawAttrs,e,t);if(null!=n.list.b)return le(this.node.rawAttrs,e,t);if(null!=n.list.type)return ae(this.node.rawAttrs,e,t)}return t}}var ce=n(6407),he=n(3135),pe=n(5228),me=n(4841),fe=n(1274),_e=n(9322),ge=n(9165),ye=n(827),be=n(4513),ve=n(632),xe=n(3453),ke=n(5265),Me=n(6235),we=n(7839),Te=n(1470),Le=n(2421),Se=n(1891),De=n(7037),Ie=n(9812),Ne=n(369),Ce=n(6825),Ee=n(1661),Ae=n(173),Ye=n(2699),Fe=n(3233),Re=n(4650),Oe=n(4842),$e=n(3426),Pe=n(6943),He=n(2597),Be=n(7474),We=n(4386),ze=n(7370),je=n(9036),Ve=n(766),Ue=n(7409),Ge=n(7809),qe=n(5503),Xe=n(625),Ke=n(9331),Je=n(4434),Qe=n(3254),Ze=n(3694),et=n(3261),tt=n(248),nt=n(1869),at=n(1173),rt=n(2279),st=n(2634),ot=n(9451),it=n(9133),ut=n(8151);function lt(e,t,n=""){k.util.assert(function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(-1!==e[n]&&-1!==t[n]&&e[n]!==t[n])return!1;return!0}(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}class dt{constructor(e,t,n,a,r,s,o){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=a,this.identicalElementShapes=r,this.dynamicSize=s,this.clearAfterRead=o,this.tensors=[],this.closed_=!1,this.idTensor=(0,k.scalar)(0),(0,k.keep)(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),lt(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,(0,k.keep)(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return(0,k.tensor)([],[0].concat(this.elementShape));const n=this.readMany(e);return lt(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),(0,k.stack)(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return(0,k.tensor)([],[0].concat(this.elementShape));const t=[];for(let e=0;e<this.size();e++)t.push(e);const n=this.readMany(t);return lt(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),(0,k.concat)(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,(0,k.unstack)(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const a=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const r=0===n?0:t.size/n,s=[];(0,k.tidy)((()=>{t=(0,k.reshape)(t,[1,n,r]);for(let n=0;n<e.length;++n){const o=[0,0===n?0:a[n-1],0],i=[1,e[n],r];s[n]=(0,k.reshape)((0,k.slice)(t,o,i),this.elementShape)}return s}));const o=[];for(let t=0;t<e.length;t++)o[t]=t;this.writeMany(o,s)}}class ct{constructor(e,t,n,a=-1){this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);lt(t,e.shape,"TensorList shape mismatch: "),(0,k.keep)(e)})),this.idTensor=(0,k.scalar)(0),this.maxNumElements=a,(0,k.keep)(this.idTensor)}get id(){return this.idTensor.id}copy(){return new ct([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,n=-1){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);return lt(e,this.elementShape,"TensorList shape mismatch: "),(0,k.tidy)((()=>{const t=this.tensors.map((t=>(0,k.reshape)(t,e)));return(0,k.stack)(t,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=this.tensors.pop();return lt(n.shape,e,"TensorList shape mismatch: "),(0,k.reshape)(n,e)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(lt(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");(0,k.keep)(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);this.tensors.length=e}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);return lt(this.tensors[e].shape,t,"TensorList shape mismatch: "),this.tensors[e]}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);lt(this.elementShape,t.shape,"TensorList shape mismatch: "),(0,k.keep)(t),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);return lt(this.elementShape,n,"TensorList shape mismatch: "),0===(e=e.slice(0,this.size())).length?(0,k.tensor)([],[0].concat(this.elementShape)):(0,k.tidy)((()=>{const t=e.map((e=>(0,k.reshape)(this.tensors[e],n)));return(0,k.stack)(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);return lt(this.elementShape,t,"TensorList shape mismatch: "),0===this.size()?(0,k.tensor)([],[0].concat(this.elementShape)):(0,k.tidy)((()=>{const e=this.tensors.map((e=>(0,k.reshape)(e,t)));return(0,k.concat)(e,0)}))}}var ht=n(1355),pt=n(4794),mt=n(4624),ft=n(1405),_t=n(4718),gt=n(473),yt=n(5176),bt=n(1174),vt=n(6877),xt=n(1749),kt=n(5020),Mt=n(557);function wt(e,t,n){const[a,r]=T("fusedOps",e,t,n),s="biasadd"===a,o="prelu"===r,i="fusedbatchnorm"===a,u=T("numArgs",e,t,n);if(s){if(o&&2!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&1!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(i)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported.");const l=T("strides",e,t,n),d=N(e,t,n),c=T("dataFormat",e,t,n).toUpperCase(),h=T("dilations",e,t,n),[p,m]=T("args",e,t,n);return{stride:l,pad:d,dataFormat:c,dilations:h,biasArg:p,preluArg:m,activationFunc:r}}var Tt=n(4006),Lt=n(4135),St=n(686),Dt=n(6708),It=n(4917),Nt=n(7846),Ct=n(5002),Et=n(7245),At=n(3596),Yt=n(9640),Ft=n(6577),Rt=n(1395),Ot=n(2271),$t=n(6380),Pt=n(6567);function Ht(e,t,n){return{boxes:T("boxes",e,t,n),scores:T("scores",e,t,n),maxOutputSize:T("maxOutputSize",e,t,n),iouThreshold:T("iouThreshold",e,t,n),scoreThreshold:T("scoreThreshold",e,t,n),softNmsSigma:T("softNmsSigma",e,t,n)}}var Bt=n(3243),Wt=n(9608),zt=n(6092),jt=n(9494);class Vt{constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=(0,k.scalar)(0),this.tensorMap=new Map,(0,k.keep)(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),(0,k.tidy)((()=>{const e=(0,k.unstack)(t),a=n.length,r=e.length;k.util.assert(a===r,(()=>`The number of elements doesn't match, keys has ${a} elements, the values has ${r} elements.`));for(let t=0;t<a;t++){const a=n[t],r=e[t];(0,k.keep)(r),this.tensorMap.set(a,r)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return(0,k.tidy)((()=>{const e=[];for(let a=0;a<n.length;a++){const r=n[a],s=this.findWithDefault(r,t);e.push(s)}return(0,k.stack)(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}var Ut=n(6477),Gt=n(6500),qt=n(636),Xt=n(7630),Kt=n(6573),Jt=n(624),Qt=n(2856),Zt=n(8651),en=n(5750),tn=n(5912),nn=n(8687),an=n(9065),rn=n(7505),sn=n(9648),on=n(682),un=n(1510),ln=n(9758),dn=n(3307),cn=n(5130),hn=n(5735),pn=n(5475),mn=n(781),fn=n(2998),_n=n(47),gn=n(7394),yn=n(7405),bn=n(6884),vn=n(4926),xn=n(7486),kn=n(2676),Mn=n(5158),wn=n(9590),Tn=n(4968),Ln=n(2991),Sn=n(4136),Dn=n(7501),In=n(8644),Nn=n(3100),Cn=n(7494),En=n(7020),An=n(8447),Yn=n(3710),Fn=n(4415),Rn=n(1300),On=n(1483),$n=n(9682),Pn=n(7918),Hn=n(8441),Bn=n(9112),Wn=n(8247);function zn(e,t,n,a){const r=((e,t,n)=>{switch(e.category){case"arithmetic":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[ce.I(T("a",e,t,n),T("b",e,t,n))];case"AddN":return[he.Q(T("tensors",e,t,n))];case"FloorMod":case"Mod":return[pe.w(T("a",e,t,n),T("b",e,t,n))];case"Mul":return[me.d(T("a",e,t,n),T("b",e,t,n))];case"RealDiv":case"Div":return[fe.h(T("a",e,t,n),T("b",e,t,n))];case"DivNoNan":return[_e.N(T("a",e,t,n),T("b",e,t,n))];case"FloorDiv":return[ge.q(T("a",e,t,n),T("b",e,t,n))];case"Sub":return[ye.l(T("a",e,t,n),T("b",e,t,n))];case"Minimum":return[be.L(T("a",e,t,n),T("b",e,t,n))];case"Maximum":return[ve.g(T("a",e,t,n),T("b",e,t,n))];case"Pow":return[xe.s(T("a",e,t,n),T("b",e,t,n))];case"SquaredDifference":return[ke.$(T("a",e,t,n),T("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"basic_math":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"Abs":case"ComplexAbs":return[Me.W(T("x",e,t,n))];case"Acos":return[we.K(T("x",e,t,n))];case"Acosh":return[Te._(T("x",e,t,n))];case"Asin":return[Le.Z(T("x",e,t,n))];case"Asinh":return[Se.V(T("x",e,t,n))];case"Atan":return[De.z(T("x",e,t,n))];case"Atan2":return[Ie.f(T("x",e,t,n),T("y",e,t,n))];case"Atanh":return[Ne.C(T("x",e,t,n))];case"Ceil":return[Ce.m(T("x",e,t,n))];case"Complex":return[Ee.P(T("real",e,t,n),T("imag",e,t,n))];case"Cos":return[Ae.m(T("x",e,t,n))];case"Cosh":return[Ye.f(T("x",e,t,n))];case"Elu":return[Fe.p(T("x",e,t,n))];case"Erf":return[Re.q(T("x",e,t,n))];case"Exp":return[Oe.Q(T("x",e,t,n))];case"Expm1":return[$e.t(T("x",e,t,n))];case"Floor":return[Pe.G(T("x",e,t,n))];case"Log":return[He.c(T("x",e,t,n))];case"Log1p":return[Be.K(T("x",e,t,n))];case"Imag":return[We.a(T("x",e,t,n))];case"Neg":return[ze.W(T("x",e,t,n))];case"Reciprocal":return[je.M(T("x",e,t,n))];case"Real":return[Ve.k(T("x",e,t,n))];case"Relu":return[Ue.U(T("x",e,t,n))];case"Round":return[Ge.N(T("x",e,t,n))];case"Selu":return[qe.U(T("x",e,t,n))];case"Sigmoid":return[Xe.X(T("x",e,t,n))];case"Sin":return[Ke.O(T("x",e,t,n))];case"Sign":return[Je.X(T("x",e,t,n))];case"Sinh":return[Qe.R(T("x",e,t,n))];case"Softplus":return[Ze.W(T("x",e,t,n))];case"Sqrt":return[et._(T("x",e,t,n))];case"Square":return[tt.h(T("x",e,t,n))];case"Tanh":return[nt.A(T("x",e,t,n))];case"Tan":return[at.O(T("x",e,t,n))];case"Relu6":case"ClipByValue":return[rt.i(T("x",e,t,n),T("clipValueMin",e,t,n),T("clipValueMax",e,t,n))];case"Rsqrt":return[st.b(L(e.inputNames[0],t,n))];case"Prod":return[ot.W(T("x",e,t,n),T("axes",e,t,n))];case"LeakyRelu":return[it.h(T("x",e,t,n),T("alpha",e,t,n))];case"Prelu":return[ut.A(T("x",e,t,n),T("alpha",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"control":return(async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const a=T("thenBranch",e,t,n),r=T("elseBranch",e,t,n),s=T("cond",e,t,n),o=T("args",e,t,n);return(await s.data())[0]?n.functionMap[a].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const a=T("body",e,t,n),r=T("cond",e,t,n),s=T("args",e,t,n),o=await n.functionMap[r].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap),i=s.map((e=>e.id));let u=await o[0].data();o.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||e.dispose()}));let l=s;for(;u[0];){const e=l;l=await n.functionMap[a].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap);const t=l.map((e=>e.id));e.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const s=await n.functionMap[r].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap);u=await s[0].data(),s.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return l}case"LoopCond":return[C(T("pred",e,t,n))];case"Switch":{const a=T("pred",e,t,n);let r=T("data",e,t,n);return r.kept||(r=C(r)),(await a.data())[0]?[void 0,r]:[r,void 0]}case"Merge":{const a=e.inputNames.find((e=>void 0!==L(e,t,n)));return a?[C(L(a,t,n))]:void 0}case"Enter":{const a=T("frameName",e,t,n),r=T("tensor",e,t,n);return n.enterFrame(a),[C(r)]}case"Exit":{const a=T("tensor",e,t,n);return n.exitFrame(),[C(a)]}case"NextIteration":{const a=T("tensor",e,t,n);return n.nextIteration(),[C(a)]}case"TensorArrayV3":{const a=T("size",e,t,n),r=T("dtype",e,t,n),s=T("elementShape",e,t,n),o=T("dynamicSize",e,t,n),i=T("clearAfterRead",e,t,n),u=T("identicalElementShapes",e,t,n),l=T("name",e,t,n),d=new dt(l,r,a,s,u,o,i);return n.addTensorArray(d),[d.idTensor,(0,k.scalar)(1)]}case"TensorArrayWriteV3":{const a=T("tensorArrayId",e,t,n),r=T("index",e,t,n),s=T("tensor",e,t,n),o=n.getTensorArray(a.id);return o.write(r,s),[o.idTensor]}case"TensorArrayReadV3":{const a=T("tensorArrayId",e,t,n),r=T("index",e,t,n);return[n.getTensorArray(a.id).read(r)]}case"TensorArrayGatherV3":{const a=T("tensorArrayId",e,t,n),r=T("indices",e,t,n),s=T("dtype",e,t,n);return[n.getTensorArray(a.id).gather(r,s)]}case"TensorArrayScatterV3":{const a=T("tensorArrayId",e,t,n),r=T("indices",e,t,n),s=T("tensor",e,t,n),o=n.getTensorArray(a.id);return o.scatter(r,s),[o.idTensor]}case"TensorArrayConcatV3":{const a=T("tensorArrayId",e,t,n),r=n.getTensorArray(a.id),s=T("dtype",e,t,n);return[r.concat(s)]}case"TensorArraySplitV3":{const a=T("tensorArrayId",e,t,n),r=T("tensor",e,t,n),s=T("lengths",e,t,n),o=n.getTensorArray(a.id);return o.split(s,r),[o.idTensor]}case"TensorArraySizeV3":{const a=T("tensorArrayId",e,t,n),r=n.getTensorArray(a.id);return[(0,k.scalar)(r.size(),"int32")]}case"TensorArrayCloseV3":{const a=T("tensorArrayId",e,t,n),r=n.getTensorArray(a.id);return r.clearAndClose(),[r.idTensor]}case"TensorListSetItem":{const a=T("tensorListId",e,t,n),r=T("index",e,t,n),s=T("tensor",e,t,n),o=n.getTensorList(a.id);return o.setItem(r,s),[o.idTensor]}case"TensorListGetItem":{const a=T("tensorListId",e,t,n),r=T("index",e,t,n),s=T("elementShape",e,t,n),o=T("elementDType",e,t,n);return[n.getTensorList(a.id).getItem(r,s,o)]}case"TensorListScatterV2":case"TensorListScatter":{const a=T("indices",e,t,n),r=function(e,t,n,a){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const r=Math.max(...t);if(null!=a&&-1!==a&&r>=a)throw new Error(`Max index must be < array size (${r}  vs. ${a})`);const s=new ct([],n,e.dtype,a),o=(0,k.unstack)(e,0);return t.forEach(((e,t)=>{s.setItem(e,o[t])})),s}(T("tensor",e,t,n),a,T("elementShape",e,t,n),T("numElements",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListReserve":{const o=(a=T("elementShape",e,t,n),r=T("elementDType",e,t,n),s=T("numElements",e,t,n),new ct([],a,r,s));return n.addTensorList(o),[o.idTensor]}case"TensorListGather":{const a=T("tensorListId",e,t,n),r=T("indices",e,t,n),s=T("elementShape",e,t,n),o=T("elementDType",e,t,n);return[n.getTensorList(a.id).gather(r,o,s)]}case"TensorListStack":{const a=T("tensorListId",e,t,n),r=T("elementShape",e,t,n),s=T("elementDType",e,t,n),o=T("numElements",e,t,n);return[n.getTensorList(a.id).stack(r,s,o)]}case"TensorListFromTensor":{const a=function(e,t,n){const a=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);lt(e.shape.slice(1),t,"TensorList shape mismatch: ");const r=(0,k.unstack)(e);return new ct(r,t,a)}(T("tensor",e,t,n),T("elementShape",e,t,n),T("elementDType",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListConcat":{const a=T("tensorListId",e,t,n),r=n.getTensorList(a.id),s=T("dtype",e,t,n),o=T("elementShape",e,t,n);return[r.concat(s,o)]}case"TensorListPushBack":{const a=T("tensorListId",e,t,n),r=T("tensor",e,t,n),s=n.getTensorList(a.id);return s.pushBack(r),[s.idTensor]}case"TensorListPopBack":{const a=T("tensorListId",e,t,n),r=T("elementShape",e,t,n),s=T("elementDType",e,t,n);return[n.getTensorList(a.id).popBack(r,s)]}case"TensorListSplit":{const a=T("tensor",e,t,n),r=T("elementShape",e,t,n),s=function(e,t,n){let a=0;const r=t.map((e=>(a+=e,a)));if(a!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${a}, and tensor's shape is: ${e.shape}`);const s=0===a?0:e.size/a,o=(0,k.tidy)((()=>{const o=[];e=(0,k.reshape)(e,[1,a,s]);for(let a=0;a<t.length;++a){const i=[0,0===a?0:r[a-1],0],u=[1,t[a],s];o[a]=(0,k.reshape)((0,k.slice)(e,i,u),n)}return e.dispose(),o})),i=new ct([],n,e.dtype,t.length);for(let e=0;e<o.length;e++)i.setItem(e,o[e]);return i}(a,T("lengths",e,t,n),r);return n.addTensorList(s),[s.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}var a,r,s})(e,t,n);case"convolution":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"Conv1D":{const a=T("stride",e,t,n),r=T("pad",e,t,n),s=T("dataFormat",e,t,n).toUpperCase(),o=T("dilation",e,t,n);return[ht.P(T("x",e,t,n),T("filter",e,t,n),a,r,s,o)]}case"Conv2D":{const a=T("strides",e,t,n),r=N(e,t,n),s=T("dataFormat",e,t,n).toUpperCase(),o=T("dilations",e,t,n);return[pt.T(T("x",e,t,n),T("filter",e,t,n),[a[1],a[2]],r,s,[o[1],o[2]])]}case"_FusedConv2D":{const{stride:a,pad:r,dataFormat:s,dilations:o,biasArg:i,preluArg:u,activationFunc:l}=wt(e,t,n);return[mt.conv2d({x:T("x",e,t,n),filter:T("filter",e,t,n),strides:[a[1],a[2]],pad:r,dataFormat:s,dilations:[o[1],o[2]],bias:i,activation:l,preluActivationWeights:u})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:r,dataFormat:s,dilations:o,biasArg:i,preluArg:u,activationFunc:l}=wt(e,t,n);return[mt.depthwiseConv2d({x:T("x",e,t,n),filter:T("filter",e,t,n),strides:[a[1],a[2]],pad:r,dataFormat:s,dilations:[o[1],o[2]],bias:i,activation:l,preluActivationWeights:u})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=T("outputShape",e,t,n),r=T("strides",e,t,n),s=N(e,t,n);return[ft.b(T("x",e,t,n),T("filter",e,t,n),a,[r[1],r[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=T("strides",e,t,n),r=N(e,t,n),s=T("dilations",e,t,n),o=T("dataFormat",e,t,n).toUpperCase();return[_t.B(T("input",e,t,n),T("filter",e,t,n),[a[1],a[2]],r,o,[s[1],s[2]])]}case"Conv3D":{const a=T("strides",e,t,n),r=T("pad",e,t,n),s=T("dataFormat",e,t,n).toUpperCase(),o=T("dilations",e,t,n);return[gt.p(T("x",e,t,n),T("filter",e,t,n),[a[1],a[2],a[3]],r,s,[o[1],o[2],o[3]])]}case"AvgPool":{const a=T("strides",e,t,n),r=T("pad",e,t,n),s=T("kernelSize",e,t,n);return[yt.w(T("x",e,t,n),[s[1],s[2]],[a[1],a[2]],r)]}case"MaxPool":{const a=T("strides",e,t,n),r=T("pad",e,t,n),s=T("kernelSize",e,t,n);return[bt._(T("x",e,t,n),[s[1],s[2]],[a[1],a[2]],r)]}case"MaxPoolWithArgmax":{const a=T("strides",e,t,n),r=T("pad",e,t,n),s=T("kernelSize",e,t,n),o=T("includeBatchInIndex",e,t,n),{result:i,indexes:u}=vt.I(T("x",e,t,n),[s[1],s[2]],[a[1],a[2]],r,o);return[i,u]}case"AvgPool3D":{const a=T("strides",e,t,n),r=T("pad",e,t,n),s=T("kernelSize",e,t,n);return[xt.u(T("x",e,t,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],r)]}case"MaxPool3D":{const a=T("strides",e,t,n),r=T("pad",e,t,n),s=T("kernelSize",e,t,n);return[kt.Y(T("x",e,t,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],r)]}case"Dilation2D":{const a=T("strides",e,t,n),r=T("pad",e,t,n),s=T("dilations",e,t,n),o=a[1],i=a[2],u=s[1],l=s[2];return[Mt.W(T("x",e,t,n),T("filter",e,t,n),[o,i],r,[u,l],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"creation":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"Fill":{const a=T("shape",e,t,n),r=T("dtype",e,t,n),s=T("value",e,t,n);return[Tt.h(a,s,r)]}case"LinSpace":{const a=T("start",e,t,n),r=T("stop",e,t,n),s=T("num",e,t,n);return[Lt.S(a,r,s)]}case"Multinomial":{const a=T("logits",e,t,n),r=T("numSamples",e,t,n),s=T("seed",e,t,n);return[St.S(a,r,s)]}case"OneHot":{const a=T("indices",e,t,n),r=T("depth",e,t,n),s=T("onValue",e,t,n),o=T("offValue",e,t,n);return[Dt.l(a,r,s,o)]}case"Ones":return[It.i(T("shape",e,t,n),T("dtype",e,t,n))];case"OnesLike":return[Nt.J(T("x",e,t,n))];case"RandomUniform":return[Ct.L(T("shape",e,t,n),T("minval",e,t,n),T("maxval",e,t,n),T("dtype",e,t,n))];case"Range":{const a=T("start",e,t,n),r=T("stop",e,t,n),s=T("step",e,t,n);return[Et.w(a,r,s,T("dtype",e,t,n))]}case"TruncatedNormal":{const a=T("shape",e,t,n),r=T("mean",e,t,n),s=T("stdDev",e,t,n),o=T("seed",e,t,n);return[At.X(a,r,s,T("dtype",e,t,n),o)]}case"Zeros":return[Yt.l(T("shape",e,t,n),T("dtype",e,t,n))];case"ZerosLike":return[Ft.P(T("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"dynamic":return(async(e,t,n)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:a,scores:r,maxOutputSize:s,iouThreshold:o,scoreThreshold:i,softNmsSigma:u}=Ht(e,t,n),l=await Rt.BHj.nonMaxSuppressionWithScoreAsync(a,r,s,o,i,u);return[l.selectedIndices,l.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:a,scores:r,maxOutputSize:s,iouThreshold:o,scoreThreshold:i}=Ht(e,t,n),u=T("padToMaxOutputSize",e,t,n),l=await Rt.BHj.nonMaxSuppressionPaddedAsync(a,r,s,o,i,u);return[l.selectedIndices,l.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:a,scores:r,maxOutputSize:s,iouThreshold:o,scoreThreshold:i}=Ht(e,t,n);return[await Rt.BHj.nonMaxSuppressionAsync(a,r,s,o,i)]}case"Where":{const a=Ot.p(T("condition",e,t,n),"bool"),r=[await $t.i(a)];return a.dispose(),r}case"ListDiff":return Pt.O(T("x",e,t,n),T("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n);case"evaluation":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"TopKV2":{const a=T("x",e,t,n),r=T("k",e,t,n),s=T("sorted",e,t,n),o=Bt.h(a,r,s);return[o.values,o.indices]}case"Unique":{const a=T("x",e,t,n),r=Wt.T(a);return[r.values,r.indices]}case"UniqueV2":{const a=T("x",e,t,n),r=T("axis",e,t,n),s=Wt.T(a,r);return[s.values,s.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"image":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"ResizeBilinear":{const a=T("images",e,t,n),r=T("size",e,t,n),s=T("alignCorners",e,t,n);return[Rt.BHj.resizeBilinear(a,[r[0],r[1]],s)]}case"ResizeNearestNeighbor":{const a=T("images",e,t,n),r=T("size",e,t,n),s=T("alignCorners",e,t,n);return[Rt.BHj.resizeNearestNeighbor(a,[r[0],r[1]],s)]}case"CropAndResize":{const a=T("image",e,t,n),r=T("boxes",e,t,n),s=T("boxInd",e,t,n),o=T("cropSize",e,t,n),i=T("method",e,t,n),u=T("extrapolationValue",e,t,n);return[Rt.BHj.cropAndResize(a,r,s,o,i,u)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"graph":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const a=T("default",e,t,n);return[L(e.name,t,n)||a];case"Placeholder":return[L(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":return[C(T("x",e,t,n))];case"IdentityN":return T("x",e,t,n).map((e=>C(e)));case"Snapshot":return[C(T("x",e,t,n))];case"Shape":return[zt.R(T("x",e,t,n).shape,"int32")];case"ShapeN":return T("x",e,t,n).map((e=>zt.R(e.shape)));case"Size":return[jt.i(T("x",e,t,n).size,"int32")];case"Rank":return[jt.i(T("x",e,t,n).rank,"int32")];case"NoOp":return[jt.i(1)];case"Print":const r=T("x",e,t,n),s=T("data",e,t,n),o=T("message",e,t,n),i=T("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(o);for(let e=0;e<s.length;e++)console.log(Array.prototype.slice.call(s[e].dataSync()).slice(0,i));return[r];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"logical":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"Equal":return[Ut.D(T("a",e,t,n),T("b",e,t,n))];case"NotEqual":return[Gt.Q(T("a",e,t,n),T("b",e,t,n))];case"Greater":return[qt.p(T("a",e,t,n),T("b",e,t,n))];case"GreaterEqual":return[Xt.b(T("a",e,t,n),T("b",e,t,n))];case"Less":return[Kt.d(T("a",e,t,n),T("b",e,t,n))];case"LessEqual":return[Jt.z(T("a",e,t,n),T("b",e,t,n))];case"LogicalAnd":return[Qt.H(T("a",e,t,n),T("b",e,t,n))];case"LogicalNot":return[Zt.h(T("a",e,t,n))];case"LogicalOr":return[en.K(T("a",e,t,n),T("b",e,t,n))];case"Select":case"SelectV2":return[tn.a(T("condition",e,t,n),T("a",e,t,n),T("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"matrices":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[nn.O(T("a",e,t,n),T("b",e,t,n),T("transposeA",e,t,n),T("transposeB",e,t,n))];case"Transpose":return[an.p(T("x",e,t,n),T("perm",e,t,n))];case"_FusedMatMul":const[a,r]=T("fusedOps",e,t,n),s="biasadd"===a,o="prelu"===r,i=T("numArgs",e,t,n);if(s){if(o&&2!==i)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&1!==i)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,l]=T("args",e,t,n);return[mt.matMul({a:T("a",e,t,n),b:T("b",e,t,n),transposeA:T("transposeA",e,t,n),transposeB:T("transposeB",e,t,n),bias:u,activation:r,preluActivationWeights:l})];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"normalization":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[rn.t(T("x",e,t,n),T("mean",e,t,n),T("variance",e,t,n),T("offset",e,t,n),T("scale",e,t,n),T("epsilon",e,t,n))];case"LRN":return[sn.G(T("x",e,t,n),T("radius",e,t,n),T("bias",e,t,n),T("alpha",e,t,n),T("beta",e,t,n))];case"Softmax":return[on.X(T("x",e,t,n))];case"LogSoftmax":return[un.C(T("x",e,t,n))];case"SparseToDense":return[ln.e(T("sparseIndices",e,t,n),T("outputShape",e,t,n),T("sparseValues",e,t,n),T("defaultValue",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"reduction":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"Max":{const a=T("axis",e,t,n),r=T("keepDims",e,t,n);return[dn.F(T("x",e,t,n),a,r)]}case"Mean":{const a=T("axis",e,t,n),r=T("keepDims",e,t,n);return[cn.J(T("x",e,t,n),a,r)]}case"Min":{const a=T("axis",e,t,n),r=T("keepDims",e,t,n);return[hn.V(T("x",e,t,n),a,r)]}case"Sum":{const a=T("axis",e,t,n),r=T("keepDims",e,t,n);return[pn.S(T("x",e,t,n),a,r)]}case"All":{const a=T("axis",e,t,n),r=T("keepDims",e,t,n);return[mn.$(T("x",e,t,n),a,r)]}case"Any":{const a=T("axis",e,t,n),r=T("keepDims",e,t,n);return[fn.Y(T("x",e,t,n),a,r)]}case"ArgMax":{const a=T("axis",e,t,n);return[_n.N(T("x",e,t,n),a)]}case"ArgMin":{const a=T("axis",e,t,n);return[gn.v(T("x",e,t,n),a)]}case"Prod":{const a=T("axis",e,t,n),r=T("keepDims",e,t,n);return[ot.W(T("x",e,t,n),a,r)]}case"Cumsum":{const a=T("axis",e,t,n),r=T("exclusive",e,t,n),s=T("reverse",e,t,n);return[yn.z(T("x",e,t,n),a,r,s)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"slice_join":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"ConcatV2":case"Concat":{const a=T("n",e,t,n),r=T("axis",e,t,n);let s=T("tensors",e,t,n);return s=s.slice(0,a),[bn.z(s,r)]}case"GatherV2":case"Gather":{const a=T("axis",e,t,n),r=T("x",e,t,n),s=T("indices",e,t,n);return[vn.I(r,Ot.p(s,"int32"),a)]}case"ReverseV2":case"Reverse":{const a=T("axis",e,t,n),r=T("x",e,t,n);return[xn.G(r,a)]}case"Slice":{const a=T("begin",e,t,n),r=T("size",e,t,n);return[kn.t(T("x",e,t,n),a,r)]}case"StridedSlice":{const a=T("begin",e,t,n),r=T("end",e,t,n),s=T("strides",e,t,n),o=T("beginMask",e,t,n),i=T("endMask",e,t,n),u=T("ellipsisMask",e,t,n),l=T("newAxisMask",e,t,n),d=T("shrinkAxisMask",e,t,n),c=T("x",e,t,n);return[Mn.N(c,a,r,s,o,i,u,l,d)]}case"Pack":return(0,k.tidy)((()=>{const a=T("axis",e,t,n),r=T("tensors",e,t,n),s=r[0].shape,o=wn.L(r[0]).shape,i=r.map((e=>{const t=k.util.arraysEqual(e.shape,s);if(!t&&!k.util.arraysEqual(wn.L(e).shape,o))throw new Error("the input tensors shape does not match");return t?e:Tn.X(e,s)}));return[Ln.k(i,a)]}));case"Unpack":{const a=T("axis",e,t,n),r=T("tensor",e,t,n);return Sn.H(r,a)}case"Tile":{const a=T("reps",e,t,n);return[Dn.G(T("x",e,t,n),a)]}case"Split":case"SplitV":{const a=T("axis",e,t,n),r=T("numOrSizeSplits",e,t,n),s=T("x",e,t,n);return In.V(s,r,a)}case"ScatterNd":{const a=T("indices",e,t,n),r=T("values",e,t,n),s=T("shape",e,t,n);return[Nn.s(a,r,s)]}case"GatherNd":{const a=T("x",e,t,n),r=T("indices",e,t,n);return[Cn.d(a,r)]}case"SparseToDense":{const a=T("sparseIndices",e,t,n),r=T("outputShape",e,t,n),s=T("sparseValues",e,t,n),o=T("defaultValue",e,t,n);return[ln.e(a,s,r,s.dtype===o.dtype?o:Ot.p(o,s.dtype))]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"spectral":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"FFT":return[En.k(T("x",e,t,n))];case"IFFT":return[An.S(T("x",e,t,n))];case"RFFT":return[Yn.Q(T("x",e,t,n))];case"IRFFT":return[Fn.w(T("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"transformation":return k.tidy((()=>((e,t,n)=>{switch(e.op){case"Cast":return[Ot.p(T("x",e,t,n),T("dtype",e,t,n))];case"ExpandDims":{const a=T("axis",e,t,n);return[Rn.d(T("x",e,t,n),a)]}case"Squeeze":{const a=T("axis",e,t,n);return[wn.L(T("x",e,t,n),a)]}case"Reshape":return[Tn.X(T("x",e,t,n),T("shape",e,t,n))];case"MirrorPad":return[On.V(T("x",e,t,n),T("padding",e,t,n),T("mode",e,t,n))];case"PadV2":case"Pad":return[$n.v(T("x",e,t,n),T("padding",e,t,n),T("constantValue",e,t,n))];case"SpaceToBatchND":{const a=T("blockShape",e,t,n),r=T("paddings",e,t,n);return[Pn.f(T("x",e,t,n),a,r)]}case"BatchToSpaceND":{const a=T("blockShape",e,t,n),r=T("crops",e,t,n);return[Hn.E(T("x",e,t,n),a,r)]}case"DepthToSpace":{const a=T("blockSize",e,t,n),r=T("dataFormat",e,t,n).toUpperCase();return[Bn.n(T("x",e,t,n),a,r)]}case"BroadcastTo":return[Wn.U(T("x",e,t,n),T("shape",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"hash_table":return(async(e,t,n,a)=>{switch(e.op){case"HashTable":case"HashTableV2":{const r=T("keyDType",e,t,n),s=T("valueDType",e,t,n),o=new Vt(r,s);return a.addHashTable(e.name,o),[o.handle]}case"LookupTableImport":case"LookupTableImportV2":{const r=T("tableHandle",e,t,n,a),s=T("keys",e,t,n),o=T("values",e,t,n),i=a.getHashTableById(r.id);return[await i.import(s,o)]}case"LookupTableFind":case"LookupTableFindV2":{const r=T("tableHandle",e,t,n,a),s=T("keys",e,t,n),o=T("defaultValue",e,t,n),i=a.getHashTableById(r.id);return[await i.find(s,o)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,a);case"custom":const r=w(e.op);if(r&&r.customExecutor)return r.customExecutor(new de(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return k.util.isPromise(r)?r.then((e=>[].concat(e))):[].concat(r)}class jn{constructor(e={},t={},n={},a={}){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function Vn(e,t,n,a){const r=new Set,s=[];let o=null,i=null;const u=new Set,l=Object.keys(e).map((e=>I(e)[0]));let d=[];null!=a&&(d=a.map((e=>I(e.name)[0])));const c=[...t];for(;c.length>0;){const e=c.pop();(Xn(e)||Kn(e)||Jn(e))&&null==o&&(o=e,i=o.children.map((e=>e.name)).filter((e=>r.has(e)))),r.add(e.name),null==n[e.name]&&-1===l.indexOf(e.name)&&-1===d.indexOf(e.name)&&(0!==e.inputs.length?e.inputs.forEach((e=>{u.has(e.name)||(u.add(e.name),c.push(e))})):s.push(e.name))}return{inputs:e,outputs:t,usedNodes:r,missingInputs:s,dynamicNode:o,syncInputs:i}}const Un=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],Gn=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],qn=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2"];function Xn(e){return Un.indexOf(e.op)>=0}function Kn(e){return Gn.indexOf(e.op)>=0}function Jn(e){return qn.indexOf(e.op)>=0}class Qn{constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new Qn(e.functions[t],this)}))}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),a=t.map((e=>e.name)).sort();return n.join(this.SEPERATOR)+"--"+a.join(this.SEPERATOR)}compile(e,t){const n=Vn(e,t,this.weightMap,this._initNodes),{missingInputs:a,dynamicNode:r,syncInputs:s}=n;if(null!=r)throw new Error(`This execution contains the node '${r.name}', which has the dynamic op '${r.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${s}]`);if(a.length>0){const n=t.map((e=>e.name)),r=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${r}]. Missing the following inputs: [${a}]`)}return function(e,t,n){const{usedNodes:a,inputs:r}=n,s=[],o=Object.keys(r).map((e=>I(e)[0])).map((t=>e.nodes[t])),i=e.initNodes;o.forEach((e=>{a.has(e.name)&&s.push(e)})),e.weights.forEach((e=>{a.has(e.name)&&s.push(e)})),null!=i&&i.forEach((e=>{a.has(e.name)&&s.push(e)}));const u=new Set,l=[];for(;s.length>0;){const e=s.pop();u.add(e.name),t[e.name]||l.push(e),e.children.forEach((e=>{!u.has(e.name)&&a.has(e.name)&&e.inputs.every((e=>u.has(e.name)))&&s.push(e)}))}return l}(this.graph,this.weightMap,n)}execute(e,t){e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const a=n.map((e=>this.graph.nodes[I(e)[0]])),r=t.map((e=>I(e)[0]));let s=r.map((e=>this.graph.nodes[e]));0===s.length&&(s=this._outputs);const o=this.getCompilationKey(a,s);let i=this.compiledMap.get(o);null==i&&(i=this.compile(e,s),this.compiledMap.set(o,i));const u={},l={};return(0,k.tidy)((()=>{const n=new jn(this.weightMap,u,l,this.functionExecutorMap),a=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=I(t),s=[];s[r]=e[t],a[n]=s}));const s=this.getFrozenTensorIds(a),o={};for(let e=0;e<i.length;e++){const t=i[e];if(!a[t.name]){const e=zn(t,a,n,this._resourceManager);if(k.util.isPromise(e))throw new Error(`The execution of the op '${t.op}' returned a promise. Please use model.executeAsync() instead.`);a[t.name]=e,this.checkTensorForDisposal(t.name,t,a,n,s,r,o)}}return null==this.parent&&n.dispose(s),t.map((e=>L(e,a,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,a,r,s,o){"control"!==t.category&&-1===s.indexOf(e)&&(n[e].forEach((e=>{null!=e&&(o[e.id]=(o[e.id]||0)+t.children.length)})),t.inputs.forEach((e=>{if("control"!==e.category){const t=function(e,t,n){return t[D(e,n.currentContextId)]}(e.name,n,a);null!=t&&t.forEach((e=>{if(e&&!r.has(e.id)){const t=o[e.id];1===t?(e.dispose(),delete o[e.id]):null!=t&&o[e.id]--}}))}})))}async executeAsync(e,t){return this._executeAsync(e,t)}async _executeAsync(e,t,n=!1,a={},r={}){n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));const s=new jn(this.weightMap,a,r,this.functionExecutorMap),o=await this.executeWithControlFlow(e,s,t,n),i=t.map((e=>L(e,o,s))),u=i.map((e=>e.id)),l=Object.keys(e).map((t=>e[t].id)),d=new Set([...u,...l,...this.weightIds]);return Object.keys(o).forEach((e=>{o[e].forEach((e=>{!e||e.isDisposed||d.has(e.id)||e.dispose()}))})),null==this.parent&&s.dispose(d),i}async executeFunctionAsync(e,t,n){const a=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(a,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,a){const r=Object.keys(e),s=r.map((e=>this.graph.nodes[I(e)[0]])),o=n.map((e=>I(e)[0]));let i=o.map((e=>this.graph.nodes[e]));0===i.length&&(i=this._outputs);const{usedNodes:u,missingInputs:l,dynamicNode:d,syncInputs:c}=Vn(e,i,this.weightMap,this._initNodes),h=[...s,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),p=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,a]=I(t),r=[];r[a]=e[t],p[n]=r}));const m={},f=this.getFrozenTensorIds(p),_={};for(;h.length>0;){const e=this.processStack(s,h,t,p,_,f,o,m,u);await Promise.all(e)}null!=d||a||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const g=i.filter((e=>!Xn(e)&&!L(e.name,p,t))).map((e=>e.name));if(g.length>0){let e="";throw null!=d&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${c}]`),new Error(`Cannot compute the outputs [${g}] from the provided inputs [${r}]. Consider providing the following inputs: [${l}]. ${e}`)}return p}processStack(e,t,n,a,r,s,o,i,u){const l=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let d="";if("Enter"===e.node.op&&T("isConstant",e.node,a,n)&&([d]=S(e.node.name,n)),null==a[e.node.name]){const c=zn(e.node,a,n,this._resourceManager);d||([d]=S(e.node.name,n));const h=n.currentContext;k.util.isPromise(c)?l.push(c.then((l=>(a[d]=l,n.currentContext=h,this.checkTensorForDisposal(d,e.node,a,n,s,o,i),this.processChildNodes(e.node,t,n,a,r,u),l)))):(a[d]=c,this.checkTensorForDisposal(d,e.node,a,n,s,o,i),this.processChildNodes(e.node,t,n,a,r,u))}else this.processChildNodes(e.node,t,n,a,r,u)}return l}processChildNodes(e,t,n,a,r,s){e.children.forEach((e=>{const[o]=S(e.name,n);!r[o]&&s.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!L(e,a,n)))&&(r[o]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!L(e,a,n)))&&(r[o]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[a]=I(t),r=this.graph.nodes[a];if(r.attrParams.shape&&r.attrParams.shape.value){const e=r.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t));k.util.assert(t,(()=>`The shape of dict['${r.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}r.attrParams.dtype&&r.attrParams.dtype.value&&k.util.assert(n.dtype===r.attrParams.dtype.value,(()=>`The dtype of dict['${r.name}'] provided in model.execute(dict) must be ${r.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){const t={};for(const n in e)null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]?t[this._signature.inputs[n].name]=e[n]:t[n]=e[n];return t}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=I(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>null!=this._signature&&null!=this._signature.outputs&&null!=this._signature.outputs[e]?this._signature.outputs[e].name:e),{})}checkOutputs(e){e.forEach((e=>{const[t]=I(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class Zn{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}class ea{constructor(e,t={}){this.modelUrl=e,this.loadOptions=t,this.version="n/a",null==t&&(this.loadOptions={}),this.resourceManager=new Zn}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=k.io.browserHTTPRequest(e,this.loadOptions);else{const t=k.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(k.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}async load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=await this.handler.load();return this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n={};null!=this.artifacts.userDefinedMetadata&&(n=this.artifacts.userDefinedMetadata.signature),this.version=`${t.versions.producer}.${t.versions.minConsumer}`;const a=k.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Qn(X.Instance.transformGraph(t,n)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer){const t=X.Instance.transformGraph(e.modelInitializer);this.initializer=new Qn(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,t){if("string"==typeof e){const t=k.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,t){return this.execute(e,this.outputNodes)}normalizeInputs(e){if(!(e instanceof k.Tensor||Array.isArray(e)))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce(((t,n,a)=>(t[n]=e[a],t)),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function ta(e,t={}){if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&null==e.load&&(e.endsWith("/")||(e+="/"),e=`${e}model.json?tfjs-format=file`);const n=new ea(e,t);return await n.load(),n}function na(e,t,n,a){return new(n||(n=Promise))((function(r,s){function o(e){try{u(a.next(e))}catch(e){s(e)}}function i(e){try{u(a.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}u((a=a.apply(e,t||[])).next())}))}function aa(e,t){var n,a,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&s[0]?a.return:s[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,s[1])).done)return r;switch(a=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,a=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],a=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}}function ra(e){return[Math.abs(e.endPoint[0]-e.startPoint[0]),Math.abs(e.endPoint[1]-e.startPoint[1])]}function sa(e){return[e.startPoint[0]+(e.endPoint[0]-e.startPoint[0])/2,e.startPoint[1]+(e.endPoint[1]-e.startPoint[1])/2]}function oa(e,t){void 0===t&&(t=1.5);var n=sa(e),a=ra(e),r=[t*a[0]/2,t*a[1]/2];return{startPoint:[n[0]-r[0],n[1]-r[1]],endPoint:[n[0]+r[0],n[1]+r[1]],palmLandmarks:e.palmLandmarks}}function ia(e){var t=sa(e),n=ra(e),a=Math.max.apply(Math,n)/2;return{startPoint:[t[0]-a,t[1]-a],endPoint:[t[0]+a,t[1]+a],palmLandmarks:e.palmLandmarks}}function ua(e,t){var n=[e.endPoint[0]-e.startPoint[0],e.endPoint[1]-e.startPoint[1]],a=[n[0]*t[0],n[1]*t[1]];return{startPoint:[e.startPoint[0]+a[0],e.startPoint[1]+a[1]],endPoint:[e.endPoint[0]+a[0],e.endPoint[1]+a[1]],palmLandmarks:e.palmLandmarks}}var la=function(){function e(e,t,n,a,r,s){this.model=e,this.width=t,this.height=n,this.iouThreshold=r,this.scoreThreshold=s,this.anchors=a.map((function(e){return[e.x_center,e.y_center]})),this.anchorsTensor=(0,k.tensor2d)(this.anchors),this.inputSizeTensor=(0,k.tensor1d)([t,n]),this.doubleInputSizeTensor=(0,k.tensor1d)([2*t,2*n])}return e.prototype.normalizeBoxes=function(e){var t=this;return(0,k.tidy)((function(){var n=(0,k.slice)(e,[0,0],[-1,2]),a=(0,k.slice)(e,[0,2],[-1,2]),r=(0,k.add)((0,k.div)(n,t.inputSizeTensor),t.anchorsTensor),s=(0,k.div)(a,t.doubleInputSizeTensor),o=(0,k.mul)((0,k.sub)(r,s),t.inputSizeTensor),i=(0,k.mul)((0,k.add)(r,s),t.inputSizeTensor);return(0,k.concat2d)([o,i],1)}))},e.prototype.normalizeLandmarks=function(e,t){var n=this;return(0,k.tidy)((function(){var a=(0,k.add)((0,k.div)(e.reshape([-1,7,2]),n.inputSizeTensor),n.anchors[t]);return(0,k.mul)(a,n.inputSizeTensor)}))},e.prototype.getBoundingBoxes=function(e){return na(this,void 0,void 0,(function(){var t,n,a,r,s,o,i,u,l,d,c,h,p,m,f,_=this;return aa(this,(function(g){switch(g.label){case 0:return t=(0,k.tidy)((function(){return(0,k.mul)((0,k.sub)(e,.5),2)})),"webgl"===(0,k.getBackend)()?(a=(0,k.env)().get("WEBGL_PACK_DEPTHWISECONV"),(0,k.env)().set("WEBGL_PACK_DEPTHWISECONV",!0),n=this.model.predict(t),(0,k.env)().set("WEBGL_PACK_DEPTHWISECONV",a)):n=this.model.predict(t),r=n.squeeze(),s=(0,k.tidy)((function(){return(0,k.sigmoid)((0,k.slice)(r,[0,0],[-1,1])).squeeze()})),o=(0,k.slice)(r,[0,1],[-1,4]),i=this.normalizeBoxes(o),u=console.warn,console.warn=function(){},l=k.image.nonMaxSuppression(i,s,1,this.iouThreshold,this.scoreThreshold),console.warn=u,[4,l.array()];case 1:return d=g.sent(),c=[t,n,l,r,i,o,s],0===d.length?(c.forEach((function(e){return e.dispose()})),[2,null]):(h=d[0],p=(0,k.slice)(i,[h,0],[1,-1]),m=(0,k.slice)(r,[h,5],[1,14]),f=(0,k.tidy)((function(){return _.normalizeLandmarks(m,h).reshape([-1,2])})),c.push(m),c.forEach((function(e){return e.dispose()})),[2,{boxes:p,palmLandmarks:f}])}}))}))},e.prototype.estimateHandBounds=function(e){return na(this,void 0,void 0,(function(){var t,n,a,r,s,o,i,u,l=this;return aa(this,(function(d){switch(d.label){case 0:return t=e.shape[1],n=e.shape[2],a=(0,k.tidy)((function(){return e.resizeBilinear([l.width,l.height]).div(255)})),[4,this.getBoundingBoxes(a)];case 1:return null===(r=d.sent())?(a.dispose(),[2,null]):(s=r.boxes.arraySync(),o=s[0].slice(0,2),i=s[0].slice(2,4),u=r.palmLandmarks.arraySync(),a.dispose(),r.boxes.dispose(),r.palmLandmarks.dispose(),[2,(c={startPoint:o,endPoint:i,palmLandmarks:u},h=[n/this.width,t/this.height],{startPoint:[c.startPoint[0]*h[0],c.startPoint[1]*h[1]],endPoint:[c.endPoint[0]*h[0],c.endPoint[1]*h[1]],palmLandmarks:c.palmLandmarks.map((function(e){return[e[0]*h[0],e[1]*h[1]]}))})])}var c,h}))}))},e}(),da={thumb:[1,2,3,4],indexFinger:[5,6,7,8],middleFinger:[9,10,11,12],ringFinger:[13,14,15,16],pinky:[17,18,19,20],palmBase:[0]},ca=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]};function ha(e,t){for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[a];return n}function pa(e,t){for(var n=[],a=0;a<e.length;a++)n.push(e[a][t]);return n}function ma(e,t){for(var n=[],a=e.length,r=0;r<a;r++){n.push([]);for(var s=0;s<a;s++)n[r].push(ha(e[r],pa(t,s)))}return n}function fa(e,t){var n=Math.cos(e),a=Math.sin(e),r=[[n,-a,0],[a,n,0],[0,0,1]],s=ma(ca(t[0],t[1]),r);return ma(s,ca(-t[0],-t[1]))}function _a(e,t){return[ha(e,t[0]),ha(e,t[1])]}var ga=[0,-.4],ya=[0,-.1],ba=[0,5,9,13,17,1,2],va=function(){function e(e,t,n,a,r,s){this.regionsOfInterest=[],this.runsWithoutHandDetector=0,this.boundingBoxDetector=e,this.meshDetector=t,this.maxContinuousChecks=r,this.detectionConfidence=s,this.meshWidth=n,this.meshHeight=a,this.maxHandsNumber=1}return e.prototype.getBoxForPalmLandmarks=function(e,t){var n=e.map((function(e){return _a(e.concat([1]),t)}));return oa(ia(ua(this.calculateLandmarksBoundingBox(n),ga)),3)},e.prototype.getBoxForHandLandmarks=function(e){for(var t=oa(ia(ua(this.calculateLandmarksBoundingBox(e),ya)),1.65),n=[],a=0;a<ba.length;a++)n.push(e[ba[a]].slice(0,2));return t.palmLandmarks=n,t},e.prototype.transformRawCoords=function(e,t,n,a){var r,s,o,i,u=this,l=ra(t),d=[l[0]/this.meshWidth,l[1]/this.meshHeight],c=e.map((function(e){return[d[0]*(e[0]-u.meshWidth/2),d[1]*(e[1]-u.meshHeight/2),e[2]]})),h=fa(n,[0,0]),p=c.map((function(e){return _a(e,h).concat([e[2]])})),m=(s=[[(r=a)[0][0],r[1][0]],[r[0][1],r[1][1]]],o=[r[0][2],r[1][2]],i=[-ha(s[0],o),-ha(s[1],o)],[s[0].concat(i[0]),s[1].concat(i[1]),[0,0,1]]),f=sa(t).concat([1]),_=[ha(f,m[0]),ha(f,m[1])];return p.map((function(e){return[e[0]+_[0],e[1]+_[1],e[2]]}))},e.prototype.estimateHand=function(e){return na(this,void 0,void 0,(function(){var t,n,a,r,s,o,i,u,l,d,c,h,p,m,f,_,g,y,b,v;return aa(this,(function(x){switch(x.label){case 0:return!0!==(t=this.shouldUpdateRegionsOfInterest())?[3,2]:[4,this.boundingBoxDetector.estimateHandBounds(e)];case 1:return null===(n=x.sent())?(e.dispose(),this.regionsOfInterest=[],[2,null]):(this.updateRegionsOfInterest(n,!0),this.runsWithoutHandDetector=0,[3,3]);case 2:this.runsWithoutHandDetector++,x.label=3;case 3:return a=this.regionsOfInterest[0],r=function(e,t){var n;return(n=Math.PI/2-Math.atan2(-(t[1]-e[1]),t[0]-e[0]))-2*Math.PI*Math.floor((n+Math.PI)/(2*Math.PI))}(a.palmLandmarks[0],a.palmLandmarks[2]),s=sa(a),o=[s[0]/e.shape[2],s[1]/e.shape[1]],i=k.image.rotateWithOffset(e,r,0,o),u=fa(-r,s),l=!0===t?this.getBoxForPalmLandmarks(a.palmLandmarks,u):a,d=function(e,t,n){var a=t.shape[1],r=t.shape[2],s=[[e.startPoint[1]/a,e.startPoint[0]/r,e.endPoint[1]/a,e.endPoint[0]/r]];return k.image.cropAndResize(t,s,[0],n)}(l,i,[this.meshWidth,this.meshHeight]),c=d.div(255),d.dispose(),i.dispose(),"webgl"===(0,k.getBackend)()?(p=(0,k.env)().get("WEBGL_PACK_DEPTHWISECONV"),(0,k.env)().set("WEBGL_PACK_DEPTHWISECONV",!0),h=this.meshDetector.predict(c),(0,k.env)().set("WEBGL_PACK_DEPTHWISECONV",p)):h=this.meshDetector.predict(c),m=h[0],f=h[1],c.dispose(),_=m.dataSync()[0],m.dispose(),_<this.detectionConfidence?(f.dispose(),this.regionsOfInterest=[],[2,null]):(g=(0,k.reshape)(f,[-1,3]),y=g.arraySync(),f.dispose(),g.dispose(),b=this.transformRawCoords(y,l,r,u),v=this.getBoxForHandLandmarks(b),this.updateRegionsOfInterest(v,!1),[2,{landmarks:b,handInViewConfidence:_,boundingBox:{topLeft:v.startPoint,bottomRight:v.endPoint}}])}}))}))},e.prototype.calculateLandmarksBoundingBox=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{startPoint:[Math.min.apply(Math,t),Math.min.apply(Math,n)],endPoint:[Math.max.apply(Math,t),Math.max.apply(Math,n)]}},e.prototype.updateRegionsOfInterest=function(e,t){if(t)this.regionsOfInterest=[e];else{var n=this.regionsOfInterest[0],a=0;if(null!=n&&null!=n.startPoint){var r=e.startPoint,s=r[0],o=r[1],i=e.endPoint,u=i[0],l=i[1],d=n.startPoint,c=d[0],h=d[1],p=n.endPoint,m=p[0],f=p[1],_=Math.max(s,c),g=Math.max(o,h),y=(Math.min(u,m)-_)*(Math.min(l,f)-g);a=y/((u-s)*(l-o)+(m-c)*(f-o)-y)}this.regionsOfInterest[0]=a>.8?n:e}},e.prototype.shouldUpdateRegionsOfInterest=function(){return this.regionsOfInterest.length!==this.maxHandsNumber||this.runsWithoutHandDetector>=this.maxContinuousChecks},e}();function xa(){return na(this,void 0,void 0,(function(){return aa(this,(function(e){return[2,ta("https://tfhub.dev/mediapipe/tfjs-model/handdetector/1/default/1",{fromTFHub:!0})]}))}))}function ka(){return na(this,void 0,void 0,(function(){return aa(this,(function(e){return[2,ta("https://tfhub.dev/mediapipe/tfjs-model/handskeleton/1/default/1",{fromTFHub:!0})]}))}))}function Ma(){return na(this,void 0,void 0,(function(){return aa(this,(function(e){return[2,k.util.fetch("https://tfhub.dev/mediapipe/tfjs-model/handskeleton/1/default/1/anchors.json?tfjs-format=file").then((function(e){return e.json()}))]}))}))}function wa(e){var t=void 0===e?{}:e,n=t.maxContinuousChecks,a=void 0===n?1/0:n,r=t.detectionConfidence,s=void 0===r?.8:r,o=t.iouThreshold,i=void 0===o?.3:o,u=t.scoreThreshold,l=void 0===u?.5:u;return na(this,void 0,void 0,(function(){var e,t,n,r,o,u;return aa(this,(function(d){switch(d.label){case 0:return[4,Promise.all([Ma(),xa(),ka()])];case 1:return e=d.sent(),t=e[0],n=e[1],r=e[2],o=new la(n,256,256,t,i,l),u=new va(o,r,256,256,a,s),[2,new Ta(u)]}}))}))}var Ta=function(){function e(e){this.pipeline=e}return e.getAnnotations=function(){return da},e.prototype.estimateHands=function(e,t){return void 0===t&&(t=!1),na(this,void 0,void 0,(function(){var n,a,r,s,o,i,u,l,d;return aa(this,(function(c){switch(c.label){case 0:return n=function(e){return e instanceof k.Tensor?[e.shape[0],e.shape[1]]:[e.height,e.width]}(e),a=n[1],r=(0,k.tidy)((function(){return e instanceof k.Tensor||(e=k.browser.fromPixels(e)),e.toFloat().expandDims(0)})),[4,this.pipeline.estimateHand(r)];case 1:if(s=c.sent(),r.dispose(),null===s)return[2,[]];for(o=s,!0===t&&(o=function(e,t){var n=e.handInViewConfidence,a=e.landmarks,r=e.boundingBox;return{handInViewConfidence:n,landmarks:a.map((function(e){return[t-1-e[0],e[1],e[2]]})),boundingBox:{topLeft:[t-1-r.topLeft[0],r.topLeft[1]],bottomRight:[t-1-r.bottomRight[0],r.bottomRight[1]]}}}(s,a)),i={},u=0,l=Object.keys(da);u<l.length;u++)d=l[u],i[d]=da[d].map((function(e){return o.landmarks[e]}));return[2,[{handInViewConfidence:o.handInViewConfidence,boundingBox:o.boundingBox,landmarks:o.landmarks,annotations:i}]]}}))}))},e}()},8166:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var a=n(7533);function r(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&a.util.assert("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}},462:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MathBackendCPU:()=>c,shared:()=>h,version_cpu:()=>p});var a=n(7533),r=n(6377),s=n(8166);const o=a.kernel_impls.nonMaxSuppressionV3Impl,i=a.kernel_impls.split,u=a.kernel_impls.tile,l=a.kernel_impls.topkImpl,d=a.kernel_impls.whereImpl;class c extends a.KernelBackend{constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new a.DataStorage(this,(0,a.engine)())}write(e,t,n){this.firstUse&&(this.firstUse=!1,(0,a.env)().get("IS_NODE")&&a.backend_util.warn("\n============================\nHi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));const r={};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&a.util.isString(n[0])){const s=n.map((e=>a.util.encodeString(e)));r=this.write(s,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}incRef(e){this.data.get(e).refCount++}decRef(e){this.data.has(e)&&this.data.get(e).refCount--}move(e,t,n,a){this.data.set(e,{values:t,dtype:a,refCount:1})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){const e=this.readSync(n.real.dataId),t=this.readSync(n.imag.dataId);return a.backend_util.mergeRealAndImagArrays(e,t)}return this.data.get(e).values}bufferSync(e){const t=this.readSync(e.dataId);let n=t;if("string"===e.dtype)try{n=t.map((e=>a.util.decodeString(e)))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return a.buffer(e.shape,e.dtype,n)}makeOutput(e,t,n){const r=this.write(e,t,n);return(0,a.engine)().makeTensorFromDataId(r,t,n,this)}disposeData(e){if(this.data.has(e)){const{complexTensorInfos:t}=this.data.get(e);null!=t&&(this.disposeData(t.real.dataId),this.disposeData(t.imag.dataId)),this.data.delete(e)}}disposeIntermediateTensorInfo(e){const t=e.dataId;if(this.data.has(t)){const e=this.data.get(t);e.refCount--,e.refCount<1&&this.disposeData(t)}}async time(e){const t=a.util.now();return e(),{kernelMs:a.util.now()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}stridedSlice(e,t,n,r){(0,s.H)(e,"stridedSlice");const o=a.slice_util.computeOutShape(t,n,r);if(o.some((e=>0===e)))return a.tensor([],o);const i=a.buffer(o,e.dtype),u=this.bufferSync(e);for(let e=0;e<i.size;e++){const n=i.indexToLoc(e),a=new Array(n.length);for(let e=0;e<a.length;e++)a[e]=n[e]*r[e]+t[e];i.set(u.get(...a),...n)}return i.toTensor()}diag(e){const t=this.readSync(e.dataId),n=a.buffer([e.size,e.size],e.dtype),r=n.values;for(let n=0;n<t.length;n++)r[n*e.size+n]=t[n];return n.toTensor()}unstack(e,t){const n=e.shape[t],r=new Array(e.rank-1);let s=0;for(let n=0;n<e.rank;n++)n!==t&&(r[s++]=e.shape[n]);const o=new Array(e.rank).fill(0),i=e.shape.slice();i[t]=1;const u=new Array(n);for(let n=0;n<u.length;n++)o[t]=n,u[n]=a.slice(e,o,i).reshape(r);return u}reverse(e,t){(0,s.H)(e,"reverse");const n=a.buffer(e.shape,e.dtype),r=this.bufferSync(e);for(let a=0;a<n.size;a++){const s=n.indexToLoc(a),o=s.slice();t.forEach((t=>o[t]=e.shape[t]-1-o[t])),n.set(r.get(...o),...s)}return n.toTensor()}neg(e){return(0,s.H)(e,"neg"),a.mul(a.scalar(-1),e)}addN(e){(0,s.H)(e,"addN");const t=e.map((e=>this.readSync(e.dataId))),n=a.buffer(e[0].shape,e[0].dtype),r=n.values;for(let n=0;n<e.length;n++){const e=t[n];for(let t=0;t<r.length;t++)r[t]+=e[t]}return n.toTensor()}softmax(e,t){const n=a.util.parseAxisParam([t],e.shape),r=(0,a.max)(e,n),s=a.backend_util.expandShapeToKeepDim(r.shape,n),o=a.sub(e,r.reshape(s)),i=a.exp(o),u=this.sum(i,n).reshape(s);return a.div(i,u)}pow(e,t){return(0,s.H)([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,((e,t)=>Math.pow(e,t)))}floorDiv(e,t){return(0,s.H)([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",((e,t)=>Math.floor(e/t)))}sum(e,t){(0,s.H)(e,"sum"),a.backend_util.assertAxesAreInnerMostDims("sum",t,e.rank);const[n,r]=a.backend_util.computeOutAndReduceShapes(e.shape,t),o=(0,a.upcastType)(e.dtype,"int32"),i=a.zeros(n,o),u=a.util.sizeFromShape(r),l=this.readSync(i.dataId),d=this.readSync(e.dataId);for(let e=0;e<l.length;++e){const t=e*u;let n=0;for(let e=0;e<u;++e)n+=d[t+e];l[e]=n}return i}prod(e,t){(0,s.H)(e,"sum");const[n,r]=a.backend_util.computeOutAndReduceShapes(e.shape,t),o=(0,a.upcastType)(e.dtype,"int32"),i=a.zeros(n,o),u=a.util.sizeFromShape(r),l=this.readSync(i.dataId),d=this.readSync(e.dataId);for(let e=0;e<l.length;++e){const t=e*u;let n=1;for(let e=0;e<u;++e)n*=d[t+e];l[e]=n}return i}unsortedSegmentSum(e,t,n){(0,s.H)(e,"unsortedSegmentSum");const r=[],o=e.rank-t.rank;for(let e=0;e<o;++e)t=t.expandDims(e+1);for(let s=0;s<n;++s){const n=a.scalar(s,"int32"),o=a.equal(n,t).asType("float32").mul(e).sum(0);r.push(o)}return a.stack(r)}argMin(e,t){(0,s.H)(e,"argMin");const n=[t];a.backend_util.assertAxesAreInnerMostDims("argMin",n,e.rank);const[r,o]=a.backend_util.computeOutAndReduceShapes(e.shape,n),i=a.zeros(r,"int32"),u=a.util.sizeFromShape(o),l=this.readSync(i.dataId),d=this.readSync(e.dataId);for(let e=0;e<l.length;++e){const t=e*u;let n=d[t],a=0;for(let e=0;e<u;++e){const r=d[t+e];r<n&&(n=r,a=e)}l[e]=a}return i}argMax(e,t){(0,s.H)(e,"argMax");const n=[t];a.backend_util.assertAxesAreInnerMostDims("argMax",n,e.rank);const[r,o]=a.backend_util.computeOutAndReduceShapes(e.shape,n),i=a.zeros(r,"int32"),u=a.util.sizeFromShape(o),l=this.readSync(i.dataId),d=this.readSync(e.dataId);for(let e=0;e<l.length;++e){const t=e*u;let n=d[t],a=0;for(let e=0;e<u;++e){const r=d[t+e];r>n&&(n=r,a=e)}l[e]=a}return i}cumsum(e,t,n,r){if((0,s.H)(e,"cumsum"),t!==e.rank-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${e.rank-1} but got axis=${t}`);const o=(0,a.upcastType)(e.dtype,"int32"),i=a.zeros(e.shape,o),u=this.readSync(i.dataId),l=this.readSync(e.dataId),d=e.shape[e.rank-1],c=r?(e,t)=>e+d-t-1:(e,t)=>e+t;for(let e=0;e<l.length;e+=d)for(let t=0;t<d;t++){const a=c(e,t);if(0===t)u[a]=n?0:l[a];else{const r=c(e,t-1);u[a]=n?l[r]+u[r]:l[a]+u[r]}}return i}equal(e,t){return(0,s.H)([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",((e,t)=>e===t?1:0))}notEqual(e,t){return(0,s.H)([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",((e,t)=>e!==t?1:0))}less(e,t){return(0,s.H)([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",((e,t)=>e<t?1:0))}lessEqual(e,t){return(0,s.H)([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",((e,t)=>e<=t?1:0))}greater(e,t){return(0,s.H)([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",((e,t)=>e>t?1:0))}greaterEqual(e,t){return(0,s.H)([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",((e,t)=>e>=t?1:0))}logicalAnd(e,t){return(0,s.H)([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",((e,t)=>e&&t))}logicalOr(e,t){return(0,s.H)([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",((e,t)=>e||t))}select(e,t,n){(0,s.H)([e,t,n],"select");const r=this.readSync(e.dataId),o=this.readSync(t.dataId),i=this.readSync(n.dataId),u=a.zeros(t.shape,(0,a.upcastType)(t.dtype,n.dtype)),l=this.readSync(u.dataId);let d=0;const c=0===e.rank||e.rank>1||1===t.rank?1:a.util.sizeFromShape(t.shape.slice(1));for(let e=0;e<r.length;e++)for(let t=0;t<c;t++)1===r[e]?l[d++]=o[e]:l[d++]=i[e];return u}where(e){(0,s.H)([e],"where");const t=this.readSync(e.dataId);return d(e.shape,t)}topk(e,t,n){(0,s.H)(e,"topk");const a=this.readSync(e.dataId);return l(a,e.shape,e.dtype,t,n)}min(e,t){(0,s.H)(e,"min"),a.backend_util.assertAxesAreInnerMostDims("min",t,e.rank);const[n,r]=a.backend_util.computeOutAndReduceShapes(e.shape,t),o=a.zeros(n,e.dtype),i=a.util.sizeFromShape(r),u=this.readSync(o.dataId),l=this.readSync(e.dataId);for(let e=0;e<u.length;++e){const t=e*i;let n=l[t];for(let e=0;e<i;++e){const a=l[t+e];a<n&&(n=a)}u[e]=n}return o}minimum(e,t){return(0,s.H)([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,((e,t)=>Math.min(e,t)))}mod(e,t){return(0,s.H)([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}))}maximum(e,t){return(0,s.H)([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,((e,t)=>Math.max(e,t)))}all(e,t){(0,s.H)(e,"all"),a.backend_util.assertAxesAreInnerMostDims("all",t,e.rank);const[n,r]=a.backend_util.computeOutAndReduceShapes(e.shape,t),o=a.zeros(n,e.dtype),i=a.util.sizeFromShape(r),u=this.readSync(o.dataId),l=this.readSync(e.dataId);for(let e=0;e<u.length;++e){const t=e*i;let n=l[t];for(let e=0;e<i;++e){const a=l[t+e];n=n&&a}u[e]=n}return o}any(e,t){(0,s.H)(e,"any"),a.backend_util.assertAxesAreInnerMostDims("any",t,e.rank);const[n,r]=a.backend_util.computeOutAndReduceShapes(e.shape,t),o=a.zeros(n,e.dtype),i=a.util.sizeFromShape(r),u=this.readSync(o.dataId),l=this.readSync(e.dataId);for(let e=0;e<u.length;++e){const t=e*i;let n=l[t];for(let e=0;e<i;++e){const a=l[t+e];n=n||a}u[e]=n}return o}squaredDifference(e,t){return(0,s.H)([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,((e,t)=>{const n=e-t;return n*n}))}eluDer(e,t){(0,s.H)([e,t],"eluDer");const n=new Float32Array(t.size),a=this.readSync(t.dataId),r=this.readSync(e.dataId);for(let e=0;e<a.length;++e){const t=a[e];n[e]=t>=1?r[e]:r[e]*(t+1)}return this.makeOutput(n,t.shape,"float32")}atan2(e,t){return(0,s.H)([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,((e,t)=>Math.atan2(e,t)))}tile(e,t){return(0,s.H)(e,"tile"),u(this.bufferSync(e),t)}gather(e,t,n){(0,s.H)([e,t],"gather");const r=e.shape.slice(),o=this.readSync(t.dataId);r[n]=o.length;const i=a.buffer(r,e.dtype),u=this.bufferSync(e);for(let e=0;e<i.size;++e){const t=i.indexToLoc(e),a=t.slice();a[n]=o[t[n]];const r=u.locToIndex(a);i.values[e]=u.values[r]}return i.toTensor()}batchToSpaceND(e,t,n){(0,s.H)([e],"batchToSpaceND");const r=t.reduce(((e,t)=>e*t)),o=a.backend_util.getReshaped(e.shape,t,r),i=a.backend_util.getPermuted(o.length,t.length),u=a.backend_util.getReshapedPermuted(e.shape,t,r),l=a.backend_util.getSliceBeginCoords(n,t.length),d=a.backend_util.getSliceSize(u,n,t.length);return a.transpose(e.reshape(o),i).reshape(u).slice(l,d)}pool3d(e,t,n){(0,s.H)(e,"pool3d");const r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,u=t.dilationDepth,l=t.dilationHeight,d=t.dilationWidth,c=t.effectiveFilterDepth,h=t.effectiveFilterHeight,p=t.effectiveFilterWidth,m=t.padInfo.front,f=t.padInfo.top,_=t.padInfo.left,g="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=this.readSync(e.dataId),b=a.buffer(t.outShape,e.dtype),v=b.values,x=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],k=t.outShape[2]*t.outShape[3]*t.outShape[4],M=t.outShape[3]*t.outShape[4],w=t.outShape[4];for(let a=0;a<t.batchSize;++a){const s=a*x,b=a*e.strides[0];for(let a=0;a<t.inChannels;++a)for(let x=0;x<t.outDepth;++x){const T=x*r-m;let L=T;for(;L<0;)L+=u;const S=Math.min(t.inDepth,c+T),D=s+x*k;for(let r=0;r<t.outHeight;++r){const s=r*o-f;let c=s;for(;c<0;)c+=l;const m=Math.min(t.inHeight,h+s),x=D+r*M;for(let r=0;r<t.outWidth;++r){const s=r*i-_;let o=s;for(;o<0;)o+=d;const h=Math.min(t.inWidth,p+s),f=x+r*w;let k=g,M=0,T=0;for(let t=L;t<S;t+=u){const r=b+t*e.strides[1];for(let t=c;t<m;t+=l){const s=r+t*e.strides[2];for(let t=o;t<h;t+=d){const r=y[s+t*e.strides[3]+a];if("max"===n&&r>k?k=r:"avg"===n&&(M+=r,T++),isNaN(k))break}if(isNaN(k))break}if(isNaN(k))break}v[f+a]="avg"===n?M/T:k}}}}return b.toTensor()}avgPool3d(e,t){return(0,s.H)(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()}avgPool3dBackprop(e,t,n){(0,s.H)([e,t],"avgPool3dBackprop");const r=n.strideDepth,o=n.strideHeight,i=n.strideWidth,u=n.filterDepth,l=n.filterHeight,d=n.filterWidth,c=n.dilationDepth,h=n.dilationHeight,p=n.dilationWidth,m=n.effectiveFilterDepth,f=n.effectiveFilterHeight,_=n.effectiveFilterWidth,g=m-1-n.padInfo.front,y=_-1-n.padInfo.left,b=f-1-n.padInfo.top,v=a.buffer(t.shape,"float32"),x=1/(u*l*d),k=this.bufferSync(e);for(let e=0;e<n.batchSize;++e)for(let t=0;t<n.inChannels;++t)for(let a=0;a<n.inDepth;++a)for(let s=0;s<n.inHeight;++s)for(let u=0;u<n.inWidth;++u){const l=a-g,d=s-b,M=u-y;let w=0;for(let a=0;a<m;a+=c){const s=(l+a)/r;if(!(s<0||s>=n.outDepth||Math.floor(s)!==s))for(let a=0;a<f;a+=h){const r=(d+a)/o;if(!(r<0||r>=n.outHeight||Math.floor(r)!==r))for(let a=0;a<_;a+=p){const o=(M+a)/i;o<0||o>=n.outWidth||Math.floor(o)!==o||(w+=k.get(e,s,r,o,t))}}}v.set(w*x,e,a,s,u,t)}return v.toTensor()}maxPool3d(e,t){return(0,s.H)(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()}maxPool3dPositions(e,t){const n=a.buffer(t.outShape,"int32"),r=t.strideDepth,s=t.strideHeight,o=t.strideWidth,i=t.dilationDepth,u=t.dilationHeight,l=t.dilationWidth,d=t.effectiveFilterDepth,c=t.effectiveFilterHeight,h=t.effectiveFilterWidth,p=t.padInfo.front,m=t.padInfo.top,f=t.padInfo.left,_=this.bufferSync(e);for(let e=0;e<t.batchSize;++e)for(let a=0;a<t.inChannels;++a)for(let g=0;g<t.outDepth;++g){const y=g*r-p;let b=y;for(;b<0;)b+=i;const v=Math.min(t.inDepth,d+y);for(let r=0;r<t.outHeight;++r){const d=r*s-m;let p=d;for(;p<0;)p+=u;const x=Math.min(t.inHeight,c+d);for(let s=0;s<t.outWidth;++s){const m=s*o-f;let k=m;for(;k<0;)k+=l;const M=Math.min(t.inWidth,h+m);let w=Number.NEGATIVE_INFINITY,T=-1;for(let t=b;t<v;t+=i){const n=t-y;for(let r=p;r<x;r+=u){const s=r-d;for(let o=k;o<M;o+=l){const i=o-m,u=_.get(e,t,r,o,a);u>=w&&(w=u,T=n*c*h+s*c+i)}}}n.set(T,e,g,r,s,a)}}}return n.toTensor()}maxPool3dBackprop(e,t,n,r){(0,s.H)([t,n],"maxPool3dBackprop");const o=this.maxPool3dPositions(t,r),i=r.strideDepth,u=r.strideHeight,l=r.strideWidth,d=r.dilationDepth,c=r.dilationHeight,h=r.dilationWidth,p=r.effectiveFilterDepth,m=r.effectiveFilterHeight,f=r.effectiveFilterWidth,_=p-1-r.padInfo.front,g=f-1-r.padInfo.left,y=m-1-r.padInfo.top,b=a.buffer(t.shape,"float32"),v=this.bufferSync(o),x=this.bufferSync(e);for(let e=0;e<r.batchSize;++e)for(let t=0;t<r.inChannels;++t)for(let n=0;n<r.inDepth;++n)for(let a=0;a<r.inHeight;++a)for(let s=0;s<r.inWidth;++s){const o=n-_,k=a-y,M=s-g;let w=0;for(let n=0;n<p;n+=d){const a=(o+n)/i;if(!(a<0||a>=r.outDepth||Math.floor(a)!==a))for(let s=0;s<m;s+=c){const o=(k+s)/u;if(!(o<0||o>=r.outHeight||Math.floor(o)!==o))for(let i=0;i<f;i+=h){const u=(M+i)/l;if(u<0||u>=r.outWidth||Math.floor(u)!==u)continue;const d=p*m*f-1-v.get(e,a,o,u,t)===n*m*f+s*f+i?1:0;0!==d&&(w+=x.get(e,a,o,u,t)*d)}}}b.set(w,e,n,a,s,t)}return b.toTensor()}resizeBilinear(e,t,n,r){(0,s.H)(e,"resizeBilinear");const[o,i,u,l]=e.shape,d=this.readSync(e.dataId),c=new Float32Array(a.util.sizeFromShape([o,t,n,l])),h=[r&&t>1?i-1:i,r&&n>1?u-1:u],p=[r&&t>1?t-1:t,r&&n>1?n-1:n];let m=0;const f=h[0]/p[0],_=h[1]/p[1];for(let a=0;a<o;a++)for(let r=0;r<t;r++){const t=f*r,s=Math.floor(t),o=t-s,h=Math.min(i-1,Math.ceil(t)),p=a*e.strides[0]+s*e.strides[1],g=a*e.strides[0]+h*e.strides[1];for(let t=0;t<n;t++){const n=_*t,a=Math.floor(n),r=n-a,s=Math.min(u-1,Math.ceil(n)),i=p+a*e.strides[2],h=g+a*e.strides[2],f=p+s*e.strides[2],y=g+s*e.strides[2];for(let e=0;e<l;e++){const t=d[i+e],n=d[h+e],a=t+(d[f+e]-t)*r,s=a+(n+(d[y+e]-n)*r-a)*o;c[m++]=s}}}return a.tensor(c,[o,t,n,l])}resizeBilinearBackprop(e,t,n){(0,s.H)([e,t],"resizeBilinearBackprop");const[r,o,i,u]=t.shape,[,l,d]=e.shape,c=new Float32Array(r*o*i*u),h=[n&&l>1?o-1:o,n&&d>1?i-1:i],p=[n&&l>1?l-1:l,n&&d>1?d-1:d],m=h[0]/p[0],f=h[1]/p[1],_=this.readSync(e.dataId);let g=0;for(let e=0;e<r;e++){const n=e*t.strides[0];for(let e=0;e<l;e++){const a=e*m,r=Math.floor(a),s=Math.min(Math.ceil(a),o-1),l=n+r*t.strides[1],h=n+s*t.strides[1],p=a-r,y=1-p;for(let e=0;e<d;e++){const n=e*f,a=Math.floor(n),r=Math.min(Math.ceil(n),i-1),s=n-a,o=1-s,d=l+a*t.strides[2],m=l+r*t.strides[2],b=h+a*t.strides[2],v=h+r*t.strides[2],x=y*o,k=y*s,M=p*o,w=p*s;for(let e=0;e<u;e++){const t=_[g++];c[d+e]+=t*x,c[m+e]+=t*k,c[b+e]+=t*M,c[v+e]+=t*w}}}}return a.tensor4d(c,[r,i,o,u],t.dtype)}resizeNearestNeighbor(e,t,n,r){(0,s.H)(e,"resizeNearestNeighbor");const[o,i,u,l]=e.shape,d=this.readSync(e.dataId),c=new Float32Array(o*t*n*l),h=[r&&t>1?i-1:i,r&&n>1?u-1:u],p=[r&&t>1?t-1:t,r&&n>1?n-1:n],m=h[0]/p[0],f=h[1]/p[1];let _=0;for(let a=0;a<o;a++){const s=a*e.strides[0];for(let a=0;a<t;a++){const t=m*a,o=s+Math.min(i-1,r?Math.round(t):Math.floor(t))*e.strides[1];for(let t=0;t<n;t++){const n=f*t,a=o+Math.min(u-1,r?Math.round(n):Math.floor(n))*e.strides[2];for(let e=0;e<l;e++){const t=d[a+e];c[_++]=t}}}}return a.tensor(c,[o,t,n,l],e.dtype)}resizeNearestNeighborBackprop(e,t,n){(0,s.H)([e,t],"resizeNearestNeighborBackprop");const[r,o,i,u]=t.shape,[,l,d]=e.shape,c=new Float32Array(r*o*i*u),h=this.readSync(e.dataId),p=[n&&l>1?o-1:o,n&&d>1?i-1:i],m=[n&&l>1?l-1:l,n&&d>1?d-1:d],f=p[0]/m[0],_=p[1]/m[1],g=1/f,y=1/_,b=2*Math.ceil(g)+2,v=2*Math.ceil(y)+2;for(let a=0;a<r;a++){const r=a*t.strides[0];for(let a=0;a<o;a++){const s=r+a*t.strides[1],p=Math.floor(a*g),m=Math.floor(p-b/2);for(let p=0;p<i;p++){const g=s+p*t.strides[2],x=Math.floor(p*y),k=Math.floor(x-v/2);for(let t=0;t<u;t++){let s=0;for(let u=0;u<b;u++){const c=u+m;if(c<0||c>=l)continue;const g=r+c*e.strides[1],y=c*f;if(a===Math.min(o-1,n?Math.round(y):Math.floor(y)))for(let a=0;a<v;a++){const r=a+k;if(r<0||r>=d)continue;const o=g+r*e.strides[2],u=r*_;p===Math.min(i-1,n?Math.round(u):Math.floor(u))&&(s+=h[o+t])}}c[g+t]=s}}}}return a.tensor4d(c,t.shape,t.dtype)}localResponseNormalization4D(e,t,n,r,o){(0,s.H)(e,"localResponseNormalization4D");const i=e.shape[3],u=i-1,l=this.readSync(e.dataId),d=e.size,c=new Float32Array(d);function h(e){const n=e%i;let a=e-n+Math.max(0,n-t);const r=e-n+Math.min(n+t,u);let s=0;for(;a<=r;a++){const e=l[a];s+=e*e}return s}for(let e=0;e<d;e++){const t=h(e),a=l[e]*Math.pow(n+r*t,-o);c[e]=a}return a.tensor4d(c,e.shape)}LRNGrad(e,t,n,r,o,i,u){(0,s.H)(e,"LRNGrad");const l=e.shape[3],d=this.readSync(e.dataId),c=this.readSync(t.dataId),h=this.readSync(n.dataId),p=new Float32Array(e.size),m=e.size;for(let e=0;e<m;e++){const t=e%l,n=e-t+Math.max(0,t-r),a=e-t+Math.min(l,t+r+1);let s=0;for(let e=n;e<a;e++)s+=Math.pow(c[e],2);s=i*s+o;for(let t=n;t<a;t++){let n=-2*i*u*c[t]*h[e]/s;e===t&&(n+=Math.pow(s,-u)),n*=d[e],p[t]+=n}}return a.tensor4d(p,e.shape)}multinomial(e,t,n,o){(0,s.H)(e,"multinomial");const i=t?e:a.softmax(e),u=i.shape[0],l=i.shape[1],d=a.zeros([u,n],"int32"),c=this.readSync(d.dataId),h=this.readSync(i.dataId);for(let e=0;e<u;++e){const t=e*l,a=new Float32Array(l-1);a[0]=h[t];for(let e=1;e<a.length;++e)a[e]=a[e-1]+h[t+e];const s=r.alea(o.toString()),i=e*n;for(let e=0;e<n;++e){const t=s();c[i+e]=a.length;for(let n=0;n<a.length;n++)if(t<a[n]){c[i+e]=n;break}}}return d}oneHot(e,t,n,r){(0,s.H)(e,"oneHot");const o=new Float32Array(e.size*t);o.fill(r);const i=this.readSync(e.dataId);for(let a=0;a<e.size;++a)i[a]>=0&&i[a]<t&&(o[a*t+i[a]]=n);return a.tensor2d(o,[e.size,t],"int32")}nonMaxSuppression(e,t,n,a,r){(0,s.H)(e,"nonMaxSuppression");const i=this.readSync(e.dataId),u=this.readSync(t.dataId);return o(i,u,n,a,r)}depthToSpace(e,t,n){a.util.assert("NHWC"===n,(()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${n}`)),a.util.assert(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`));const r=e.shape[0],s=e.shape[1],o=e.shape[2],i=e.shape[3],u=s*t,l=o*t,d=i/(t*t),c=this.readSync(e.dataId),h=new Float32Array(r*u*l*d);let p=0;for(let e=0;e<r;++e)for(let n=0;n<u;++n){const a=Math.floor(n/t),r=n%t;for(let n=0;n<l;++n){const u=Math.floor(n/t),l=(r*t+n%t)*d;for(let t=0;t<d;++t){const n=t+l+i*(u+o*(a+s*e));h[p++]=c[n]}}}return a.tensor4d(h,[r,u,l,d])}broadcastedBinaryOp(e,t,n,r){const s=a.backend_util.assertAndGetBroadcastShape(e.shape,t.shape),o=a.buffer(s,n),i=this.readSync(e.dataId),u=this.readSync(t.dataId),l=a.backend_util.getBroadcastDims(e.shape,s),d=a.backend_util.getBroadcastDims(t.shape,s),c=o.values;if(l.length+d.length===0)for(let e=0;e<c.length;++e)c[e]=r(i[e%i.length],u[e%u.length]);else{const n=this.bufferSync(e),a=this.bufferSync(t);for(let s=0;s<c.length;++s){const h=o.indexToLoc(s),p=h.slice(-e.rank);l.forEach((e=>p[e]=0));const m=n.locToIndex(p),f=h.slice(-t.rank);d.forEach((e=>f[e]=0));const _=a.locToIndex(f);c[s]=r(i[m],u[_])}}return o.toTensor()}split(e,t,n){return i(e,t,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}cropAndResize(e,t,n,r,s,o){const[i,u,l,d]=e.shape,c=t.shape[0],[h,p]=r,m=a.buffer([c,h,p,d],"float32"),f=this.readSync(t.dataId),_=this.readSync(n.dataId),g=this.readSync(e.dataId),y=e.strides,b=m.strides;for(let e=0;e<c;e++){const t=4*e,n=f[t],a=f[t+1],r=f[t+2],c=f[t+3],v=_[e];if(v>=i)continue;const x=h>1?(r-n)*(u-1)/(h-1):0,k=p>1?(c-a)*(l-1)/(p-1):0;for(let t=0;t<h;t++){const i=h>1?n*(u-1)+t*x:.5*(n+r)*(u-1);if(i<0||i>u-1)for(let n=0;n<p;n++)for(let a=0;a<d;a++){const r=a+n*b[2]+t*b[1]+e*b[0];m.values[r]=o}else if("bilinear"===s){const n=Math.floor(i),r=Math.ceil(i),s=i-n;for(let i=0;i<p;i++){const u=p>1?a*(l-1)+i*k:.5*(a+c)*(l-1);if(u<0||u>l-1){for(let n=0;n<d;n++){const a=n+i*b[2]+t*b[1]+e*b[0];m.values[a]=o}continue}const h=Math.floor(u),f=Math.ceil(u),_=u-h;for(let a=0;a<d;a++){let o=a+h*y[2]+n*y[1]+v*y[0];const u=g[o];o=a+f*y[2]+n*y[1]+v*y[0];const l=g[o];o=a+h*y[2]+r*y[1]+v*y[0];const d=g[o];o=a+f*y[2]+r*y[1]+v*y[0];const c=u+(l-u)*_,p=d+(g[o]-d)*_;o=a+i*b[2]+t*b[1]+e*b[0],m.values[o]=c+(p-c)*s}}}else for(let n=0;n<p;++n){const r=p>1?a*(l-1)+n*k:.5*(a+c)*(l-1);if(r<0||r>l-1){for(let a=0;a<d;a++){const r=a+n*b[2]+t*b[1]+e*b[0];m.values[r]=o}continue}const s=Math.round(r),u=Math.round(i);for(let a=0;a<d;a++){const r=a+s*y[2]+u*y[1]+v*y[0],o=a+n*b[2]+t*b[1]+e*b[0];m.values[o]=g[r]}}}}return m.toTensor()}sparseToDense(e,t,n,r){const{sliceRank:s,numUpdates:o,sliceSize:i,strides:u,outputSize:l}=a.backend_util.calculateShapes(t,e,n);return this.scatter(e,t,n,l,i,o,s,u,r,!1)}gatherND(e,t){const n=t.shape,r=n[n.length-1],[s,o,i,u]=a.backend_util.prepareAndValidate(e,t);if(0===o)return a.tensor([],s,e.dtype);const l=new a.TensorBuffer([o,i],e.dtype),d=this.readSync(t.dataId),c=this.readSync(e.dataId);for(let t=0;t<o;t++){const n=[];let a=0;for(let e=0;e<r;e++){const s=d[t*r+e];a+=s*u[e],n.push(s)}if(a<0||a>=e.size/i)throw new Error(`Invalid indices: ${n} does not index into ${e.shape}`);for(let e=0;e<i;e++)l.values[t*i+e]=c[a*i+e]}return l.toTensor().reshape(s)}scatterND(e,t,n){const{sliceRank:r,numUpdates:s,sliceSize:o,strides:i,outputSize:u}=a.backend_util.calculateShapes(t,e,n),l=a.scalar(0);return this.scatter(e,t,n,u,o,s,r,i,l,!0)}onesLike(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return a.fill(e.shape,1,e.dtype)}zerosLike(e){const t=a.util.getArrayFromDType(e.dtype,a.util.sizeFromShape(e.shape));return this.makeOutput(t,e.shape,e.dtype)}linspace(e,t,n){return a.backend_util.linspaceImpl(e,t,n)}scatter(e,t,n,r,s,o,i,u,l,d){const c=[r/s,s],h=this.readSync(e.dataId),p=this.readSync(t.dataId);if(0===r)return a.tensor([],n,t.dtype);const m=new a.TensorBuffer(c,t.dtype);m.values.fill(this.readSync(l.dataId)[0]);for(let e=0;e<o;e++){const a=[];let o=0;for(let t=0;t<i;t++){const n=h[e*i+t];a.push(n),o+=n*u[t]}if(o<0||o>=r/s)throw new Error(`Invalid indices: ${a} does not index into ${n}`);for(let n=0;n<s;n++)d?m.values[o*s+n]+=p[e*s+n]:m.values[o*s+n]=0===t.rank?p[0]:p[e*s+n]}return m.toTensor().reshape(n)}}var h=n(5226);const p="2.7.0";(0,a.registerBackend)("cpu",(()=>new c),1);var m=n(6738);const f=(0,m.A)(a.Elu,(e=>e>=0?e:Math.exp(e)-1)),_={kernelName:a.Elu,backendName:"cpu",kernelFunc:f};var g=n(1775),y=n(3533);const b=(0,y.b)(((e,t)=>e<0?t*e:e));function v(e){const{inputs:t,backend:n}=e,{x:a,alpha:r}=t;(0,s.H)([a,r],"prelu");const o=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values,[u,l]=b(a.shape,r.shape,o,i,a.dtype);return n.makeTensorInfo(l,a.dtype,u)}const x={kernelName:a.Prelu,backendName:"cpu",kernelFunc:v},k=(0,m.A)(a.Relu,(e=>Math.max(0,e))),M={kernelName:a.Relu,backendName:"cpu",kernelFunc:k},w=(0,m.A)(a.Relu6,(e=>Math.min(Math.max(0,e),6))),T={kernelName:a.Relu6,backendName:"cpu",kernelFunc:w};function L(e,t,n,a){if("linear"===n)return(0,g.y)({inputs:{x:t},backend:e});if("relu"===n)return k({inputs:{x:t},backend:e});if("elu"===n)return f({inputs:{x:t},backend:e});if("relu6"===n)return w({inputs:{x:t},backend:e});if("prelu"===n)return v({inputs:{x:t,alpha:a},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}var S=n(2779);function D(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{shape:o}=r,i=a.util.sizeFromShape(s.shape),u=a.util.inferFromImplicitShape(o,i),l=a.util.sizeFromShape(u);a.util.assert(i===l,(()=>`The new shape (${u}) has ${l} elements and the old shape (${s.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`)),n.incRef(s.dataId);const d=n.data.get(s.dataId);if(null!=d.complexTensorInfos){const e=d.complexTensorInfos.real,t=d.complexTensorInfos.imag;e.shape=u,t.shape=u}return{dataId:s.dataId,shape:u,dtype:s.dtype}}const I={kernelName:a.Reshape,backendName:"cpu",kernelFunc:D};function N(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:i}=t,{transposeA:u,transposeB:l}=r;(0,s.H)([o,i],"matMul");const d=o.shape.length,c=i.shape.length,h=u?o.shape[d-2]:o.shape[d-1],p=l?i.shape[c-1]:i.shape[c-2],m=u?o.shape[d-1]:o.shape[d-2],f=l?i.shape[c-2]:i.shape[c-1],_=o.shape.slice(0,-2),g=i.shape.slice(0,-2),y=a.util.sizeFromShape(_),b=a.util.sizeFromShape(g),v=y===b||1===y||1===b;a.util.assert(d>=2&&c>=2&&v,(()=>`Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input batch dimensions of (${_}) and (${g}).`));const x=(y>b?o.shape.slice(0,-2):i.shape.slice(0,-2)).concat([m,f]);a.util.assert(h===p,(()=>`Error in matMul: inner shapes (${h}) and (${p}) of Tensors with shapes ${o.shape} and ${i.shape} and transposeA=${u} and transposeB=${l} must match.`));const k=l?[b,f,p]:[b,p,f],M=D({inputs:{x:o},backend:n,attrs:{shape:u?[y,h,m]:[y,m,h]}}),w=D({inputs:{x:i},backend:n,attrs:{shape:k}}),T=u?M.shape[1]:M.shape[2],L=u?M.shape[2]:M.shape[1],S=l?w.shape[1]:w.shape[2],I=Math.max(y,b),N=n.data.get(M.dataId).values,C=n.data.get(w.dataId).values,E=a.util.computeStrides(M.shape),A=a.util.computeStrides(w.shape),[Y,F,R]=u?[E[0],1,E[1]]:[E[0],E[1],1],[O,$,P]=l?[1,A[1],A[0]]:[A[1],1,A[0]],H=L*S,B=(0,a.buffer)([I,L,S],M.dtype),W=B.values,z=n.blockSize;for(let e=0;e<I;e++)for(let t=0;t<L;t+=z)for(let n=0;n<S;n+=z)for(let a=0;a<T;a+=z){const r=Math.min(t+z,L),s=Math.min(n+z,S),o=Math.min(a+z,T);for(let i=t;i<r;i++)for(let t=n;t<s;t++){let n=0;for(let r=a;r<o;r++){const a=Math.min(e,y-1)*Y,s=Math.min(e,b-1)*P;n+=N[a+i*F+r*R]*C[r*O+t*$+s]}W[e*H+(i*S+t)]+=n}}return n.disposeIntermediateTensorInfo(M),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(x,B.dtype,B.values)}const C={kernelName:a.BatchMatMul,backendName:"cpu",kernelFunc:N},E={kernelName:a._FusedMatMul,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:s,bias:o,preluActivationWeights:i}=t,{transposeA:u,transposeB:l,activation:d}=a;let c,h,p;const m=[];c=N({inputs:{a:r,b:s},attrs:{transposeA:u,transposeB:l},backend:n}),o&&(h=(0,S.IH)({inputs:{a:c,b:o},backend:n}),m.push(c),c=h),d&&(p=L(n,c,d,i),m.push(c),c=p);for(const e of m)n.disposeIntermediateTensorInfo(e);return c}};var A=n(224);const Y=(0,m.A)(a.Acos,(e=>Math.acos(e))),F={kernelName:a.Acos,backendName:"cpu",kernelFunc:Y},R=(0,m.A)(a.Acosh,(e=>Math.acosh(e))),O={kernelName:a.Acosh,backendName:"cpu",kernelFunc:R},$=(0,m.A)(a.Asin,(e=>Math.asin(e))),P={kernelName:a.Asin,backendName:"cpu",kernelFunc:$},H=(0,m.A)(a.Asinh,(e=>Math.asinh(e))),B={kernelName:a.Asinh,backendName:"cpu",kernelFunc:H},W=(0,m.A)(a.Atan,(e=>Math.atan(e))),z={kernelName:a.Atan,backendName:"cpu",kernelFunc:W},j=(0,m.A)(a.Atanh,(e=>Math.atanh(e))),V={kernelName:a.Atanh,backendName:"cpu",kernelFunc:j};function U(e,t,n,r,s,o){const i=s.strideHeight,u=s.strideWidth,l=s.dilationHeight,d=s.dilationWidth,c=s.effectiveFilterHeight,h=s.effectiveFilterWidth,p=s.padInfo.top,m=s.padInfo.left,f="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,_=(0,a.buffer)(s.outShape,n),g=_.values,y=s.outShape[1]*s.outShape[2]*s.outShape[3],b=s.outShape[2]*s.outShape[3],v=s.outShape[3];for(let t=0;t<s.batchSize;++t){const n=t*y,a=t*r[0];for(let t=0;t<s.inChannels;++t)for(let _=0;_<s.outHeight;++_){const y=_*i-p,x=Math.max(0,y),k=Math.min(s.inHeight,c+y),M=n+_*b;for(let n=0;n<s.outWidth;++n){const i=n*u-m,c=Math.max(0,i),p=Math.min(s.inWidth,h+i);let _=f,y=0,b=0;for(let n=x;n<k;n+=l){const s=a+n*r[1];for(let n=c;n<p;n+=d){const a=e[s+n*r[2]+t];"max"===o&&a>_?_=a:"avg"===o&&(y+=a,b++)}if(isNaN(_))break}g[M+n*v+t]="avg"===o?y/b:_}}}return _}function G(e,t,n,r,s=!1,o=!1){const i=(0,a.buffer)(r.outShape,"int32"),u=r.strideHeight,l=r.strideWidth,d=r.dilationHeight,c=r.dilationWidth,h=r.effectiveFilterHeight,p=r.effectiveFilterWidth,m=r.padInfo.top,f=r.padInfo.left,_=(0,a.buffer)(t,n,e);for(let e=0;e<r.batchSize;++e)for(let t=0;t<r.inChannels;++t)for(let n=0;n<r.outHeight;++n){const a=n*u-m;let g=a;for(;g<0;)g+=d;const y=Math.min(r.inHeight,h+a);for(let u=0;u<r.outWidth;++u){const h=u*l-f;let m=h;for(;m<0;)m+=c;const b=Math.min(r.inWidth,p+h);let v=Number.NEGATIVE_INFINITY,x=-1;for(let n=g;n<y;n+=d){const i=n-a;for(let a=m;a<b;a+=c){const u=a-h,l=_.get(e,n,a,t);l>v&&(v=l,x=s?o?((e*r.inHeight+n)*r.inWidth+a)*r.inChannels+t:(n*r.inWidth+a)*r.inChannels+t:i*p+u)}}i.set(x,e,n,u,t)}}return i}const q={kernelName:a.AvgPool,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;(0,s.H)(o,"avgPool");const{filterSize:i,strides:u,pad:l,dimRoundingMode:d}=r;a.util.assert(a.backend_util.eitherStridesOrDilationsAreOne(u,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${u} and dilations '1'`));const c=a.backend_util.computePool2DInfo(o.shape,i,u,1,l,d);let h;if(1===c.filterWidth&&1===c.filterHeight&&a.util.arraysEqual(c.inShape,c.outShape))h=(0,g.y)({inputs:{x:o},backend:n});else{const e=n.data.get(o.dataId).values,t=a.util.computeStrides(o.shape),r=U(e,o.shape,o.dtype,t,c,"avg");h=n.makeTensorInfo(c.outShape,o.dtype,r.values)}return h}},X={kernelName:a.AvgPoolBackprop,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,u=i;(0,s.H)([o,i],"avgPoolBackprop");const{filterSize:l,strides:d,pad:c}=r,h=a.backend_util.computePool2DInfo(u.shape,l,d,1,c),p=h.strideHeight,m=h.strideWidth,f=h.filterHeight,_=h.filterWidth,g=h.dilationHeight,y=h.dilationWidth,b=h.effectiveFilterHeight,v=h.effectiveFilterWidth,x=v-1-h.padInfo.left,k=b-1-h.padInfo.top,M=(0,a.buffer)(u.shape,"float32"),w=1/(f*_),T=n.data.get(o.dataId).values,L=(0,a.buffer)(o.shape,"float32",T);for(let e=0;e<h.batchSize;++e)for(let t=0;t<h.inChannels;++t)for(let n=0;n<h.inHeight;++n)for(let a=0;a<h.inWidth;++a){const r=n-k,s=a-x;let o=0;for(let n=0;n<b;n+=g){const a=(r+n)/p;if(!(a<0||a>=h.outHeight||Math.floor(a)!==a))for(let n=0;n<v;n+=y){const r=(s+n)/m;r<0||r>=h.outWidth||Math.floor(r)!==r||(o+=L.get(e,a,r,t))}}M.set(o*w,e,n,a,t)}return n.makeTensorInfo(M.shape,M.dtype,M.values)}},K={kernelName:a.FusedBatchNorm,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,scale:i,offset:u,mean:l,variance:d}=t;a.util.assert(l.shape.length===d.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),a.util.assert(null==u||l.shape.length===u.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),a.util.assert(null==i||l.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),(0,s.H)([o,l,d,i,u],"batchNorm");let{varianceEpsilon:c}=r;null==c&&(c=.001);const h=n.data.get(o.dataId).values,p=n.data.get(l.dataId).values,m=n.data.get(d.dataId).values,f=i?n.data.get(i.dataId).values:new Float32Array([1]),_=u?n.data.get(u.dataId).values:new Float32Array([0]),g=new Float32Array(h.length),y=_.length,b=f.length,v=m.length,x=p.length;let k=0,M=0,w=0,T=0;for(let e=0;e<h.length;++e)g[e]=_[k++]+(h[e]-p[M++])*f[w++]/Math.sqrt(m[T++]+c),k>=y&&(k=0),M>=x&&(M=0),w>=b&&(w=0),T>=v&&(T=0);return n.makeTensorInfo(o.shape,o.dtype,g)}};var J=n(9258),Q=n(4769);const Z=(0,m.A)(a.ClipByValue,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),ee={kernelName:a.ClipByValue,backendName:"cpu",kernelFunc:Z};var te=n(6961);function ne(e){const{inputs:t,backend:n}=e,{input:a}=t,r=n.data.get(a.dataId).complexTensorInfos.imag,s=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,s)}const ae={kernelName:a.Imag,backendName:"cpu",kernelFunc:ne};var re=n(2186);function se(e){const{inputs:t,backend:n,attrs:r}=e,{axis:s}=r,o=a.util.parseAxisParam(s,t[0].shape)[0];let i=a.backend_util.computeOutShape(t.map((e=>e.shape)),o);if(0===a.util.sizeFromShape(i))return n.makeTensorInfo(i,t[0].dtype,[]);const u=t.filter((e=>a.util.sizeFromShape(e.shape)>0));if(1===u.length)return u[0];const l=u.map((e=>e.shape));if(a.backend_util.assertParamsConsistent(l,o),"complex64"===u[0].dtype){const e=u.map((e=>(0,re.k)({inputs:{input:e},backend:n}))),t=u.map((e=>ne({inputs:{input:e},backend:n}))),a=se({inputs:e,backend:n,attrs:{axis:o}}),r=se({inputs:t,backend:n,attrs:{axis:o}}),s=(0,te.P)({inputs:{real:a,imag:r},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(r),s}const d=u.map((e=>{const t=a.util.sizeFromShape(e.shape.slice(o));return D({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})}));i=a.backend_util.computeOutShape(d.map((e=>e.shape)),1);const c=a.util.getTypedArrayFromDType(u[0].dtype,a.util.sizeFromShape(i));if(1===d[0].shape[0]){let e=0;d.forEach((t=>{const r=n.data.get(t.dataId).values,s=a.util.sizeFromShape(t.shape);c.set(r,e),e+=s}))}else{let e=0;d.forEach((t=>{const a=n.data.get(t.dataId).values;let r=0;for(let n=0;n<t.shape[0];++n){const s=n*i[1]+e;for(let e=0;e<t.shape[1];++e)c[s+e]=a[r++]}e+=t.shape[1]}))}const h=a.backend_util.computeOutShape(u.map((e=>e.shape)),o),p=n.makeTensorInfo(h,t[0].dtype,c);return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}const oe={kernelName:a.Concat,backendName:"cpu",kernelFunc:se};function ie(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:u,pad:l,dataFormat:d,dilations:c,dimRoundingMode:h}=r;(0,s.H)([o,i],"conv2d");const p=a.backend_util.convertConv2DDataFormat(d),m=a.backend_util.computeConv2DInfo(o.shape,i.shape,u,c,l,h,!1,p),f=m.filterHeight,_=m.filterWidth,g=m.dilationHeight,y=m.dilationWidth,b=m.padInfo.left,v=m.padInfo.top,x="channelsLast"===m.dataFormat,k=new a.TensorBuffer(m.outShape,o.dtype),M=a.util.computeStrides(o.shape),w=a.util.computeStrides(i.shape),T=M[0],L=x?M[1]:M[2],S=x?M[2]:1,D=x?1:M[1],I=k.strides[0],N=x?k.strides[1]:k.strides[2],C=x?k.strides[2]:1,E=x?1:k.strides[1],A=n.data.get(o.dataId).values,Y=n.data.get(i.dataId).values,F=k.values;for(let e=0;e<m.batchSize;++e){const t=e*T,n=e*I;for(let e=0;e<m.outHeight;++e){const a=n+e*N,r=e*m.strideHeight-v;for(let e=0;e<f;++e){const n=r+e*g;if(n<0||n>=m.inHeight)continue;const s=e*w[0],o=t+n*L;for(let e=0;e<m.outWidth;++e){const t=a+e*C,n=e*m.strideWidth-b;for(let e=0;e<_;++e){const a=n+e*y;if(a<0||a>=m.inWidth)continue;const r=o+a*S;let i=s+e*w[1];for(let e=0;e<m.inChannels;++e){const n=A[r+e*D];for(let e=0;e<m.outChannels;++e)F[t+e*E]+=n*Y[i+e];i+=m.outChannels}}}}}}return n.makeTensorInfo(k.shape,k.dtype,F)}const ue={kernelName:a.Conv2D,backendName:"cpu",kernelFunc:ie},le={kernelName:a.Conv2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:u,pad:l,dataFormat:d,dimRoundingMode:c,filterShape:h}=r;(0,s.H)([o,i],"conv2dBackpropFilter");const p=a.backend_util.convertConv2DDataFormat(d),m=a.backend_util.computeConv2DInfo(o.shape,h,u,1,l,c,!1,p),{strideHeight:f,strideWidth:_,filterHeight:g,filterWidth:y}=m,b="channelsLast"===m.dataFormat,v=new a.TensorBuffer(m.filterShape,"float32"),x=m.padInfo.left,k=m.padInfo.top,M=n.data.get(o.dataId).values,w=n.data.get(i.dataId).values,T=new a.TensorBuffer(o.shape,o.dtype,M),L=new a.TensorBuffer(i.shape,i.dtype,w);for(let e=0;e<g;++e){const t=Math.max(0,Math.ceil((k-e)/f)),n=Math.min(m.outHeight,(m.inHeight+k-e)/f);for(let a=0;a<y;++a){const r=Math.max(0,Math.ceil((x-a)/_)),s=Math.min(m.outWidth,(m.inWidth+x-a)/_);for(let o=0;o<m.inChannels;++o)for(let i=0;i<m.outChannels;++i){let u=0;for(let l=0;l<m.batchSize;++l)for(let d=t;d<n;++d){const t=e+d*f-k;for(let e=r;e<s;++e){const n=a+e*_-x;u+=b?T.get(l,t,n,o)*L.get(l,d,e,i):T.get(l,o,t,n)*L.get(l,i,d,e)}}v.set(u,e,a,o,i)}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}},de={kernelName:a.Conv2DBackpropInput,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{inputShape:u,strides:l,pad:d,dataFormat:c,dimRoundingMode:h}=r;(0,s.H)([o,i],"conv2dBackpropInput");const p=a.util.computeStrides(i.shape),m=a.util.computeStrides(o.shape);let f=a.backend_util.convertConv2DDataFormat(c);const _=a.backend_util.computeConv2DInfo(u,i.shape,l,1,d,h,!1,f),g=new a.TensorBuffer(_.inShape,"float32"),y=g.values,b=n.data.get(o.dataId).values,v=n.data.get(i.dataId).values,[x,k,M]=p,{batchSize:w,filterHeight:T,filterWidth:L,inChannels:S,inHeight:D,inWidth:I,outChannels:N,outHeight:C,outWidth:E,strideHeight:A,strideWidth:Y}=_;f=_.dataFormat;const F=T-1-_.padInfo.top,R=L-1-_.padInfo.left,O="channelsLast"===f,$=g.strides[0],P=O?g.strides[1]:g.strides[2],H=O?g.strides[2]:1,B=O?1:g.strides[1],W=m[0],z=O?m[1]:m[2],j=O?m[2]:1,V=O?1:m[1];for(let e=0;e<w;++e)for(let t=0;t<S;++t)for(let n=0;n<D;++n){const a=n-F,r=Math.max(0,Math.ceil(a/A)),s=Math.min(C,(T+a)/A);for(let o=0;o<I;++o){const i=o-R,u=Math.max(0,Math.ceil(i/Y)),l=Math.min(E,(L+i)/Y);let d=0;for(let n=r;n<s;++n){const r=n*A-a;for(let a=u;a<l;++a){const s=W*e+z*n+j*a,o=x*(T-1-r)+k*(L-1-(a*Y-i))+M*t;for(let e=0;e<N;++e)d+=b[s+V*e]*v[o+e]}}y[$*e+P*n+H*o+B*t]=d}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}},ce={kernelName:a.Conv3D,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:u,pad:l,dilations:d}=r;(0,s.H)([o,i],"conv3d");const c=a.backend_util.computeConv3DInfo(o.shape,i.shape,u,d,l),{filterDepth:h,filterHeight:p,filterWidth:m,dilationDepth:f,dilationHeight:_,dilationWidth:g,padInfo:y}=c,b=y.front,v=y.left,x=y.top,k=new a.TensorBuffer(c.outShape,o.dtype),M=n.data.get(o.dataId).values,w=n.data.get(i.dataId).values,T=k.values,L=a.util.computeStrides(o.shape),S=a.util.computeStrides(i.shape);for(let e=0;e<c.batchSize;++e){const t=e*L[0],n=e*k.strides[0];for(let e=0;e<c.outDepth;++e){const a=n+e*k.strides[1],r=e*c.strideDepth-b;for(let e=0;e<h;++e){const n=r+e*f;if(n<0||n>=c.inDepth)continue;const s=e*S[0],o=t+n*L[1];for(let e=0;e<c.outHeight;++e){const t=a+e*k.strides[2],n=e*c.strideHeight-x;for(let e=0;e<p;++e){const a=n+e*_;if(a<0||a>=c.inHeight)continue;const r=s+e*S[1],i=o+a*L[2];for(let e=0;e<c.outWidth;++e){const n=t+e*c.outChannels,a=e*c.strideWidth-v;for(let e=0;e<m;++e){const t=a+e*g;if(t<0||t>=c.inWidth)continue;const s=r+e*S[2],o=i+t*c.inChannels;let u=s;for(let e=0;e<c.inChannels;++e){const t=M[o+e];for(let e=0;e<c.outChannels;++e)T[n+e]+=t*w[u+e];u+=c.outChannels}}}}}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}},he={kernelName:a.Conv3DBackpropFilterV2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:u,pad:l,filterShape:d}=r;(0,s.H)([o,i],"conv3dBackpropFilterV2");const c=a.util.computeStrides(o.shape),h=a.util.computeStrides(i.shape),p=a.backend_util.computeConv3DInfo(o.shape,d,u,1,l),m=p.strideDepth,f=p.strideHeight,_=p.strideWidth,g=p.filterDepth,y=p.filterHeight,b=p.filterWidth,v=new a.TensorBuffer(p.filterShape,"float32"),x=v.values,[k,M,w,T]=v.strides,L=n.data.get(i.dataId).values,[S,D,I,N]=h,C=n.data.get(o.dataId).values,[E,A,Y,F]=c,R=p.padInfo.front,O=p.padInfo.left,$=p.padInfo.top;for(let e=0;e<g;++e){const t=Math.max(0,Math.ceil((R-e)/m)),n=Math.min(p.outDepth,(p.inDepth+R-e)/m),a=e*k;for(let r=0;r<y;++r){const s=Math.max(0,Math.ceil(($-r)/f)),o=Math.min(p.outHeight,(p.inHeight+$-r)/f),i=r*M+a;for(let a=0;a<b;++a){const u=Math.max(0,Math.ceil((O-a)/_)),l=Math.min(p.outWidth,(p.inWidth+O-a)/_),d=a*w+i;for(let i=0;i<p.inChannels;++i){const c=i*T+d;for(let d=0;d<p.outChannels;++d){let h=0;for(let c=0;c<p.batchSize;++c){const p=c*E,g=c*S;for(let c=t;c<n;++c){const t=(e+c*m-R)*A+p,n=c*D+g;for(let e=s;e<o;++e){const s=(r+e*f-$)*Y+t,o=e*I+n;for(let e=u;e<l;++e){const t=e*N+o;h+=C[(a+e*_-O)*F+s+i]*L[t+d]}}}}x[c+d]=h}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}},pe={kernelName:a.Conv3DBackpropInputV2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{pad:u,strides:l,inputShape:d}=r;(0,s.H)([o],"conv3dBackpropInputV2");const c=a.util.computeStrides(o.shape),h=a.util.computeStrides(i.shape),p=a.backend_util.computeConv3DInfo(d,i.shape,l,1,u),m=new a.TensorBuffer(p.inShape,"float32"),f=m.values,[_,g,y,b]=m.strides,v=n.data.get(o.dataId).values,[x,k,M,w]=c,T=n.data.get(i.dataId).values,[L,S,D,I]=h,{batchSize:N,filterDepth:C,filterHeight:E,filterWidth:A,inChannels:Y,inDepth:F,inHeight:R,inWidth:O,outChannels:$,outDepth:P,outHeight:H,outWidth:B,strideDepth:W,strideHeight:z,strideWidth:j}=p,V=C-1-p.padInfo.front,U=E-1-p.padInfo.top,G=A-1-p.padInfo.left;for(let e=0;e<N;++e)for(let t=0;t<Y;++t)for(let n=0;n<F;++n){const a=n-V,r=Math.max(0,Math.ceil(a/W)),s=Math.min(P,(C+a)/W);for(let o=0;o<R;++o){const i=o-U,u=Math.max(0,Math.ceil(i/z)),l=Math.min(H,(E+i)/z);for(let d=0;d<O;++d){const c=d-G,h=Math.max(0,Math.ceil(c/j)),p=Math.min(B,(A+c)/j);let m=0;for(let n=r;n<s;++n){const r=n*W-a;for(let a=u;a<l;++a){const s=a*z-i;for(let o=h;o<p;++o){const i=x*e+k*n+M*a+w*o,u=L*(C-1-r)+S*(E-1-s)+D*(A-1-(o*j-c))+I*t;for(let e=0;e<$;++e)m+=v[i+e]*T[u+e]}}}f[_*e+g*n+y*o+b*d+t]=m}}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}},me=(0,m.A)(a.Cos,(e=>Math.cos(e))),fe={kernelName:a.Cos,backendName:"cpu",kernelFunc:me},_e=(0,m.A)(a.Cosh,(e=>Math.cosh(e))),ge={kernelName:a.Cosh,backendName:"cpu",kernelFunc:_e};function ye(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:u,pad:l,dilations:d,dimRoundingMode:c}=r;(0,s.H)([o,i],"depthwiseConv2DNative");const h=a.util.computeStrides(o.shape),p=a.util.computeStrides(i.shape);let m=d;null==m&&(m=[1,1]),a.util.assert(a.backend_util.eitherStridesOrDilationsAreOne(u,m),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${u} and dilations '${m}'`));const f=a.backend_util.computeConv2DInfo(o.shape,i.shape,u,m,l,c,!0),{filterHeight:_,filterWidth:g,dilationHeight:y,dilationWidth:b,padInfo:v}=f,x=v.left,k=v.top,M=f.outChannels/f.inChannels,w=new a.TensorBuffer(f.outShape,o.dtype),T=n.data.get(o.dataId).values,L=n.data.get(i.dataId).values,S=w.values;for(let e=0;e<f.batchSize;++e){const t=e*h[0],n=e*w.strides[0];for(let e=0;e<f.outHeight;++e){const a=n+e*w.strides[1],r=e*f.strideHeight-x;for(let e=0;e<_;++e){const n=r+e*y;if(n<0||n>=f.inHeight)continue;const s=e*p[0],o=t+n*h[1];for(let e=0;e<f.outWidth;++e){const t=a+e*w.strides[2],n=e*f.strideWidth-k;for(let e=0;e<g;++e){const a=n+e*b;if(a<0||a>=f.inWidth)continue;const r=s+e*p[1],i=o+a*f.inChannels;let u=t,l=r;for(let e=0;e<f.inChannels;++e){const t=T[i+e];for(let e=0;e<M;++e)S[u+e]+=t*L[l+e];u+=M,l+=M}}}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const be={kernelName:a.DepthwiseConv2dNative,backendName:"cpu",kernelFunc:ye},ve={kernelName:a.DepthwiseConv2dNativeBackpropFilter,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:u,dilations:l,pad:d,dimRoundingMode:c,filterShape:h}=r;(0,s.H)([o,i],"depthwiseConv2dNativeBackpropFilter");const p=a.backend_util.computeConv2DInfo(o.shape,h,u,l,d,c,!0),{strideHeight:m,strideWidth:f,filterHeight:_,filterWidth:g}=p,y=new a.TensorBuffer(p.filterShape,"float32"),b=p.padInfo.left,v=p.padInfo.top,x=p.outChannels/p.inChannels,k=n.data.get(o.dataId).values,M=new a.TensorBuffer(o.shape,o.dtype,k),w=n.data.get(i.dataId).values,T=new a.TensorBuffer(i.shape,i.dtype,w);for(let e=0;e<_;++e){const t=Math.max(0,Math.ceil((v-e)/m)),n=Math.min(p.outHeight,(p.inHeight+v-e)/m);for(let a=0;a<g;++a){const r=Math.max(0,Math.ceil((b-a)/f)),s=Math.min(p.outWidth,(p.inWidth+b-a)/f);for(let o=0;o<p.outChannels;++o){const i=Math.trunc(o/x),u=o%x;let l=0;for(let u=0;u<p.batchSize;++u)for(let d=t;d<n;++d){const t=e+d*m-v;for(let e=r;e<s;++e){const n=a+e*f-b;l+=M.get(u,t,n,i)*T.get(u,d,e,o)}}y.set(l,e,a,i,u)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}},xe={kernelName:a.DepthwiseConv2dNativeBackpropInput,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{strides:u,dilations:l,pad:d,dimRoundingMode:c,inputShape:h}=r;(0,s.H)([o,i],"depthwiseConv2DNativeBackpropInput");const p=a.util.computeStrides(o.shape),m=a.util.computeStrides(i.shape),f=a.backend_util.computeConv2DInfo(h,i.shape,u,l,d,c,!0),_=new a.TensorBuffer(f.inShape,"float32"),g=_.values,[y,b,v]=_.strides,x=n.data.get(o.dataId).values,[k,M,w]=p,T=n.data.get(i.dataId).values,[L,S,D]=m,{batchSize:I,filterHeight:N,filterWidth:C,inChannels:E,inHeight:A,inWidth:Y,outChannels:F,outHeight:R,outWidth:O,strideHeight:$,strideWidth:P}=f,H=N-1-f.padInfo.top,B=C-1-f.padInfo.left,W=F/E;for(let e=0;e<I;++e)for(let t=0;t<E;++t)for(let n=0;n<A;++n){const a=n-H,r=Math.max(0,Math.ceil(a/$)),s=Math.min(R,(N+a)/$);for(let o=0;o<Y;++o){const i=o-B,u=Math.max(0,Math.ceil(i/P)),l=Math.min(O,(C+i)/P);let d=0;for(let n=r;n<s;++n){const r=n*$-a;for(let a=u;a<l;++a){const s=k*e+M*n+w*a,o=L*(N-1-r)+S*(C-1-(a*P-i))+D*t;for(let e=0;e<W;++e)d+=x[s+(t*W+e)]*T[o+e]}}g[y*e+b*n+v*o+t]=d}}return n.makeTensorInfo(_.shape,_.dtype,_.values)}},ke={kernelName:a.Dilation2D,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:s}=e,{strides:o,pad:i,dilations:u}=n,l=t,d=l.data.get(r.dataId).values,c=r.shape.length,h=l.data.get(s.dataId).values,p=s.shape.length,{batchSize:m,inHeight:f,inWidth:_,inChannels:g,outHeight:y,outWidth:b,padInfo:v,strideHeight:x,strideWidth:k,filterHeight:M,filterWidth:w,dilationHeight:T,dilationWidth:L,outShape:S}=a.backend_util.computeDilation2DInfo(r.shape,s.shape,o,i,"NHWC",u),D=a.util.sizeFromShape(S),I=S.length,N=a.util.getArrayFromDType(r.dtype,D);for(let e=0;e<m;++e)for(let t=0;t<y;++t){const n=t*x-v.top;for(let o=0;o<b;++o){const i=o*k-v.left;for(let u=0;u<g;++u){let l=Number.MIN_SAFE_INTEGER;for(let t=0;t<M;++t){const o=n+t*T;if(o>=0&&o<f)for(let n=0;n<w;++n){const m=i+n*L;if(m>=0&&m<_){const i=a.util.locToIndex([e,o,m,u],c,a.util.computeStrides(r.shape)),f=a.util.locToIndex([t,n,u],p,a.util.computeStrides(s.shape)),_=d[i]+h[f];_>l&&(l=_)}}}N[a.util.locToIndex([e,t,o,u],I,a.util.computeStrides(S))]=l}}}return{dataId:l.write(a.util.toTypedArray(N,r.dtype),S,r.dtype),shape:S,dtype:r.dtype}}},Me={kernelName:a.Dilation2DBackpropFilter,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:s,dy:o}=e,{strides:i,pad:u,dilations:l}=n,d=t,c=a.util.toNestedArray(r.shape,d.data.get(r.dataId).values),h=a.util.toNestedArray(s.shape,d.data.get(s.dataId).values),{batchSize:p,inHeight:m,inWidth:f,inChannels:_,outHeight:g,outWidth:y,padInfo:b,strideHeight:v,strideWidth:x,filterHeight:k,filterWidth:M,dilationHeight:w,dilationWidth:T,outShape:L}=a.backend_util.computeDilation2DInfo(r.shape,s.shape,i,u,"NHWC",l);a.util.assert(o.rank===L.length,(()=>`Error in ${a.Dilation2DBackpropFilter}, dy must have the same rank as output ${L.length}, but got ${o.rank}`));const S=a.util.toNestedArray(L,d.data.get(o.dataId).values),D=a.util.makeZerosNestedTypedArray(s.shape,s.dtype);for(let e=0;e<p;++e)for(let t=0;t<g;++t){const n=t*v-b.top;for(let a=0;a<y;++a){const r=a*x-b.left;for(let s=0;s<_;++s){let o=Number.MIN_SAFE_INTEGER,i=0,u=0;for(let t=0;t<k;++t){const a=n+t*w;if(a>=0&&a<m)for(let n=0;n<M;++n){const l=r+n*T;if(l>=0&&l<f){const r=c[e][a][l][s]+h[t][n][s];r>o&&(o=r,i=t,u=n)}}}D[i][u][s]+=S[e][t][a][s]}}}return{dataId:d.write(a.util.toTypedArray(D,r.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}},we={kernelName:a.Dilation2DBackpropInput,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:s,dy:o}=e,{strides:i,pad:u,dilations:l}=n,d=t,c=a.util.toNestedArray(r.shape,d.data.get(r.dataId).values),h=a.util.toNestedArray(s.shape,d.data.get(s.dataId).values),{batchSize:p,inHeight:m,inWidth:f,inChannels:_,outHeight:g,outWidth:y,padInfo:b,strideHeight:v,strideWidth:x,filterHeight:k,filterWidth:M,dilationHeight:w,dilationWidth:T,outShape:L}=a.backend_util.computeDilation2DInfo(r.shape,s.shape,i,u,"NHWC",l);a.util.assert(o.rank===L.length,(()=>`Error in ${a.Dilation2DBackpropInput}, dy must have the same rank as output ${L.length}, but got ${o.rank}`));const S=a.util.toNestedArray(L,d.data.get(o.dataId).values),D=a.util.makeZerosNestedTypedArray(r.shape,r.dtype);for(let e=0;e<p;++e)for(let t=0;t<g;++t){const n=t*v-b.top;for(let a=0;a<y;++a){const r=a*x-b.left;for(let s=0;s<_;++s){let o=Number.MIN_SAFE_INTEGER,i=n<0?0:n,u=r<0?0:r;for(let t=0;t<k;++t){const a=n+t*w;if(a>=0&&a<m)for(let n=0;n<M;++n){const l=r+n*T;if(l>=0&&l<f){const r=c[e][a][l][s]+h[t][n][s];r>o&&(o=r,i=a,u=l)}}}D[e][i][u][s]+=S[e][t][a][s]}}}return{dataId:d.write(a.util.toTypedArray(D,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};var Te=n(546);const Le=(0,y.b)(((e,t)=>e/t)),Se=(0,Te.j)(a.Div,Le),De={kernelName:a.Div,backendName:"cpu",kernelFunc:Se},Ie=a.backend_util.ERF_P,Ne=a.backend_util.ERF_A1,Ce=a.backend_util.ERF_A2,Ee=a.backend_util.ERF_A3,Ae=a.backend_util.ERF_A4,Ye=a.backend_util.ERF_A5,Fe=(0,m.A)(a.Erf,(e=>{const t=Math.sign(e),n=Math.abs(e),a=1/(1+Ie*n);return t*(1-((((Ye*a+Ae)*a+Ee)*a+Ce)*a+Ne)*a*Math.exp(-n*n))})),Re={kernelName:a.Erf,backendName:"cpu",kernelFunc:Fe};var Oe=n(1211),$e=n(969),Pe=n(1917),He=n(2578),Be=n(1649);function We(e,t,n){const r=e.shape,s=r[0],o=r[1],i=n.data.get(e.dataId),u=i.complexTensorInfos.real,l=i.complexTensorInfos.imag,d=[s,o],c=a.util.sizeFromShape(d),h=a.util.getTypedArrayFromDType("float32",c),p=a.util.getTypedArrayFromDType("float32",c);for(let e=0;e<s;e++){const r=(0,He.tP)({inputs:{x:u},backend:n,attrs:{begin:[e,0],size:[1,o]}}),s=(0,He.tP)({inputs:{x:l},backend:n,attrs:{begin:[e,0],size:[1,o]}}),i=(0,te.P)({inputs:{real:r,imag:s},backend:n}),{real:d,imag:c}=ze(i,t,n),m=a.backend_util.mergeRealAndImagArrays(d,c);for(let t=0;t<o;t++){const n=a.backend_util.getComplexWithIndex(m,t);h[e*o+t]=n.real,p[e*o+t]=n.imag}n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i)}const m=n.makeTensorInfo(d,"float32",h),f=n.makeTensorInfo(d,"float32",p),_=(0,te.P)({inputs:{real:m,imag:f},backend:n});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),_}function ze(e,t,n){const r=a.util.sizeFromShape(e.shape),s=n.data.get(e.dataId),o=n.data.get(s.complexTensorInfos.real.dataId).values,i=n.data.get(s.complexTensorInfos.imag.dataId).values;if(0==((u=r)&u-1)){const s=je(o,i,r,t,n),u=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(u,"float32",s.real),t=n.makeTensorInfo(u,"float32",s.imag),o=n.makeTensorInfo([],"float32",a.util.createScalarValue(r,"float32")),i=(0,g.y)({inputs:{x:o},backend:n}),l=De.kernelFunc({inputs:{a:e,b:o},backend:n}),d=De.kernelFunc({inputs:{a:t,b:i},backend:n}),c=n.data.get(l.dataId).values,h=n.data.get(d.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),{real:c,imag:h}}return s}{const e=function(e,t,n){const r=new Float32Array(2*t);for(let s=0;s<t;s++){let o=0,i=0;for(let r=0;r<t;r++){const u=a.backend_util.exponent(s*r,t,n),l=a.backend_util.getComplexWithIndex(e,r);o+=l.real*u.real-l.imag*u.imag,i+=l.real*u.imag+l.imag*u.real}n&&(o/=t,i/=t),a.backend_util.assignToTypedArray(r,o,i,s)}return r}(a.backend_util.mergeRealAndImagArrays(o,i),r,t);return a.backend_util.splitRealAndImagArrays(e)}var u}function je(e,t,n,r,s){if(1===n)return{real:e,imag:t};const o=a.backend_util.mergeRealAndImagArrays(e,t),i=n/2,u=a.backend_util.complexWithEvenIndex(o),l=u.real,d=u.imag,c=[l.length],h=s.makeTensorInfo(c,"float32",l),p=s.makeTensorInfo(c,"float32",d),m=(0,te.P)({inputs:{real:h,imag:p},backend:s}),f=a.backend_util.complexWithOddIndex(o),_=f.real,g=f.imag,y=[_.length],b=s.makeTensorInfo(y,"float32",_),v=s.makeTensorInfo(y,"float32",g),x=(0,te.P)({inputs:{real:b,imag:v},backend:s}),k=je(l,d,i,r,s),M=k.real,w=k.imag,T=[M.length],L=s.makeTensorInfo(T,"float32",M),D=s.makeTensorInfo(T,"float32",w),I=(0,te.P)({inputs:{real:L,imag:D},backend:s}),N=je(_,g,i,r,s),C=N.real,E=N.imag,A=[C.length],Y=s.makeTensorInfo(A,"float32",C),F=s.makeTensorInfo(A,"float32",E),R=(0,te.P)({inputs:{real:Y,imag:F},backend:s}),O=a.backend_util.exponents(n,r),$=[O.real.length],P=s.makeTensorInfo($,"float32",O.real),H=s.makeTensorInfo($,"float32",O.imag),B=(0,te.P)({inputs:{real:P,imag:H},backend:s}),W=(0,Pe.Jp)({inputs:{a:B,b:R},backend:s}),z=(0,S.IH)({inputs:{a:I,b:W},backend:s}),j=(0,Be.lu)({inputs:{a:I,b:W},backend:s}),V=(0,re.k)({inputs:{input:z},backend:s}),U=(0,re.k)({inputs:{input:j},backend:s}),G=ne({inputs:{input:z},backend:s}),q=ne({inputs:{input:j},backend:s}),X=se({inputs:[V,U],backend:s,attrs:{axis:0}}),K=se({inputs:[G,q],backend:s,attrs:{axis:0}}),J=s.data.get(X.dataId).values,Q=s.data.get(K.dataId).values;return s.disposeIntermediateTensorInfo(h),s.disposeIntermediateTensorInfo(p),s.disposeIntermediateTensorInfo(m),s.disposeIntermediateTensorInfo(b),s.disposeIntermediateTensorInfo(v),s.disposeIntermediateTensorInfo(x),s.disposeIntermediateTensorInfo(L),s.disposeIntermediateTensorInfo(D),s.disposeIntermediateTensorInfo(I),s.disposeIntermediateTensorInfo(Y),s.disposeIntermediateTensorInfo(F),s.disposeIntermediateTensorInfo(R),s.disposeIntermediateTensorInfo(P),s.disposeIntermediateTensorInfo(H),s.disposeIntermediateTensorInfo(B),s.disposeIntermediateTensorInfo(W),s.disposeIntermediateTensorInfo(z),s.disposeIntermediateTensorInfo(j),s.disposeIntermediateTensorInfo(V),s.disposeIntermediateTensorInfo(G),s.disposeIntermediateTensorInfo(U),s.disposeIntermediateTensorInfo(q),s.disposeIntermediateTensorInfo(X),s.disposeIntermediateTensorInfo(K),{real:J,imag:Q}}const Ve={kernelName:a.FFT,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,s=a.util.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],i=D({inputs:{x:r},backend:n,attrs:{shape:[s/o,o]}}),u=We(i,!1,n),l=D({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(u),l}},Ue={kernelName:a.Fill,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{shape:r,value:s,dtype:o}=n,i=o||a.util.inferDtype(s),u=a.util.getArrayFromDType(i,a.util.sizeFromShape(r));return function(e,t,n){e.fill(t)}(u,s),t.makeTensorInfo(r,i,u)}},Ge={kernelName:a.FlipLeftRight,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,s=n,o=a.util.getTypedArrayFromDType(r.dtype,a.util.sizeFromShape(r.shape)),[i,u,l,d]=r.shape,c=s.data.get(r.dataId).values;for(let e=0;e<i;e++){const t=e*l*u*d;for(let e=0;e<u;e++){const n=e*(l*d);for(let a=0;a<l;a++){const r=a*d;for(let s=0;s<d;s++){const u=[i,e,a,s][2],h=Math.round(l-u),p=t+n+r+s;let m=c[p];h>=0&&h<l&&(m=c[t+n+h*d+s]),o[p]=m}}}}return{dataId:s.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};var qe=n(6574);const Xe={kernelName:a.FusedConv2D,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:s,bias:o,preluActivationWeights:i}=t,{strides:u,pad:l,dataFormat:d,dilations:c,dimRoundingMode:h,activation:p}=a;let m=ie({inputs:{x:r,filter:s},backend:n,attrs:{strides:u,pad:l,dataFormat:d,dilations:c,dimRoundingMode:h}});if(o){const e=m;m=(0,S.IH)({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(e)}if(p){const e=m;m=L(n,m,p,i),n.disposeIntermediateTensorInfo(e)}return m}},Ke={kernelName:a.FusedDepthwiseConv2D,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:s,bias:o,preluActivationWeights:i}=t,{strides:u,pad:l,dataFormat:d,dilations:c,dimRoundingMode:h,activation:p}=a;let m=ye({inputs:{x:r,filter:s},backend:n,attrs:{strides:u,pad:l,dataFormat:d,dilations:c,dimRoundingMode:h}});if(o){const e=m;m=(0,S.IH)({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(e)}if(p){const e=m;m=L(n,m,p,i),n.disposeIntermediateTensorInfo(e)}return m}},Je={kernelName:a.IFFT,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,s=a.util.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],i=D({inputs:{x:r},backend:n,attrs:{shape:[s/o,o]}}),u=We(i,!0,n),l=D({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(u),l}},Qe=(0,m.A)(a.IsFinite,(e=>Number.isFinite(e)?1:0),"bool"),Ze={kernelName:a.IsFinite,backendName:"cpu",kernelFunc:Qe},et=(0,m.A)(a.IsInf,(e=>Math.abs(e)===1/0?1:0),"bool"),tt={kernelName:a.IsInf,backendName:"cpu",kernelFunc:et},nt=(0,m.A)(a.IsNan,(e=>Number.isNaN(e)?1:0),"bool"),at={kernelName:a.IsNan,backendName:"cpu",kernelFunc:nt};var rt=n(5223);const st=(0,m.A)(a.Log1p,(e=>Math.log1p(e))),ot={kernelName:a.Log1p,backendName:"cpu",kernelFunc:st},it=(0,m.A)(a.LogicalNot,(e=>e?0:1),"bool"),ut={kernelName:a.LogicalNot,backendName:"cpu",kernelFunc:it};var lt=n(5126),dt=n(7107);const ct={kernelName:a.Max,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{reductionIndices:o,keepDims:i}=t,u=n;let l=r.shape;const d=l.length,c=a.util.parseAxisParam(o,l);let h=c;const p=a.backend_util.getAxesPermutation(h,d);let m=u.data.get(r.dataId).values;if(null!=p){const e=new Array(d);for(let t=0;t<e.length;t++)e[t]=l[p[t]];m=(0,dt.H)(m,l,r.dtype,p,e),h=a.backend_util.getInnerMostAxes(h.length,d),l=e}(0,s.H)(r,"max"),a.backend_util.assertAxesAreInnerMostDims("max",h,d);const[f,_]=a.backend_util.computeOutAndReduceShapes(l,h),g=a.util.sizeFromShape(_),y=(0,lt.B)(m,g,f,r.dtype),b=u.write(y,f,r.dtype);let v=f;return i&&(v=a.backend_util.expandShapeToKeepDim(f,c)),{dataId:b,shape:v,dtype:r.dtype}}},ht={kernelName:a.MaxPool,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;(0,s.H)(o,"maxPool");const{filterSize:i,strides:u,pad:l,dimRoundingMode:d}=r;a.util.assert(a.backend_util.eitherStridesOrDilationsAreOne(u,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${u} and dilations '1'`));const c=a.backend_util.computePool2DInfo(o.shape,i,u,1,l,d);let h;if(1===c.filterWidth&&1===c.filterHeight&&a.util.arraysEqual(c.inShape,c.outShape))h=(0,g.y)({inputs:{x:o},backend:n});else{const e=n.data.get(o.dataId).values,t=a.util.computeStrides(o.shape),r=U(e,o.shape,o.dtype,t,c,"max");h=n.makeTensorInfo(c.outShape,o.dtype,r.values)}return h}},pt={kernelName:a.MaxPoolBackprop,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i,output:u}=t,l=i;(0,s.H)([i,u],"maxPoolBackprop");const{filterSize:d,strides:c,pad:h,dimRoundingMode:p}=r,m=a.backend_util.computePool2DInfo(l.shape,d,c,1,h,p),f=n.data.get(l.dataId).values,_=(0,a.buffer)(m.outShape,l.dtype,G(f,l.shape,l.dtype,m).values),g=m.strideHeight,y=m.strideWidth,b=m.dilationHeight,v=m.dilationWidth,x=m.effectiveFilterHeight,k=m.effectiveFilterWidth,M=k-1-m.padInfo.left,w=x-1-m.padInfo.top,T=(0,a.buffer)(l.shape,"float32"),L=n.data.get(o.dataId).values,S=(0,a.buffer)(o.shape,"float32",L);for(let e=0;e<m.batchSize;++e)for(let t=0;t<m.inChannels;++t)for(let n=0;n<m.inHeight;++n)for(let a=0;a<m.inWidth;++a){const r=n-w,s=a-M;let o=0;for(let n=0;n<x;n+=b){const a=(r+n)/g;if(!(a<0||a>=m.outHeight||Math.floor(a)!==a))for(let r=0;r<k;r+=v){const i=(s+r)/y;if(i<0||i>=m.outWidth||Math.floor(i)!==i)continue;const u=x*k-1-_.get(e,a,i,t)===n*k+r?1:0;0!==u&&(o+=S.get(e,a,i,t)*u)}}T.set(o,e,n,a,t)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}},mt={kernelName:a.MaxPoolWithArgmax,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:o,strides:i,pad:u,includeBatchInIndex:l}=t,d=n;(0,s.H)(r,"MaxPoolWithArgmax");const c=d.data.get(r.dataId).values,h=a.backend_util.computePool2DInfo(r.shape,o,i,[1,1],u),[p,m]=function(e,t,n,r,s){const o=U(e,0,n,a.util.computeStrides(t),s,"max"),i=G(e,t,n,s,!0,r);return[o.values,i.values]}(c,r.shape,r.dtype,l,h),f=d.write(p,h.outShape,r.dtype),_=d.write(m,h.outShape,r.dtype);return[{dataId:f,shape:h.outShape,dtype:r.dtype},{dataId:_,shape:h.outShape,dtype:"int32"}]}},ft={kernelName:a.MirrorPad,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:i,mode:u}=r;(0,s.H)(o,"mirrorPad");const l=i.map(((e,t)=>e[0]+o.shape[t]+e[1])),d=i.map((e=>e[0])),c=i.map(((e,t)=>e[0]+o.shape[t])),h="reflect"===u?0:1,p=n.data.get(o.dataId).values,m=o.shape.length,f=a.util.computeStrides(o.shape),_=a.util.sizeFromShape(l),g=l.length,y=a.util.computeStrides(l),b=a.util.getTypedArrayFromDType(o.dtype,_);for(let e=0;e<_;e++){let t=a.util.indexToLoc(e,g,y);for(let e=0;e<g;e++)t[e]<d[e]?t[e]=2*d[e]-t[e]-h:t[e]>=c[e]&&(t[e]=2*(c[e]-1)-t[e]+h);t=t.map(((e,t)=>e-d[t]));const n=a.util.locToIndex(t,m,f);b[e]=p[n]}return{dataId:n.write(b,l,o.dtype),shape:l,dtype:o.dtype}}},_t=a.kernel_impls.nonMaxSuppressionV4Impl,gt={kernelName:a.NonMaxSuppressionV4,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{boxes:a,scores:r}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:u,padToMaxOutputSize:l}=n,d=t;(0,s.H)(a,"NonMaxSuppressionPadded");const c=d.data.get(a.dataId).values,h=d.data.get(r.dataId).values,{selectedIndices:p,validOutputs:m}=_t(c,h,o,i,u,l);return[p,m]}},yt=a.kernel_impls.nonMaxSuppressionV5Impl,bt={kernelName:a.NonMaxSuppressionV5,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{boxes:a,scores:r}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:u,softNmsSigma:l}=n,d=t;(0,s.H)(a,"NonMaxSuppressionWithScore");const c=d.data.get(a.dataId).values,h=d.data.get(r.dataId).values,p=o,m=i,f=u,_=l,{selectedIndices:g,selectedScores:y}=yt(c,h,p,m,f,_);return[g,y]}};var vt=n(8584);const xt={kernelName:a.PadV2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:i,constantValue:u}=r;(0,s.H)(o,"pad");const l=i.map(((e,t)=>e[0]+o.shape[t]+e[1])),d=i.map((e=>e[0])),c=n.data.get(o.dataId).values,h=a.util.sizeFromShape(o.shape),p=o.shape.length,m=a.util.computeStrides(o.shape),f=a.util.sizeFromShape(l),_=l.length,g=a.util.computeStrides(l),y=a.util.getTypedArrayFromDType(o.dtype,f);0!==u&&y.fill(u);for(let e=0;e<h;e++){const t=a.util.indexToLoc(e,p,m).map(((e,t)=>e+d[t]));y[a.util.locToIndex(t,_,g)]=c[e]}return{dataId:n.write(y,l,o.dtype),shape:l,dtype:o.dtype}}},kt=(0,m.A)(a.Reciprocal,(e=>1/e)),Mt={kernelName:a.Reciprocal,backendName:"cpu",kernelFunc:kt},wt={kernelName:a.RotateWithOffset,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:s,fillValue:o,center:i}=t,u=n,l=a.util.getTypedArrayFromDType(r.dtype,a.util.sizeFromShape(r.shape)),[d,c,h,p]=r.shape,[m,f]=a.backend_util.getImageCenter(i,c,h),_=Math.sin(s),g=Math.cos(s),y=u.data.get(r.dataId).values;for(let e=0;e<d;e++){const t=e*h*c*p;for(let e=0;e<c;e++){const n=e*(h*p);for(let a=0;a<h;a++){const r=a*p;for(let s=0;s<p;s++){const i=[d,e,a,s],u=i[2],b=i[1];let v=(u-m)*g-(b-f)*_,x=(u-m)*_+(b-f)*g;v=Math.round(v+m),x=Math.round(x+f);let k=o;"number"!=typeof o&&(k=3===s?255:o[s]),v>=0&&v<h&&x>=0&&x<c&&(k=y[t+x*(h*p)+v*p+s]),l[t+n+r+s]=k}}}}return{dataId:u.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Tt=(0,m.A)(a.Round,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2==0?t:t+1})),Lt={kernelName:a.Round,backendName:"cpu",kernelFunc:Tt};var St=n(7742);const Dt=a.backend_util.SELU_SCALEALPHA,It=a.backend_util.SELU_SCALE,Nt=(0,m.A)(a.Selu,(e=>e>=0?It*e:Dt*(Math.exp(e)-1))),Ct={kernelName:a.Selu,backendName:"cpu",kernelFunc:Nt},Et=(0,m.A)(a.Sigmoid,(e=>1/(1+Math.exp(-e)))),At={kernelName:a.Sigmoid,backendName:"cpu",kernelFunc:Et},Yt=(0,m.A)(a.Sign,(e=>e<0?-1:e>0?1:0)),Ft={kernelName:a.Sign,backendName:"cpu",kernelFunc:Yt},Rt=(0,m.A)(a.Sin,(e=>Math.sin(e))),Ot={kernelName:a.Sin,backendName:"cpu",kernelFunc:Rt},$t=(0,m.A)(a.Sinh,(e=>Math.sinh(e))),Pt={kernelName:a.Sinh,backendName:"cpu",kernelFunc:$t},Ht=Math.log(1.1920928955078125e-7)+2,Bt=(0,m.A)(a.Softplus,(e=>{const t=e>-Ht,n=e<Ht,a=Math.exp(e);let r;return r=n?a:t?e:Math.log(1+a),r})),Wt={kernelName:a.Softplus,backendName:"cpu",kernelFunc:Bt};function zt(e){const{inputs:t,attrs:n,backend:a}=e,{x:r}=t,{perm:o}=n;(0,s.H)(r,"transpose");const i=r.shape.length,u=new Array(i);for(let e=0;e<u.length;e++)u[e]=r.shape[o[e]];const l=a.data.get(r.dataId).values,d=(0,dt.H)(l,r.shape,r.dtype,o,u);return{dataId:a.write(d,u,r.dtype),shape:u,dtype:r.dtype}}const jt={kernelName:a.Transpose,backendName:"cpu",kernelFunc:zt},Vt={kernelName:a.SpaceToBatchND,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,paddings:u}=r;(0,s.H)([o],"spaceToBatchND");const l=a.util.sizeFromShape(i),d=[[0,0]];d.push(...u);for(let e=1+i.length;e<o.shape.length;++e)d.push([0,0]);const c=xt.kernelFunc({inputs:{x:o},backend:n,attrs:{paddings:d,constantValue:0}}),h=a.backend_util.getReshaped(c.shape,i,l,!1),p=a.backend_util.getPermuted(h.length,i.length,!1),m=a.backend_util.getReshapedPermuted(c.shape,i,l,!1),f=D({inputs:{x:c},backend:n,attrs:{shape:h}}),_=zt({inputs:{x:f},backend:n,attrs:{perm:p}}),g=D({inputs:{x:_},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(_),g}},Ut=(0,m.A)(a.Sqrt,(e=>Math.sqrt(e))),Gt={kernelName:a.Sqrt,backendName:"cpu",kernelFunc:Ut},qt={kernelName:a.Square,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,a=t;(0,s.H)(n,"square");const r=a.data.get(n.dataId).values,o=new Float32Array(r.length);for(let e=0;e<r.length;++e){const t=r[e];o[e]=t*t}return{dataId:a.write(o,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};var Xt=n(212);const Kt=(0,m.A)(a.Step,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),Jt={kernelName:a.Step,backendName:"cpu",kernelFunc:Kt},Qt=(0,m.A)(a.Tan,(e=>Math.tan(e))),Zt={kernelName:a.Tan,backendName:"cpu",kernelFunc:Qt},en=(0,m.A)(a.Tanh,(e=>Math.tanh(e))),tn={kernelName:a.Tanh,backendName:"cpu",kernelFunc:en};var nn=n(5638);const an={kernelName:a.Unique,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{axis:r}=n,{x:o}=t;(0,s.H)(o,"unique");const i=a.data.get(o.dataId).values,{outputValues:u,outputShape:l,indices:d}=(0,nn.S)(i,r,o.shape,o.dtype);return[a.makeTensorInfo(l,o.dtype,u),a.makeTensorInfo([d.length],"int32",d)]}},rn=[E,A.fC,F,O,S.j4,P,B,z,V,q,X,C,K,J.M,Q.y2,ee,te.z,oe,le,de,ue,he,pe,ce,fe,ge,be,ve,xe,ke,we,Me,De,_,Re,Oe.SX,$e.Vu,Ve,Ue,Ge,qe.Ao,Xe,Ke,g.I,Je,ae,Ze,tt,at,rt.xM,ot,ut,ht,pt,mt,ct,ft,Pe.f$,gt,bt,vt.nP,xt,x,re.O,Mt,M,T,I,wt,Lt,St.FY,Ct,At,Ft,Ot,Pt,He.C6,Wt,Vt,Gt,qt,Xt.MS,Jt,Be.GR,Zt,tn,jt,an];for(const e of rn)(0,a.registerKernel)(e)},224:(e,t,n)=>{"use strict";n.d(t,{bk:()=>r,fC:()=>s});var a=n(7533);function r(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const s={kernelName:a.Abs,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;let s=new Float32Array(a.util.sizeFromShape(t.shape));if("complex64"!==t.dtype)s=r(n.data.get(t.dataId).values);else{const e=n.data.get(t.dataId),a=e.complexTensorInfos.real,r=e.complexTensorInfos.imag,o=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values;for(let e=0;e<o.length;e++){const t=o[e],n=i[e];s[e]=Math.hypot(t,n)}}return n.makeOutput(s,t.shape,"float32")}}},2779:(e,t,n)=>{"use strict";n.d(t,{EH:()=>o,IH:()=>u,j4:()=>l});var a=n(7533),r=n(3533),s=n(546);const o=(0,r.b)(((e,t)=>e+t)),i=(0,s.H)(((e,t,n,a)=>({real:e+n,imag:t+a}))),u=(0,s.j)(a.Add,o,i),l={kernelName:a.Add,backendName:"cpu",kernelFunc:u}},9258:(e,t,n)=>{"use strict";n.d(t,{p:()=>u,M:()=>l});var a=n(7533),r=n(3533),s=n(6961),o=n(1775),i=n(2186);function u(e){const{inputs:t,backend:n,attrs:l}=e,{x:d}=t,{dtype:c}=l;if("complex64"===c){if("complex64"===d.dtype)return(0,o.y)({inputs:{x:d},backend:n});const e=a.zeros(d.shape),t=u({inputs:{x:d},backend:n,attrs:{dtype:"float32"}}),r=(0,s.P)({inputs:{real:t,imag:e},backend:n});return e.dispose(),n.disposeIntermediateTensorInfo(t),r}if("complex64"===d.dtype){const e=(0,i.k)({inputs:{input:d},backend:n}),t=u({inputs:{x:e},backend:n,attrs:{dtype:c}});return n.disposeIntermediateTensorInfo(e),t}if(!a.util.hasEncodingLoss(d.dtype,c)){const e=(0,o.y)({inputs:{x:d},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:c}}if("int32"===c){const e=n.data.get(d.dataId).values,t=Int32Array.from(e);return n.makeTensorInfo(d.shape,"int32",t)}if("bool"===c){const e=n.data.get(d.dataId).values,t=a.util.toTypedArray([0],d.dtype),[s,o]=(0,r.b)(((e,t)=>e!==t?1:0))(d.shape,[],e,t,"bool");return n.makeTensorInfo(o,"bool",s)}throw new Error(`Error in Cast: failed to cast ${d.dtype} to ${c}`)}const l={kernelName:a.Cast,backendName:"cpu",kernelFunc:u}},4769:(e,t,n)=>{"use strict";n.d(t,{__:()=>o,y2:()=>u});var a=n(7533),r=n(8029),s=n(6738);const o=(0,r.a)((e=>Math.ceil(e))),i=(0,s.O)(a.Ceil,o),u={kernelName:a.Ceil,backendName:"cpu",kernelFunc:i}},6961:(e,t,n)=>{"use strict";function a(e){const{inputs:t,backend:n}=e,{real:a,imag:r}=t,s=n.data.get(a.dataId).values,o=n.data.get(r.dataId).values,i=n.makeTensorInfo(a.shape,"complex64");return n.data.get(i.dataId).complexTensorInfos={real:n.makeTensorInfo(a.shape,"float32",s),imag:n.makeTensorInfo(r.shape,"float32",o)},i}n.d(t,{P:()=>a,z:()=>r});const r={kernelName:n(7533).Complex,backendName:"cpu",kernelFunc:a}},1211:(e,t,n)=>{"use strict";n.d(t,{Ro:()=>o,SX:()=>u});var a=n(7533),r=n(8029),s=n(6738);const o=(0,r.a)((e=>Math.exp(e))),i=(0,s.O)(a.Exp,o),u={kernelName:a.Exp,backendName:"cpu",kernelFunc:i}},969:(e,t,n)=>{"use strict";n.d(t,{OF:()=>o,Vu:()=>u});var a=n(7533),r=n(8029),s=n(6738);const o=(0,r.a)((e=>Math.expm1(e))),i=(0,s.O)(a.Expm1,o),u={kernelName:a.Expm1,backendName:"cpu",kernelFunc:i}},6574:(e,t,n)=>{"use strict";n.d(t,{r6:()=>o,Ao:()=>u});var a=n(7533),r=n(8029),s=n(6738);const o=(0,r.a)((e=>Math.floor(e))),i=(0,s.O)(a.Floor,o),u={kernelName:a.Floor,backendName:"cpu",kernelFunc:i}},1775:(e,t,n)=>{"use strict";function a(e){const{inputs:t,backend:n}=e,{x:a}=t;return n.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}n.d(t,{y:()=>a,I:()=>r});const r={kernelName:n(7533).Identity,backendName:"cpu",kernelFunc:a}},5223:(e,t,n)=>{"use strict";n.d(t,{vX:()=>o,xM:()=>u});var a=n(7533),r=n(8029),s=n(6738);const o=(0,r.a)((e=>Math.log(e))),i=(0,s.O)(a.Log,o),u={kernelName:a.Log,backendName:"cpu",kernelFunc:i}},5126:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var a=n(7533);function r(e,t,n,r){const s=a.util.getTypedArrayFromDType(r,a.util.sizeFromShape(n));for(let n=0;n<s.length;++n){const a=n*t;let r=e[a];for(let n=0;n<t;++n){const t=e[a+n];t>r&&(r=t)}s[n]=r}return s}},1917:(e,t,n)=>{"use strict";n.d(t,{$3:()=>o,Jp:()=>u,f$:()=>l});var a=n(7533),r=n(3533),s=n(546);const o=(0,r.b)(((e,t)=>e*t)),i=(0,s.H)(((e,t,n,a)=>({real:e*n-t*a,imag:e*a+t*n}))),u=(0,s.j)(a.Multiply,o,i),l={kernelName:a.Multiply,backendName:"cpu",kernelFunc:u}},8584:(e,t,n)=>{"use strict";n.d(t,{Gj:()=>o,nP:()=>u});var a=n(7533),r=n(3533),s=n(546);const o=(0,r.b)(((e,t)=>e!==t?1:0)),i=(0,s.j)(a.NotEqual,o,null,"bool"),u={kernelName:a.NotEqual,backendName:"cpu",kernelFunc:i}},2186:(e,t,n)=>{"use strict";function a(e){const{inputs:t,backend:n}=e,{input:a}=t,r=n.data.get(a.dataId).complexTensorInfos.real,s=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,s)}n.d(t,{k:()=>a,O:()=>r});const r={kernelName:n(7533).Real,backendName:"cpu",kernelFunc:a}},7742:(e,t,n)=>{"use strict";n.d(t,{zd:()=>o,FY:()=>u});var a=n(7533),r=n(8029),s=n(6738);const o=(0,r.a)((e=>1/Math.sqrt(e))),i=(0,s.O)(a.Rsqrt,o),u={kernelName:a.Rsqrt,backendName:"cpu",kernelFunc:i}},2578:(e,t,n)=>{"use strict";n.d(t,{rT:()=>s,tP:()=>o,C6:()=>i});var a=n(7533),r=n(8166);function s(e,t,n,r,s){const o=a.slice_util.isSliceContinous(r,t,n),i=a.util.sizeFromShape(n),u=a.util.computeStrides(r);if(o){const n=a.slice_util.computeFlatOffset(t,u);return e.subarray(n,n+i)}const l=a.util.getTypedArrayFromDType(s,i);for(let s=0;s<i;++s){const o=n.length,i=a.util.computeStrides(n),d=a.util.indexToLoc(s,o,i).map(((e,n)=>e+t[n])),c=a.util.locToIndex(d,r.length,u);l[s]=e[c]}return l}function o(e){const{inputs:t,backend:n,attrs:o}=e,{x:i}=t,{begin:u,size:l}=o;(0,r.H)(i,"slice");const[d,c]=a.slice_util.parseSliceParams(i,u,l);a.slice_util.assertParamsValid(i,d,c);const h=s(n.data.get(i.dataId).values,d,c,i.shape,i.dtype);return n.makeTensorInfo(c,i.dtype,h)}const i={kernelName:a.Slice,backendName:"cpu",kernelFunc:o}},212:(e,t,n)=>{"use strict";n.d(t,{Hz:()=>o,MS:()=>u});var a=n(7533),r=n(3533),s=n(546);const o=(0,r.b)(((e,t)=>{const n=e-t;return n*n})),i=(0,s.j)(a.SquaredDifference,o),u={kernelName:a.SquaredDifference,backendName:"cpu",kernelFunc:i}},1649:(e,t,n)=>{"use strict";n.d(t,{VY:()=>o,lu:()=>u,GR:()=>l});var a=n(7533),r=n(3533),s=n(546);const o=(0,r.b)(((e,t)=>e-t)),i=(0,s.H)(((e,t,n,a)=>({real:e-n,imag:t-a}))),u=(0,s.j)(a.Sub,o,i),l={kernelName:a.Sub,backendName:"cpu",kernelFunc:u}},7107:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var a=n(7533);function r(e,t,n,r,s){const o=t.length,i=a.util.sizeFromShape(t),u=a.util.computeStrides(t),l=a.util.computeStrides(s),d=a.util.getTypedArrayFromDType(n,a.util.sizeFromShape(s));for(let t=0;t<i;++t){const n=a.util.indexToLoc(t,o,u),s=new Array(n.length);for(let e=0;e<s.length;e++)s[e]=n[r[e]];d[a.util.locToIndex(s,o,l)]=e[t]}return d}},5638:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var a=n(7533);function r(e,t,n,r){const s=a.util.parseAxisParam(t,n)[0],o=[1,n[0],1];for(let e=0;e<s;e++)o[0]*=n[e];o[1]=n[s];for(let e=s+1;e<n.length;e++)o[2]*=n[e];const i={},u=new Int32Array(n[s]),l=new a.TensorBuffer(o,r,e),d=[],c=1===o[0]&&1===o[2];for(let t=0;t<n[s];t++){let n;if(c)n=e[t].toString();else{const e=[];for(let n=0;n<o[0];n++)for(let a=0;a<o[2];a++)e.push(l.get(n,t,a));n=e.join(",")}if(void 0!==i[n])u[t]=i[n];else{const e=Object.keys(i).length;i[n]=e,u[t]=e,d.push(t)}}const h=o.slice();h[1]=Object.keys(i).length;const p=new a.TensorBuffer(h,r);d.forEach(((e,t)=>{for(let n=0;n<o[0];n++)for(let a=0;a<o[2];a++)p.set(l.get(n,e,a),n,t,a)}));const m=n.slice();return m[s]=h[1],{outputValues:p.values,outputShape:m,indices:u}}},5226:(e,t,n)=>{"use strict";n.r(t),n.d(t,{simpleAbsImpl:()=>a.bk,addImpl:()=>r.EH,ceilImpl:()=>s.__,expImpl:()=>o.Ro,expm1Impl:()=>i.OF,floorImpl:()=>u.r6,logImpl:()=>l.vX,maxImpl:()=>d.B,multiplyImpl:()=>c.$3,notEqualImpl:()=>h.Gj,rsqrtImpl:()=>p.zd,sliceImpl:()=>m.rT,squaredDifferenceImpl:()=>f.Hz,subImpl:()=>_.VY,transposeImpl:()=>g.H,uniqueImpl:()=>y.S});var a=n(224),r=n(2779),s=n(4769),o=n(1211),i=n(969),u=n(6574),l=n(5223),d=n(5126),c=n(1917),h=n(8584),p=n(7742),m=n(2578),f=n(212),_=n(1649),g=n(7107),y=n(5638)},3533:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var a=n(7533);function r(e){return(t,n,r,s,o)=>{const i=a.backend_util.assertAndGetBroadcastShape(t,n),u=i.length,l=a.util.computeStrides(i),d=a.util.sizeFromShape(i),c=a.util.getTypedArrayFromDType(o,d),h=t.length,p=n.length,m=a.util.computeStrides(t),f=a.util.computeStrides(n),_=a.backend_util.getBroadcastDims(t,i),g=a.backend_util.getBroadcastDims(n,i);if(_.length+g.length===0)for(let t=0;t<c.length;++t)c[t]=e(r[t%r.length],s[t%s.length]);else for(let t=0;t<c.length;++t){const n=a.util.indexToLoc(t,u,l),o=n.slice(-h);_.forEach((e=>o[e]=0));const i=a.util.locToIndex(o,h,m),d=n.slice(-p);g.forEach((e=>d[e]=0));const y=a.util.locToIndex(d,p,f);c[t]=e(r[i],s[y])}return[c,i]}}},546:(e,t,n)=>{"use strict";n.d(t,{j:()=>i,H:()=>u});var a=n(7533),r=n(8166),s=n(9258),o=n(6961);function i(e,t,n,a){return null==n?({inputs:n,backend:s})=>{const{a:o,b:i}=n,u=s;(0,r.H)([o,i],e);const l=u.data.get(o.dataId).values,d=u.data.get(i.dataId).values,c=a||o.dtype,[h,p]=t(o.shape,i.shape,l,d,c);return u.makeTensorInfo(p,c,h)}:({inputs:e,backend:r})=>{const{a:i,b:u}=e,l=r;if("complex64"===i.dtype||"complex64"===u.dtype){const e=(0,s.p)({inputs:{x:i},backend:l,attrs:{dtype:"complex64"}}),t=l.data.get(e.dataId),a=t.complexTensorInfos.real,r=t.complexTensorInfos.imag,d=l.data.get(a.dataId).values,c=l.data.get(r.dataId).values,h=(0,s.p)({inputs:{x:u},backend:l,attrs:{dtype:"complex64"}}),p=l.data.get(h.dataId),m=p.complexTensorInfos.real,f=p.complexTensorInfos.imag,_=l.data.get(m.dataId).values,g=l.data.get(f.dataId).values,[y,b,v]=n(i.shape,u.shape,d,c,_,g),x=l.makeTensorInfo(v,"float32",y),k=l.makeTensorInfo(v,"float32",b),M=(0,o.P)({inputs:{real:x,imag:k},backend:l});return l.disposeIntermediateTensorInfo(e),l.disposeIntermediateTensorInfo(h),l.disposeIntermediateTensorInfo(x),l.disposeIntermediateTensorInfo(k),M}{const e=l.data.get(i.dataId).values,n=l.data.get(u.dataId).values,r=a||i.dtype,[s,o]=t(i.shape,u.shape,e,n,r);return l.makeTensorInfo(o,r,s)}}}function u(e){return(t,n,r,s,o,i)=>{const u=a.backend_util.assertAndGetBroadcastShape(t,n),l=a.util.sizeFromShape(u),d=u.length,c=a.util.computeStrides(u),h=a.util.getTypedArrayFromDType("float32",l),p=a.util.getTypedArrayFromDType("float32",l),m=a.backend_util.getBroadcastDims(t,u),f=a.backend_util.getBroadcastDims(n,u),_=a.backend_util.mergeRealAndImagArrays(r,s),g=a.backend_util.mergeRealAndImagArrays(o,i),y=t.length,b=a.util.computeStrides(t),v=n.length,x=a.util.computeStrides(n);if(m.length+f.length===0)for(let t=0;t<h.length;t++){const n=t%_.length,a=t%g.length,r=e(_[2*n],_[2*n+1],g[2*a],g[2*a+1]);h[t]=r.real,p[t]=r.imag}else for(let t=0;t<h.length;t++){const n=a.util.indexToLoc(t,d,c),r=n.slice(-y);m.forEach((e=>r[e]=0));const s=a.util.locToIndex(r,y,b),o=n.slice(-v);f.forEach((e=>o[e]=0));const i=a.util.locToIndex(o,v,x),u=e(_[2*s],_[2*s+1],g[2*i],g[2*i+1]);h[t]=u.real,p[t]=u.imag}return[h,p,u]}}},8029:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var a=n(7533);function r(e){return(t,n,r)=>{const s=a.util.getTypedArrayFromDType(n,t.length);for(let n=0;n<t.length;++n)s[n]=e(t[n],r);return s}}},6738:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,O:()=>o});var a=n(7533),r=n(8166);function s(e,t,n){return({inputs:s,attrs:o,backend:i})=>{const{x:u}=s;if((0,r.H)(u,e),"string"===u.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const l=i,d=l.data.get(u.dataId).values,c=a.util.sizeFromShape(u.shape),h=n||u.dtype,p=a.util.getArrayFromDType(h,c);for(let e=0;e<c;++e)p[e]=t(d[e],o);return l.makeTensorInfo(u.shape,h,p)}}function o(e,t,n){return({inputs:a,attrs:s,backend:o})=>{const{x:i}=a;if((0,r.H)(i,e),"string"===i.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const u=o,l=u.data.get(i.dataId).values,d=n||i.dtype,c=t(l,d,s);return u.makeTensorInfo(i.shape,d,c)}}},4509:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BackendWasm:()=>ke,setWasmPath:()=>Ne,setWasmPaths:()=>Ce,version_wasm:()=>Ee});var a,r,s=n(7533);let o;!function(e){e[e.float32=0]="float32",e[e.int32=1]="int32",e[e.bool=2]="bool",e[e.string=3]="string",e[e.complex64=4]="complex64"}(a||(a={})),function(e){e[e.linear=0]="linear",e[e.relu=1]="relu",e[e.relu6=2]="relu6",e[e.prelu=3]="prelu"}(r||(r={}));const i={kernelName:s._FusedMatMul,backendName:"wasm",setupFunc:function(e){o=e.wasm.cwrap(s._FusedMatMul,null,["number","array","number","number","array","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:s,b:i,bias:u,preluActivationWeights:l}=t;if("float32"!==s.dtype||"float32"!==i.dtype)throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:d,transposeB:c,activation:h}=a,p=n.dataIdMap.get(s.dataId).id,m=n.dataIdMap.get(i.dataId).id;let f=0;if(null!=u){const e=n.dataIdMap.get(u.dataId);if(1!==e.shape.length)throw new Error(`_FusedMatMul only supports rank-1 bias but got rank ${e.shape.length}.`);f=e.id}const _=null==l?0:n.dataIdMap.get(l.dataId).id,g=r[h];if(null==g)throw new Error(`${h} activation not yet supported for FusedConv2D in the wasm backend.`);const y=d?s.shape[2]:s.shape[1],b=c?i.shape[1]:i.shape[2],v=s.shape[0],x=n.makeOutput([v,y,b],s.dtype),k=n.dataIdMap.get(x.dataId).id,M=new Uint8Array(new Int32Array(s.shape).buffer),w=new Uint8Array(new Int32Array(i.shape).buffer);return o(p,M,s.shape.length,m,w,i.shape.length,d,c,g,f,_,k),x}};function u(e){let t;return{kernelName:e,backendName:"wasm",setupFunc:function(n){t=n.wasm.cwrap(e,null,["number","number"])},kernelFunc:function(e){const{backend:n,inputs:{x:a}}=e,r=n.dataIdMap.get(a.dataId).id,o=n.makeOutput(a.shape,a.dtype),i=n.dataIdMap.get(o.dataId).id;return 0===s.util.sizeFromShape(o.shape)||t(r,i),o}}}const l=u(s.Abs);function d(e,t,n){let r;return{kernelName:e,backendName:"wasm",setupFunc:function(t){r=t.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])},kernelFunc:function(o){const{backend:i,inputs:u}=o,{a:l,b:d}=u,c=i.dataIdMap.get(l.dataId).id,h=i.dataIdMap.get(d.dataId).id,p=null!=n?n:l.dtype,m=s.backend_util.assertAndGetBroadcastShape(l.shape,d.shape),f=i.makeOutput(m,p);if(0===s.util.sizeFromShape(m))return f;const _=new Uint8Array(new Int32Array(l.shape).buffer),g=new Uint8Array(new Int32Array(d.shape).buffer),y=i.dataIdMap.get(f.dataId).id,b=()=>r(c,_,l.shape.length,h,g,d.shape.length,a[l.dtype],y);if(t&&"float32"===l.dtype)return b(),f;const v=s.backend_util.getBroadcastDims(l.shape,m),x=s.backend_util.getBroadcastDims(d.shape,m),k=v.every(((e,t)=>e===t)),M=x.every(((e,t)=>e===t));if(k&&M)return b(),f;throw new Error(`Broadcasting along outer dims is not yet supported for ${l.dtype} ${e}.`)}}}const c=d(s.Add,!0);let h;const p={kernelName:s.AddN,backendName:"wasm",setupFunc:function(e){h=e.wasm.cwrap(s.AddN,null,["array","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,r=n.makeOutput(t[0].shape,t[0].dtype);if(0===s.util.sizeFromShape(r.shape))return r;const o=t.map((e=>n.dataIdMap.get(e.dataId).id)),i=new Uint8Array(new Int32Array(o).buffer),u=n.dataIdMap.get(r.dataId).id;return h(i,o.length,a[r.dtype],u),r}};function m(e){const{inputs:{x:t},backend:n}=e,a=n.makeOutput(t.shape,t.dtype),r=n.typedArrayFromHeap(t);return n.typedArrayFromHeap(a).set(r),a}const f={kernelName:s.Identity,backendName:"wasm",kernelFunc:m};let _;function g(e){const{inputs:t,backend:n,attrs:r}=e,[s,o]=function(e,t){const n=[],a=[];for(let r=0;r<e.length;++r)1!==e[r]&&n.push(e[r]),1!==e[t[r]]&&a.push(t[r]);for(let e=0;e<a.length;++e){let t=-1;for(let n=0;n<a.length;++n)a[n]>=e&&(-1===t||a[t]>a[n])&&(t=n);a[t]=e}return[n,a]}(t.x.shape,r.perm);let i=!0;for(let e=0;e<o.length;e++)o[e]!==e&&(i=!1);const u=function(e,t){const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[t[a]];return n}(t.x.shape,r.perm),l={dataId:t.x.dataId,shape:s,dtype:t.x.dtype};if(i){const e=m({inputs:t,backend:n});return e.shape=u,e}const d=n.makeOutput(u,l.dtype),c=n.dataIdMap.get(l.dataId).id,h=n.dataIdMap.get(d.dataId).id,p=new Uint8Array(new Int32Array(o).buffer),f=new Uint8Array(new Int32Array(l.shape).buffer);return _(c,f,l.shape.length,a[l.dtype],h,p,o.length),d}const y={kernelName:s.Transpose,backendName:"wasm",kernelFunc:g,setupFunc:function(e){_=e.wasm.cwrap(s.Transpose,null,["number","array","number","number","number","array","number"])}};function b(e,t,n){const a=e.shape,r=e.shape.length,o=s.util.parseAxisParam(t,a);let i=o;const u=s.backend_util.getAxesPermutation(i,r);let l=null,d=!1;if(null!=u){const t=new Array(r);for(let e=0;e<t.length;e++)t[e]=a[u[e]];i=s.backend_util.getInnerMostAxes(i.length,r),l=g({inputs:{x:e},attrs:{perm:u},backend:n});const o=n.dataIdMap.get(e.dataId).id;n.dataIdMap.get(l.dataId).id!==o&&(d=!0)}return{transposed:l,originalAxes:o,axes:i,inputWasTransposed:d}}let v;const x={kernelName:s.ArgMax,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:o}=r,{x:i}=n,u=t.dataIdMap.get(i.dataId).id;let l=u,d=i;const{transposed:c,axes:h,inputWasTransposed:p}=b(i,o,t);if(p){const e=t.dataIdMap.get(c.dataId).id;e!==u&&(d=c,l=e)}const m=d.shape.slice(0,-1),f=t.makeOutput(m,"int32"),_=t.dataIdMap.get(f.dataId).id,g=s.util.sizeFromShape(f.shape),y=d.shape[h[0]];return v(l,a[d.dtype],g,y,_),p&&t.disposeData(c.dataId),f},setupFunc:function(e){v=e.wasm.cwrap(s.ArgMax,null,["number","number","number","number","number"])}};let k;const M={kernelName:s.AvgPool,backendName:"wasm",setupFunc:function(e){k=e.wasm.cwrap(s.AvgPool,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,r=t.x,o=a.dataIdMap.get(r.dataId).id,{filterSize:i,strides:u,pad:l,dimRoundingMode:d}=n,c=s.backend_util.computePool2DInfo(r.shape,i,u,1,l,d),h=c.filterHeight,p=c.filterWidth,m=c.padInfo.top,f=c.padInfo.right,_=c.padInfo.bottom,g=c.padInfo.left,y=c.strideHeight,b=c.strideWidth,v=c.inChannels;if("channelsLast"!==c.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${c.dataFormat}'. Please use 'channelsLast'.`);if(1!==c.dilationWidth||1!==c.dilationHeight)throw new Error(`was backend only supports average pooling with dilation = [1, 1], got [${c.dilationHeight}, ${c.dilationWidth}].`);const x=a.makeOutput(c.outShape,"float32"),M=a.dataIdMap.get(x.dataId).id;return k(o,r.shape[0],r.shape[1],r.shape[2],h,p,m,f,_,g,y,b,v,M),x}};function w(e){const{inputs:t,attrs:n}=e,{x:a}=t,{shape:r}=n,o=s.util.sizeFromShape(a.shape),i=s.util.inferFromImplicitShape(r,o);return s.util.assert(o===s.util.sizeFromShape(i),(()=>`new shape: ${i}, old shape: ${a.shape}. New shape and old shape must have the same number of elements.`)),{dataId:a.dataId,shape:i,dtype:a.dtype}}const T={kernelName:s.Reshape,backendName:"wasm",kernelFunc:w};let L;const S={kernelName:s.BatchMatMul,backendName:"wasm",setupFunc:function(e){L=e.wasm.cwrap(s.BatchMatMul,null,["number","array","number","number","array","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:o}=t,{transposeA:i,transposeB:u}=a;if("float32"!==r.dtype||"float32"!==o.dtype)throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const l=r.shape.length,d=o.shape.length,c=i?r.shape[l-2]:r.shape[l-1],h=u?o.shape[d-1]:o.shape[d-2],p=i?r.shape[l-1]:r.shape[l-2],m=u?o.shape[d-2]:o.shape[d-1],f=r.shape.slice(0,-2),_=o.shape.slice(0,-2),g=s.util.sizeFromShape(f),y=s.util.sizeFromShape(_),b=g===y||1===g||1===y;s.util.assert(l>=2&&d>=2&&b,(()=>`Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input batch dimensions of (${f}) and (${_}).`));const v=(g>y?r.shape.slice(0,-2):o.shape.slice(0,-2)).concat([p,m]);s.util.assert(c===h,(()=>`Error in matMul: inner shapes (${c}) and (${h}) of Tensors with shapes ${r.shape} and ${o.shape} and transposeA=${i} and transposeB=${u} must match.`));const x=u?[y,m,h]:[y,h,m],k=w({inputs:{x:r},backend:n,attrs:{shape:i?[g,c,p]:[g,p,c]}}),M=w({inputs:{x:o},backend:n,attrs:{shape:x}}),T=n.dataIdMap.get(k.dataId).id,S=n.dataIdMap.get(M.dataId).id,D=i?k.shape[2]:k.shape[1],I=u?M.shape[1]:M.shape[2],N=Math.max(g,y),C=n.makeOutput([N,D,I],k.dtype),E=n.dataIdMap.get(C.dataId).id,A=new Uint8Array(new Int32Array(k.shape).buffer),Y=new Uint8Array(new Int32Array(M.shape).buffer);return L(T,A,k.shape.length,S,Y,M.shape.length,i,u,E),C.shape=v,C}};function D(e){const{inputs:{x:t},attrs:{dtype:n},backend:a}=e,r=a.makeOutput(t.shape,n),s=a.typedArrayFromHeap(t);return a.typedArrayFromHeap(r).set(s),r}const I={kernelName:s.Cast,backendName:"wasm",kernelFunc:D};let N;const C={kernelName:s.ClipByValue,backendName:"wasm",setupFunc:function(e){N=e.wasm.cwrap(s.ClipByValue,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{clipValueMin:s,clipValueMax:o}=a,i=n.dataIdMap.get(r.dataId).id,u=n.makeOutput(r.shape,r.dtype),l=n.dataIdMap.get(u.dataId).id;return N(i,s,o,l),u}},E={kernelName:s.Concat,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,a=s.util.parseAxisParam(e.attrs.axis,t[0].shape)[0],r=s.backend_util.computeOutShape(t.map((e=>e.shape)),a),o=n.makeOutput(r,t[0].dtype);if(0===s.util.sizeFromShape(r))return o;const i=t.filter((e=>s.util.sizeFromShape(e.shape)>0));if(1===i.length)return i[0];const u=i.map((e=>e.shape));s.backend_util.assertParamsConsistent(u,a);const l=s.util.sizeFromShape(i[0].shape.slice(0,a));let d=0;const c=i.map((e=>{const t=s.util.sizeFromShape(e.shape.slice(a));return d+=t,t})),h=i.map((e=>n.typedArrayFromHeap(e))),p=n.typedArrayFromHeap(o);for(let e=0;e<l;e++){let t=e*d;for(let n=0;n<h.length;n++){const a=c[n],r=e*a,s=h[n].subarray(r,r+a);p.set(s,t),t+=a}}return o}};let A;const Y={kernelName:s.Conv2D,backendName:"wasm",setupFunc:function(e){A=e.wasm.cwrap(s.Conv2D,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{x:r,filter:o}=t,i=a.dataIdMap.get(r.dataId).id,u=a.dataIdMap.get(o.dataId).id,{strides:l,dilations:d,pad:c,dimRoundingMode:h,dataFormat:p}=n,m=s.backend_util.convertConv2DDataFormat(p),f=s.backend_util.computeConv2DInfo(r.shape,o.shape,l,d,c,h,!1,m),_=f.filterHeight,g=f.filterWidth,y=f.padInfo.top,b=f.padInfo.right,v=f.padInfo.bottom,x=f.padInfo.left,k=f.dilationHeight,M=f.dilationWidth,w=f.strideHeight,T=f.strideWidth,L=f.inChannels,S=f.outChannels,D="SAME"===f.padInfo.type?1:0;if("channelsLast"!==f.dataFormat)throw new Error(`wasm backend Conv2D does not support dataFormat:'${f.dataFormat}'. Please use 'channelsLast'.`);const I=a.makeOutput(f.outShape,"float32"),N=a.dataIdMap.get(I.dataId).id;return A(i,r.shape[0],r.shape[1],r.shape[2],u,_,g,y,b,v,x,D,k,M,w,T,L,S,N),I}};let F;const R={kernelName:s.Conv2DBackpropInput,backendName:"wasm",setupFunc:function(e){F=e.wasm.cwrap(s.Conv2DBackpropInput,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{dy:r,filter:o}=n,{strides:i,pad:u,dataFormat:l,dimRoundingMode:d,inputShape:c}=a,h=s.backend_util.convertConv2DDataFormat(l),p=s.backend_util.computeConv2DInfo(c,o.shape,i,1,u,d,!1,h),{batchSize:m,filterHeight:f,filterWidth:_,inChannels:g,inHeight:y,inWidth:b,outChannels:v,outHeight:x,outWidth:k,strideHeight:M,strideWidth:w}=p,T=f-1-p.padInfo.top,L=_-1-p.padInfo.left,S="channelsLast"===p.dataFormat,D=s.util.computeStrides(p.inShape),I=s.util.computeStrides(r.shape),[N,C,E]=s.util.computeStrides(o.shape),A=D[0],Y=S?D[1]:D[2],R=S?D[2]:1,O=S?1:D[1],$=I[0],P=S?I[1]:I[2],H=S?I[2]:1,B=S?1:I[1],W=t.makeOutput(p.inShape,"float32"),z=t.dataIdMap.get(W.dataId).id,j=t.dataIdMap.get(r.dataId).id,V=t.dataIdMap.get(o.dataId).id;return F(j,V,m,f,_,y,b,g,x,k,v,M,w,T,L,N,C,E,A,Y,R,O,$,P,H,B,z),W}},O=u(s.Cos);var $;let P,H,B,W,z,j,V,U,G,q,X,K,J,Q,Z,ee,te,ne,ae,re,se,oe,ie,ue,le,de,ce,he,pe;function me(e,t){const n=new Int32Array(e.wasm.HEAPU8.buffer,t,4),a=n[0],r=n[1],s=n[2],o=n[3];return e.wasm._free(t),{pSelectedIndices:a,selectedSize:r,pSelectedScores:s,pValidOutputs:o}}function fe(e){const{inputs:{x:t},attrs:{begin:n,size:a},backend:r}=e,[o,i]=s.slice_util.parseSliceParams(t,n,a),u=s.slice_util.isSliceContinous(t.shape,o,i),l=r.typedArrayFromHeap(t),d=r.makeOutput(i,t.dtype),c=r.typedArrayFromHeap(d),h=s.util.computeStrides(t.shape);if(u){const e=s.slice_util.computeFlatOffset(o,h);return c.set(l.subarray(e,e+s.util.sizeFromShape(i))),d}const p=t.shape.length;return 2===p?function(e,t,n,a,r){let s=0;const o=a[0],i=a[1],u=o+r[0];for(let a=o;a<u;a++){const o=a*t+i;n.set(e.subarray(o,o+r[1]),s),s+=r[1]}}(l,h[0],c,o,i):3===p?function(e,t,n,a,r,s){let o=0;const i=r[0],u=r[1],l=r[2],d=i+s[0],c=u+s[1];for(let r=i;r<d;r++)for(let i=u;i<c;i++){const u=r*t+i*n+l;a.set(e.subarray(u,u+s[2]),o),o+=s[2]}}(l,h[0],h[1],c,o,i):4===p?function(e,t,n,a,r,s,o){let i=0;const u=s[0],l=s[1],d=s[2],c=u+o[0],h=l+o[1],p=d+o[2],m=s[3];for(let s=u;s<c;s++)for(let u=l;u<h;u++)for(let l=d;l<p;l++){const d=s*t+u*n+l*a+m;r.set(e.subarray(d,d+o[3]),i),i+=o[3]}}(l,h[0],h[1],h[2],c,o,i):function(e,t,n,a,r){const o=(0,s.buffer)(r,t.dtype,n),i=(0,s.buffer)(t.shape,t.dtype,e);for(let e=0;e<o.size;++e){const t=o.indexToLoc(e).map(((e,t)=>e+a[t]));n[e]=i.get(...t)}}(l,t,c,o,i),d}!function(e){e[e.bilinear=0]="bilinear",e[e.nearest=1]="nearest"}($||($={}));const _e=[l,c,p,x,M,S,I,C,E,Y,R,O,{kernelName:s.CropAndResize,backendName:"wasm",setupFunc:function(e){P=e.wasm.cwrap(s.CropAndResize,null,["number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{method:r,extrapolationValue:s,cropSize:o}=a,{image:i,boxes:u,boxInd:l}=n,d=u.shape[0],[c,h]=o,p=[d,c,h,i.shape[3]];let m,f=t.dataIdMap.get(i.dataId);"float32"!==i.dtype&&(m=D({backend:t,inputs:{x:i},attrs:{dtype:"float32"}}),f=t.dataIdMap.get(m.dataId));const _=f.id,g=t.dataIdMap.get(u.dataId).id,y=t.dataIdMap.get(l.dataId).id,b=t.makeOutput(p,"float32"),v=t.dataIdMap.get(b.dataId).id,x=new Uint8Array(new Int32Array(i.shape).buffer);return P(_,g,y,d,x,c,h,$[r],s,v),null!=m&&t.disposeData(m.dataId),b}},{kernelName:s.Cumsum,backendName:"wasm",setupFunc:function(e){H=e.wasm.cwrap(s.Cumsum,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:u,reverse:l}=r,d=o.shape.length;s.util.assert("float32"===o.dtype||"int32"===o.dtype,(()=>`cumsum does not support ${o.dtype} tensors in the WASM backend`));const c=s.backend_util.getAxesPermutation([i],d);let h=o;null!==c&&(h=g({inputs:{x:o},attrs:{perm:c},backend:n}));const p=s.backend_util.getInnerMostAxes(1,d)[0];s.backend_util.assertAxesAreInnerMostDims("cumsum",[p],d);const m=n.makeOutput(h.shape,h.dtype),f=h.shape[p],_=n.dataIdMap.get(h.dataId).id,y=n.dataIdMap.get(m.dataId).id;H(_,u?1:0,l?1:0,f,y,a[o.dtype]);let b=m;return null!==c&&(b=g({inputs:{x:m},attrs:{perm:s.backend_util.getUndoAxesPermutation(c)},backend:n}),n.disposeData(h.dataId),n.disposeData(m.dataId)),b}},{kernelName:s.DepthToSpace,backendName:"wasm",setupFunc:function(e){B=e.wasm.cwrap(s.DepthToSpace,null,["number","number","number","array","number","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{x:r}=n,{blockSize:o,dataFormat:i}=a;s.util.assert(o>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${o}`));const u=r.shape[0],l="NHWC"===i?r.shape[1]:r.shape[2],d="NHWC"===i?r.shape[2]:r.shape[3],c="NHWC"===i?r.shape[3]:r.shape[1],h=l*o,p=d*o,m=c/(o*o),f="NHWC"===i?[u,h,p,m]:[u,m,h,p],_=t.makeOutput(f,"float32"),g=t.dataIdMap.get(r.dataId).id,y=new Uint8Array(new Int32Array(s.util.computeStrides(r.shape)).buffer),b=new Uint8Array(new Int32Array(f).buffer),v=new Uint8Array(new Int32Array(s.util.computeStrides(f)).buffer),x=t.dataIdMap.get(_.dataId).id;return B(g,o,"NHWC"===i?1:0,y,r.shape.length-1,b,v,f.length,x),_}},{kernelName:s.DepthwiseConv2dNative,backendName:"wasm",setupFunc:function(e){W=e.wasm.cwrap(s.DepthwiseConv2dNative,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{x:r,filter:o}=t,i=a.dataIdMap.get(r.dataId).id,u=a.dataIdMap.get(o.dataId).id,{strides:l,dilations:d,pad:c,dimRoundingMode:h}=n,p=null==d?[1,1]:d,m=s.backend_util.computeConv2DInfo(r.shape,o.shape,l,p,c,h,!0),f=m.filterHeight,_=m.filterWidth,g=m.padInfo.top,y=m.padInfo.right,b=m.padInfo.bottom,v=m.padInfo.left,x=m.dilationHeight,k=m.dilationWidth,M=m.strideHeight,w=m.strideWidth,T=m.inChannels,L=m.outChannels,S="SAME"===m.padInfo.type?1:0;if("channelsLast"!==m.dataFormat)throw new Error(`wasm backend DepthwiseConv2dNative does not support dataFormat:'${m.dataFormat}'. Please use 'channelsLast'.`);const D=a.makeOutput(m.outShape,"float32"),I=a.dataIdMap.get(D.dataId).id;return W(i,r.shape[0],r.shape[1],r.shape[2],u,f,_,g,y,b,v,S,x,k,M,w,T,L,I),D}},d(s.Div,!0),d(s.Equal,!1,"bool"),u(s.Exp),{kernelName:s.Fill,backendName:"wasm",kernelFunc:function(e){const{attrs:{shape:t,value:n,dtype:a},backend:r}=e,s=r.makeOutput(t,a);return r.typedArrayFromHeap(s).fill(n),s}},{kernelName:s.FlipLeftRight,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{image:a}=t,r=n.makeOutput(a.shape,a.dtype),s=n.dataIdMap.get(a.dataId).id,o=n.dataIdMap.get(r.dataId).id,[i,u,l,d]=a.shape;return z(s,i,u,l,d,o),r},setupFunc:function(e){z=e.wasm.cwrap(s.FlipLeftRight,null,["number","number","number","number","number","number"])}},d(s.FloorDiv,!1),i,{kernelName:s.FusedBatchNorm,backendName:"wasm",setupFunc:function(e){j=e.wasm.cwrap(s.FusedBatchNorm,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{varianceEpsilon:r}=a,{x:o,mean:i,variance:u,offset:l,scale:d}=n,c=t.dataIdMap.get(o.dataId).id,h=t.dataIdMap.get(i.dataId).id,p=t.dataIdMap.get(u.dataId).id,m=null!=l?t.dataIdMap.get(l.dataId).id:0,f=null!=d?t.dataIdMap.get(d.dataId).id:0,_=t.makeOutput(o.shape,o.dtype);if(0===s.util.sizeFromShape(o.shape))return _;const g=t.dataIdMap.get(_.dataId).id;return j(c,h,p,m,f,r,g),_}},{kernelName:s.FusedConv2D,backendName:"wasm",setupFunc:function(e){V=e.wasm.cwrap(s.FusedConv2D,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{x:o,filter:i,bias:u,preluActivationWeights:l}=t,{strides:d,pad:c,dilations:h,dataFormat:p,dimRoundingMode:m,activation:f}=n,_=s.backend_util.computeConv2DInfo(o.shape,i.shape,d,h,c,m),g=r[f];if(null==g)throw new Error(`${f} activation not yet supported for FusedConv2D in the wasm backend.`);const y=a.dataIdMap.get(o.dataId).id,b=a.dataIdMap.get(i.dataId).id,v=_.outChannels;let x=0;if(null!=u){const e=a.dataIdMap.get(u.dataId);if(1!==e.shape.length)throw new Error(`FusedConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==v)throw new Error(`FusedConv2D bias shape (${e.shape}) does not match the number of output channels (${v})`);x=e.id}const k=_.filterHeight,M=_.filterWidth,w=_.padInfo.top,T=_.padInfo.right,L=_.padInfo.bottom,S=_.padInfo.left,D=_.dilationHeight,I=_.dilationWidth,N=_.strideHeight,C=_.strideWidth,E=_.inChannels,A="SAME"===_.padInfo.type?1:0,Y=_.batchSize,F=_.inHeight,R=_.inWidth;if("NHWC"!==p)throw new Error(`wasm backend FusedConv2D does not support dataFormat:'${p}'. Please use 'NHWC'.`);const O=a.makeOutput(_.outShape,"float32"),$=a.dataIdMap.get(O.dataId).id,P=null==l?0:a.dataIdMap.get(l.dataId).id;return V(y,Y,F,R,b,k,M,x,w,T,L,S,A,D,I,N,C,E,v,g,P,$),O}},{kernelName:s.FusedDepthwiseConv2D,backendName:"wasm",setupFunc:function(e){U=e.wasm.cwrap(s.FusedDepthwiseConv2D,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{x:o,filter:i,bias:u,preluActivationWeights:l}=t,{strides:d,pad:c,dilations:h,dataFormat:p,dimRoundingMode:m,activation:f}=n,_=s.backend_util.computeConv2DInfo(o.shape,i.shape,d,h,c,m,!0),g=r[f];if(null==g)throw new Error(`${f} activation not yet supported for FusedDepthwiseConv2D in the wasm backend.`);const y=a.dataIdMap.get(o.dataId).id,b=a.dataIdMap.get(i.dataId).id,v=_.outChannels;let x=0;if(null!=u){const e=a.dataIdMap.get(u.dataId);if(1!==e.shape.length)throw new Error(`FusedDepthwiseConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==v)throw new Error(`FusedDepthwiseConv2D bias shape (${e.shape}) does not match the number of output channels (${v})`);x=e.id}const k=_.filterHeight,M=_.filterWidth,w=_.padInfo.top,T=_.padInfo.right,L=_.padInfo.bottom,S=_.padInfo.left,D=_.dilationHeight,I=_.dilationWidth,N=_.strideHeight,C=_.strideWidth,E=_.inChannels,A="SAME"===_.padInfo.type?1:0,Y=_.batchSize,F=_.inHeight,R=_.inWidth;if("NHWC"!==p)throw new Error(`wasm backend FusedDepthwiseConv2D does not support dataFormat:'${p}'. Please use 'NHWC'.`);const O=a.makeOutput(_.outShape,"float32"),$=a.dataIdMap.get(O.dataId).id,P=null==l?0:a.dataIdMap.get(l.dataId).id;return U(y,Y,F,R,b,k,M,x,w,T,L,S,A,D,I,N,C,E,v,g,P,$),O}},{kernelName:s.GatherNd,backendName:"wasm",setupFunc:function(e){G=e.wasm.cwrap(s.GatherNd,null,["number","number","number","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{params:r,indices:o}=n,[i,u,l,d]=s.gather_util.prepareAndValidate(r,o),c=t.makeOutput(i,r.dtype);if(0===u)return c;const h=o.shape,p=h[h.length-1],m=t.dataIdMap.get(r.dataId).id,f=t.dataIdMap.get(o.dataId).id,_=new Uint8Array(new Int32Array(d).buffer),g=t.dataIdMap.get(c.dataId).id;return G(m,a[r.dtype],f,u,p,l,_,g),c}},{kernelName:s.GatherV2,backendName:"wasm",setupFunc:function(e){q=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:o,indices:i}=n,{axis:u}=r,l=o.shape.slice();l[u]=s.util.sizeFromShape(i.shape);const d=o.shape.length-1,c=t.makeOutput(l,o.dtype);if(0===s.util.sizeFromShape(o.shape))return c;const h=t.dataIdMap.get(o.dataId).id,p=t.dataIdMap.get(i.dataId).id,m=t.dataIdMap.get(c.dataId).id,f=new Uint8Array(new Int32Array(s.util.computeStrides(o.shape)).buffer),_=new Uint8Array(new Int32Array(s.util.computeStrides(l)).buffer);q(h,a[o.dtype],f,d,p,u,_,m);const g=s.util.parseAxisParam(u,o.shape)[0],y=s.backend_util.segment_util.collectGatherOpShapeInfo(o,i,g);return c.shape=y.outputShape,c}},d(s.Greater,!1,"bool"),d(s.GreaterEqual,!1,"bool"),f,d(s.Less,!1,"bool"),d(s.LessEqual,!1,"bool"),u(s.Log),d(s.LogicalAnd,!1,"bool"),{kernelName:s.Max,backendName:"wasm",setupFunc:function(e){X=e.wasm.cwrap(s.Max,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{reductionIndices:r,keepDims:o}=a,{x:i}=n;let u=t.dataIdMap.get(i.dataId).id,l=i;const{transposed:d,axes:c,originalAxes:h,inputWasTransposed:p}=b(i,r,t);p&&(l=d,u=t.dataIdMap.get(d.dataId).id);const m=l.shape.length;s.backend_util.assertAxesAreInnerMostDims("max",c,m);const[f,_]=s.backend_util.computeOutAndReduceShapes(l.shape,c),g=s.util.sizeFromShape(_),y=t.makeOutput(f,i.dtype);if(0!==s.util.sizeFromShape(l.shape)){const e=t.dataIdMap.get(y.dataId).id;X(u,g,e)}if(p&&t.disposeData(d.dataId),o){const e=s.backend_util.expandShapeToKeepDim(y.shape,h);y.shape=e}return y}},d(s.Maximum,!1),{kernelName:s.MaxPool,backendName:"wasm",setupFunc:function(e){K=e.wasm.cwrap(s.MaxPool,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,r=t.x,o=a.dataIdMap.get(r.dataId).id,{filterSize:i,strides:u,pad:l,dimRoundingMode:d}=n,c=s.backend_util.computePool2DInfo(r.shape,i,u,1,l,d),h=c.filterHeight,p=c.filterWidth,m=c.padInfo.top,f=c.padInfo.right,_=c.padInfo.bottom,g=c.padInfo.left,y=c.dilationHeight,b=c.dilationWidth,v=c.strideHeight,x=c.strideWidth,k=c.inChannels,M=c.outChannels;if("channelsLast"!==c.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${c.dataFormat}'. Please use 'channelsLast'.`);const w=a.makeOutput(c.outShape,"float32"),T=a.dataIdMap.get(w.dataId).id;return K(o,r.shape[0],r.shape[1],r.shape[2],h,p,m,f,_,g,y,b,v,x,k,M,T),w}},{kernelName:s.Min,backendName:"wasm",setupFunc:function(e){J=e.wasm.cwrap(s.Min,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{axis:r,keepDims:o}=a,{x:i}=n,u=t.dataIdMap.get(i.dataId).id;let l=u,d=i;const{transposed:c,axes:h,originalAxes:p,inputWasTransposed:m}=b(i,r,t);if(m){const e=t.dataIdMap.get(c.dataId).id;e!==u&&(d=c,l=e)}const f=d.shape.length;s.backend_util.assertAxesAreInnerMostDims("min",h,f);const[_,g]=s.backend_util.computeOutAndReduceShapes(d.shape,h),y=s.util.sizeFromShape(g),v=t.makeOutput(_,d.dtype);if(0!==s.util.sizeFromShape(d.shape)){const e=t.dataIdMap.get(v.dataId).id;J(l,y,e)}if(m&&t.disposeData(c.dataId),o){const e=s.backend_util.expandShapeToKeepDim(v.shape,p);v.shape=e}return v}},d(s.Minimum,!1),d(s.Multiply,!0),u(s.Negate),{kernelName:s.NonMaxSuppressionV3,backendName:"wasm",setupFunc:function(e){Q=e.wasm.cwrap(s.NonMaxSuppressionV3,"number",["number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{iouThreshold:r,maxOutputSize:s,scoreThreshold:o}=a,{boxes:i,scores:u}=n,l=t.dataIdMap.get(i.dataId).id,d=t.dataIdMap.get(u.dataId).id,c=Q(l,d,s,r,o),{pSelectedIndices:h,selectedSize:p,pSelectedScores:m,pValidOutputs:f}=me(t,c);return t.wasm._free(m),t.wasm._free(f),t.makeOutput([p],"int32",h)}},{kernelName:s.NonMaxSuppressionV4,backendName:"wasm",setupFunc:function(e){Z=e.wasm.cwrap(s.NonMaxSuppressionV4,"number",["number","number","number","number","number","bool"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{iouThreshold:r,maxOutputSize:s,scoreThreshold:o,padToMaxOutputSize:i}=a,{boxes:u,scores:l}=n,d=t.dataIdMap.get(u.dataId).id,c=t.dataIdMap.get(l.dataId).id,h=Z(d,c,s,r,o,i),{pSelectedIndices:p,selectedSize:m,pSelectedScores:f,pValidOutputs:_}=me(t,h);return t.wasm._free(f),[t.makeOutput([m],"int32",p),t.makeOutput([],"int32",_)]}},{kernelName:s.NonMaxSuppressionV5,backendName:"wasm",setupFunc:function(e){ee=e.wasm.cwrap(s.NonMaxSuppressionV5,"number",["number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{iouThreshold:r,maxOutputSize:s,scoreThreshold:o,softNmsSigma:i}=a,{boxes:u,scores:l}=n,d=t.dataIdMap.get(u.dataId).id,c=t.dataIdMap.get(l.dataId).id,h=ee(d,c,s,r,o,i),{pSelectedIndices:p,selectedSize:m,pSelectedScores:f,pValidOutputs:_}=me(t,h);return t.wasm._free(_),[t.makeOutput([m],"int32",p),t.makeOutput([m],"float32",f)]}},d(s.NotEqual,!1,"bool"),{kernelName:s.OneHot,backendName:"wasm",setupFunc:function(e){te=e.wasm.cwrap(s.OneHot,null,["number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{indices:r}=t,{depth:s,onValue:o,offValue:i}=a,u=n.makeOutput([...r.shape,s],"int32"),l=n.dataIdMap.get(u.dataId).id,d=n.dataIdMap.get(r.dataId).id;return te(d,s,o,i,l),u}},{kernelName:s.OnesLike,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,a=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(a).fill(1),a}},{kernelName:s.PadV2,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:r,constantValue:s}}=e,o=r.map(((e,n)=>e[0]+t.shape[n]+e[1])),i=n.dataIdMap.get(t.dataId).id,u=n.makeOutput(o,t.dtype),l=n.dataIdMap.get(u.dataId).id,d=new Uint8Array(new Int32Array(t.shape).buffer),c=r.map((e=>e[0])),h=r.map((e=>e[1])),p=new Uint8Array(new Int32Array(c).buffer),m=new Uint8Array(new Int32Array(h).buffer);return ne(i,d,t.shape.length,a[t.dtype],p,m,s,l),u},setupFunc:function(e){ne=e.wasm.cwrap(s.PadV2,null,["number","array","number","number","array","array","number","number"])}},d(s.Pow,!1),{kernelName:s.Prelu,backendName:"wasm",setupFunc:function(e){ae=e.wasm.cwrap(s.Prelu,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a,alpha:r}=t,s=n.dataIdMap.get(a.dataId).id,o=n.dataIdMap.get(r.dataId).id,i=n.makeOutput(a.shape,"float32"),u=n.dataIdMap.get(i.dataId).id;return ae(s,o,u),i}},u(s.Relu),u(s.Relu6),T,{kernelName:s.ResizeBilinear,backendName:"wasm",setupFunc:function(e){re=e.wasm.cwrap(s.ResizeBilinear,null,["number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{images:r}=n,{alignCorners:o,size:i}=a,[u,l]=i,[d,c,h,p]=r.shape,m=[d,u,l,p];let f,_=t.dataIdMap.get(r.dataId);"float32"!==_.dtype&&(f=D({backend:t,inputs:{x:r},attrs:{dtype:"float32"}}),_=t.dataIdMap.get(f.dataId));const g=_.id,y=t.makeOutput(m,"float32");if(0===s.util.sizeFromShape(r.shape))return y;const b=t.dataIdMap.get(y.dataId).id;return re(g,d,c,h,p,u,l,o?1:0,b),null!=f&&t.disposeData(f.dataId),y}},{kernelName:s.Reverse,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{dims:o}=a,i=s.util.parseAxisParam(o,r.shape);if(0===r.shape.length)return m({inputs:{x:r},backend:n});const u=n.makeOutput(r.shape,r.dtype),l=n.dataIdMap.get(r.dataId).id,d=n.dataIdMap.get(u.dataId).id,c=new Uint8Array(new Int32Array(i).buffer),h=new Uint8Array(new Int32Array(r.shape).buffer);return se(l,c,i.length,h,r.shape.length,d),w({inputs:{x:u},attrs:{shape:r.shape},backend:n})},setupFunc:function(e){se=e.wasm.cwrap(s.Reverse,null,["number","array","number","array","number","number"])}},{kernelName:s.RotateWithOffset,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{image:r}=t,{radians:o,fillValue:i,center:u}=a,l=n.makeOutput(r.shape,r.dtype),d=n.dataIdMap.get(r.dataId).id,c=n.dataIdMap.get(l.dataId).id,[h,p,m,f]=r.shape,[_,g]=s.backend_util.getImageCenter(u,p,m),y="number"==typeof i?[i,i,i,0===i?0:255]:[...i,255],b=new Uint8Array(new Int32Array(y).buffer);return oe(d,h,p,m,f,o,_,g,b,y.length,c),l},setupFunc:function(e){oe=e.wasm.cwrap(s.RotateWithOffset,null,["number","number","number","number","number","number","number","number","array","number","number"])}},u(s.Rsqrt),{kernelName:s.ScatterNd,backendName:"wasm",setupFunc:function(e){ie=e.wasm.cwrap(s.ScatterNd,null,["number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{indices:o,updates:i}=n,{shape:u}=r,l=t.makeOutput(u,i.dtype);if(0===s.util.sizeFromShape(u))return l;const{sliceRank:d,numUpdates:c,sliceSize:h,strides:p,outputSize:m}=s.scatter_util.calculateShapes(i,o,u),f=t.dataIdMap.get(o.dataId).id,_=t.dataIdMap.get(i.dataId).id,g=new Uint8Array(new Int32Array(p).buffer),y=t.dataIdMap.get(l.dataId).id;return ie(f,_,a[i.dtype],d,c,h,g,m,y),l}},{kernelName:s.SelectV2,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:a,t:r,e:o}=t,i=n.dataIdMap.get(a.dataId).id,u=n.dataIdMap.get(r.dataId).id,l=n.dataIdMap.get(o.dataId).id,d=n.makeOutput(r.shape,r.dtype),c=n.dataIdMap.get(d.dataId).id,h=a.shape.length,p=r.shape.length,m=0===h||h>1||1===p?1:s.util.sizeFromShape(r.shape.slice(1));return ue(i,u,l,m,c),d},setupFunc:function(e){ue=e.wasm.cwrap(s.SelectV2,null,["number","number","number","number","number"])}},{kernelName:"Sigmoid",backendName:"wasm",setupFunc:function(e){le=e.wasm.cwrap(s.Sigmoid,null,["number","number"])},kernelFunc:function(e){const{backend:t,inputs:{x:n}}=e,a=t.dataIdMap.get(n.dataId).id,r=t.makeOutput(n.shape,n.dtype),o=t.dataIdMap.get(r.dataId).id;return 0===s.util.sizeFromShape(r.shape)||le(a,o),r}},u(s.Sin),{kernelName:s.Slice,backendName:"wasm",kernelFunc:fe},{kernelName:s.Softmax,backendName:"wasm",setupFunc:function(e){de=e.wasm.cwrap(s.Softmax,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:{logits:n},attrs:{dim:a}}=e,r=t.dataIdMap.get(n.dataId).id,o=t.makeOutput(n.shape,n.dtype),i=t.dataIdMap.get(o.dataId).id,u=n.shape[a],l=s.util.sizeFromShape(n.shape)/u;return 0===s.util.sizeFromShape(o.shape)||de(r,i,u,l),o}},{kernelName:s.SplitV,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{x:r}=t,{numOrSizeSplits:o,axis:i}=n,u=s.util.parseAxisParam(i,r.shape)[0],l=s.backend_util.prepareSplitSize(r,o,i),d=new Array(r.shape.length).fill(0),c=r.shape.slice();return l.map((e=>{const t=[...c];t[u]=e;const n=fe({inputs:{x:r},attrs:{begin:d,size:t},backend:a});return d[u]+=e,n}))}},u(s.Sqrt),u(s.Square),d(s.SquaredDifference,!0),{kernelName:s.StridedSlice,backendName:"wasm",setupFunc:function(e){ce=e.wasm.cwrap(s.StridedSlice,null,["number","array","number","array","array","array","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{x:r}=n;let{begin:o,end:i,strides:u}=a;null==u&&(u=new Array(o.length));const{beginMask:l,endMask:d,ellipsisMask:c,newAxisMask:h,shrinkAxisMask:p}=a,m=s.backend_util.slice_util.maskToAxes(c);if(m.length>1)throw new Error("Multiple ellipses in slice is not allowed.");if(0!==c&&0!==h)throw new Error("Using both ellipsisMask and newAxisMask is not yet supported.");if(0!==c&&0!==p)throw new Error("Using both ellipsisMask and shrinkAxisMask is not yet supported.");const f=r.shape.length-o.length,_=s.backend_util.slice_util.maskToAxes(h),g=r.shape.slice();_.forEach((e=>{o[e]=0,i[e]=1,g.splice(e,0,1)}));const y=w({inputs:{x:r},attrs:{shape:g},backend:t}),{begin:b,end:v,strides:x}=s.backend_util.slice_util.getNormalizedAxes(y.shape,m,f,o,i,u,l,d,c);o=b,i=v,u=x;const k=s.backend_util.slice_util.maskToAxes(p);k.forEach((e=>{i[e]=o[e]+1,u[e]=1}));const M=s.backend_util.slice_util.computeOutShape(o,i,u),T=M.filter(((e,t)=>-1===k.indexOf(t)));if(u.every((e=>1===e)))return w({inputs:{x:fe({inputs:{x:r},attrs:{begin:o,size:M},backend:t})},attrs:{shape:T},backend:t});const L=t.makeOutput(T,"float32");if(!T.some((e=>0===e))){const e=t.dataIdMap.get(y.dataId).id,n=new Uint8Array(new Int32Array(s.util.computeStrides(y.shape)).buffer),a=new Uint8Array(new Int32Array(o).buffer),r=new Uint8Array(new Int32Array(i).buffer),l=new Uint8Array(new Int32Array(u).buffer),d=new Uint8Array(new Int32Array(T).buffer),c=new Uint8Array(new Int32Array(s.util.computeStrides(T)).buffer),h=t.dataIdMap.get(L.dataId).id;ce(e,n,y.shape.length,a,r,l,d,c,T.length,h)}return w({inputs:{x:L},attrs:{shape:T},backend:t})}},d(s.Sub,!0),{kernelName:s.Sum,backendName:"wasm",setupFunc:function(e){he=e.wasm.cwrap(s.Sum,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{axis:r,keepDims:o}=a,{x:i}=n,u=t.dataIdMap.get(i.dataId).id;let l=u,d=i;const{transposed:c,axes:h,originalAxes:p,inputWasTransposed:m}=b(i,r,t);let f=h;if(m){const e=t.dataIdMap.get(c.dataId).id;e!==u&&(d=c,l=e,f=s.backend_util.getInnerMostAxes(f.length,d.shape.length))}s.backend_util.assertAxesAreInnerMostDims("sum",f,d.shape.length);const[_,g]=s.backend_util.computeOutAndReduceShapes(d.shape,f),y=s.util.sizeFromShape(g),v=t.makeOutput(_,d.dtype);if(0!==s.util.sizeFromShape(d.shape)){const e=t.dataIdMap.get(v.dataId).id;he(l,y,e)}if(m&&t.disposeData(c.dataId),o){const e=s.backend_util.expandShapeToKeepDim(v.shape,p);v.shape=e}return v}},u(s.Tanh),{kernelName:s.Tile,backendName:"wasm",setupFunc:function(e){pe=e.wasm.cwrap(s.Tile,null,["number","array","number","array","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,o=n.dataIdMap.get(s.dataId).id,{reps:i}=r,u=new Array(s.shape.length);for(let e=0;e<u.length;e++)u[e]=s.shape[e]*i[e];const l=new Uint8Array(new Int32Array(s.shape).buffer),d=new Uint8Array(new Int32Array(u).buffer),c=n.makeOutput(u,s.dtype),h=n.dataIdMap.get(c.dataId).id;return pe(o,l,s.shape.length,d,u.length,a[c.dtype],h),c}},y,{kernelName:s.Unpack,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{value:r}=t,{axis:s}=a,o=r.shape[s],i=r.shape.length,u=new Array(i-1);let l=0;for(let e=0;e<i;e++)e!==s&&(u[l++]=r.shape[e]);const d=new Array(o),c=new Array(i).fill(0),h=r.shape.slice();h[s]=1;for(let e=0;e<d.length;e++)c[s]=e,d[e]=fe({inputs:{x:r},attrs:{begin:c,size:h},backend:n});return d.map((({dataId:e,dtype:t})=>({dataId:e,dtype:t,shape:u})))}},{kernelName:s.ZerosLike,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,a=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(a).fill(0),a}}];for(const e of _e)(0,s.registerKernel)(e);const ge=(0,s.env)();ge.registerFlag("WASM_HAS_SIMD_SUPPORT",(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11])))),ge.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",(async()=>{if(ge.get("IS_NODE"))return!1;try{return(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch(e){return!1}}));var ye=n(8349),be=n.n(ye);var ve=n(7234),xe=n.n(ve);class ke extends s.KernelBackend{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.init(),this.dataIdMap=new s.DataStorage(this,(0,s.engine)())}write(e,t,n){const a={};return this.move(a,e,t,n),a}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const t=s.util.now();return e(),{kernelMs:s.util.now()-t}}move(e,t,n,a){const r=this.dataIdNextNumber++;if("string"===a){const s=t;return void this.dataIdMap.set(e,{id:r,stringBytes:s,shape:n,dtype:a,memoryOffset:null})}const o=s.util.sizeFromShape(n),i=o*s.util.bytesPerElement(a),u=this.wasm._malloc(i);this.dataIdMap.set(e,{id:r,memoryOffset:u,shape:n,dtype:a}),this.wasm.tfjs.registerTensor(r,o,u),null!=t&&this.wasm.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,i),u)}async read(e){return this.readSync(e)}readSync(e){const{memoryOffset:t,dtype:n,shape:a,stringBytes:r}=this.dataIdMap.get(e);return"string"===n?r:function(e,t){switch(t){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error(`Unknown dtype ${t}`)}}(this.wasm.HEAPU8.slice(t,t+s.util.sizeFromShape(a)*s.util.bytesPerElement(n)).buffer,n)}disposeData(e){const t=this.dataIdMap.get(e);this.wasm._free(t.memoryOffset),this.wasm.tfjs.disposeData(t.id),this.dataIdMap.delete(e)}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,t,n){let a;if(null==n)a=this.write(null,e,t);else{a={};const r=this.dataIdNextNumber++;this.dataIdMap.set(a,{id:r,memoryOffset:n,shape:e,dtype:t});const o=s.util.sizeFromShape(e);this.wasm.tfjs.registerTensor(r,o,n)}return{dataId:a,shape:e,dtype:t}}typedArrayFromHeap({shape:e,dtype:t,dataId:n}){const a=this.wasm.HEAPU8.buffer,{memoryOffset:r}=this.dataIdMap.get(n),o=s.util.sizeFromShape(e);switch(t){case"float32":return new Float32Array(a,r,o);case"int32":return new Int32Array(a,r,o);case"bool":return new Uint8Array(a,r,o);default:throw new Error(`Unknown dtype ${t}`)}}}function Me(e,t,n){if(null!=Te)return Te;let a="tfjs-backend-wasm.wasm";return e&&t?a="tfjs-backend-wasm-threaded-simd.wasm":e&&(a="tfjs-backend-wasm-simd.wasm"),null!=Se&&null!=Se[a]?Se[a]:n+a}(0,s.registerBackend)("wasm",(async()=>{const{wasm:e}=await async function(){const[e,t]=await Promise.all([(0,s.env)().getAsync("WASM_HAS_SIMD_SUPPORT"),(0,s.env)().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise(((n,a)=>{const r={};var o;let i;r.locateFile=(n,a)=>{if(n.endsWith(".worker.js")){const e=new Blob(['var threadInfoStruct=0;var selfThreadId=0;var parentThreadId=0;var Module={};function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:selfThreadId})}var err=threadPrintErr;this.alert=threadAlert;Module["instantiateWasm"]=function(info,receiveInstance){var instance=new WebAssembly.Instance(Module["wasmModule"],info);Module["wasmModule"]=null;receiveInstance(instance);return instance.exports};this.onmessage=function(e){try{if(e.data.cmd==="load"){Module["DYNAMIC_BASE"]=e.data.DYNAMIC_BASE;Module["DYNAMICTOP_PTR"]=e.data.DYNAMICTOP_PTR;Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}Module=WasmBackendModuleThreadedSimd(Module);postMessage({"cmd":"loaded"})}else if(e.data.cmd==="objectTransfer"){Module["PThread"].receiveObjectTransfer(e.data)}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;threadInfoStruct=e.data.threadInfoStruct;Module["__register_pthread_ptr"](threadInfoStruct,0,0);selfThreadId=e.data.selfThreadId;parentThreadId=e.data.parentThreadId;var max=e.data.stackBase;var top=e.data.stackBase+e.data.stackSize;Module["establishStackSpace"](top,max);Module["_emscripten_tls_init"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].setThreadStatus(Module["_pthread_self"](),1);try{var result=Module["dynCall_ii"](e.data.start_routine,e.data.arg);if(!Module["getNoExitRuntime"]())Module["PThread"].threadExit(result)}catch(ex){if(ex==="Canceled!"){Module["PThread"].threadCancel()}else if(ex!="unwind"){Atomics.store(Module["HEAPU32"],threadInfoStruct+4>>2,ex instanceof Module["ExitStatus"]?ex.status:-2);Atomics.store(Module["HEAPU32"],threadInfoStruct+0>>2,1);Module["_emscripten_futex_wake"](threadInfoStruct+0,2147483647);if(!(ex instanceof Module["ExitStatus"]))throw ex}}}else if(e.data.cmd==="cancel"){if(threadInfoStruct){Module["PThread"].threadCancel()}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(threadInfoStruct){Module["_emscripten_current_thread_process_queued_calls"]()}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex.stack)err(ex.stack);throw ex}};if(typeof process==="object"&&typeof process.versions==="object"&&typeof process.versions.node==="string"){self={location:{href:__filename}};var onmessage=this.onmessage;var nodeWorkerThreads=require("worker_threads");Worker=nodeWorkerThreads.Worker;var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",function(data){onmessage({data:data})});var nodeFS=require("fs");var nodeRead=function(filename){return nodeFS.readFileSync(filename,"utf8")};function globalEval(x){global.require=require;global.Module=Module;eval.call(null,x)}importScripts=function(f){globalEval(nodeRead(f))};postMessage=function(msg){parentPort.postMessage(msg)};if(typeof performance==="undefined"){performance={now:function(){return Date.now()}}}}'],{type:"application/javascript"});return URL.createObjectURL(e)}return n.endsWith(".wasm")?Me(e,t,null!=Le?Le:a):a+n},Ie&&(r.instantiateWasm=(o=Me(e,t,null!=Le?Le:""),(e,t)=>(s.util.fetch(o,{credentials:"same-origin"}).then((n=>{n.ok||e.env.a(`failed to load wasm binary file at '${o}'`),n.arrayBuffer().then((n=>{WebAssembly.instantiate(n,e).then((e=>{t(e.instance)}))}))})),{}))),t&&e&&null==Te?(i=be()(r),i.mainScriptUrlOrBlob=new Blob(["var _scriptDir = undefined; var WasmBackendModuleThreadedSimd = "+be().toString()],{type:"text/javascript"})):i=xe()(r);i.tfjs={init:i.cwrap("init",null,[]),registerTensor:i.cwrap("register_tensor",null,["number","number","number"]),disposeData:i.cwrap("dispose_data",null,["number"]),dispose:i.cwrap("dispose",null,[])};let u=!1;i.onRuntimeInitialized=()=>{u=!0,De=!1,n({wasm:i})},i.onAbort=()=>{u||De||(De=!0,a({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"}))}}))}();return new ke(e)}),2);const we=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let Te=null,Le=null,Se={},De=!1,Ie=!1;function Ne(e,t=!1){if((0,s.deprecationWarn)("setWasmPath has been deprecated in favor of setWasmPaths and will be removed in a future release."),De)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPath()` before you call `tf.setBackend()` or `tf.ready()`");Te=e,Ie=t}function Ce(e,t=!1){if(De)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if("string"==typeof e)Le=e;else{Se=e;const t=we.filter((e=>null==Se[e]));if(t.length>0)throw new Error(`There were no entries found for the following binaries: ${t.join(",")}. Please either call setWasmPaths with a map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.`)}Ie=t}const Ee="2.7.0"},8349:(e,t,n)=>{var a,r=(a=(a="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return L.buffer!=z&&J(L.buffer),j}function r(){return L.buffer!=z&&J(L.buffer),V}function s(){return L.buffer!=z&&J(L.buffer),U}function o(){return L.buffer!=z&&J(L.buffer),G}function i(){return L.buffer!=z&&J(L.buffer),q}var u,l=void 0!==(e=e||{})?e:{},d={};for(u in l)l.hasOwnProperty(u)&&(d[u]=l[u]);var c=[],h=!1,p=!1,m=!1,f=!1;h="object"==typeof window,p="function"==typeof importScripts,m="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,f=!h&&!m&&!p;var _=l.ENVIRONMENT_IS_PTHREAD||!1;_&&(z=l.buffer,Q=l.DYNAMIC_BASE,Z=l.DYNAMICTOP_PTR);var g,y,b,v,x="";function k(e){return l.locateFile?l.locateFile(e,x):x+e}if(m){var M;x=p?n(1386).dirname(x)+"/":"//",g=function(e,t){return b||(b=n(2993)),v||(v=n(1386)),e=v.normalize(e),b.readFileSync(e,t?null:"utf8")},y=function(e){var t=g(e,!0);return t.buffer||(t=new Uint8Array(t)),A(t.buffer),t},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),c=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof cn))throw e})),process.on("unhandledRejection",ve),l.inspect=function(){return"[Emscripten Module object]"};try{M=n(6614)}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}Worker=M.Worker}else f?("undefined"!=typeof read&&(g=function(e){return read(e)}),y=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(A("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?c=scriptArgs:void 0!==arguments&&(c=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(h||p)&&(p?x=self.location.href:document.currentScript&&(x=document.currentScript.src),a&&(x=a),x=0!==x.indexOf("blob:")?x.substr(0,x.lastIndexOf("/")+1):"",m?(g=function(e,t){return b||(b=n(2993)),v||(v=n(1386)),e=v.normalize(e),b.readFileSync(e,t?null:"utf8")},y=function(e){var t=g(e,!0);return t.buffer||(t=new Uint8Array(t)),A(t.buffer),t}):(g=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},p&&(y=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})));m&&"undefined"==typeof performance&&(performance=n(9513).performance);var w,T,L,S=l.print||console.log.bind(console),D=l.printErr||console.warn.bind(console);for(u in d)d.hasOwnProperty(u)&&(l[u]=d[u]);d=null,l.arguments&&(c=l.arguments),l.thisProgram&&l.thisProgram,l.quit&&l.quit,Atomics.load,Atomics.store,Atomics.compareExchange,l.wasmBinary&&(w=l.wasmBinary),l.noExitRuntime&&(T=l.noExitRuntime),"object"!=typeof WebAssembly&&D("no native wasm support detected");var I,N=new WebAssembly.Table({initial:165,maximum:165,element:"anyfunc"}),C=0,E=!1;function A(e,t){e||ve("Assertion failed: "+t)}function Y(e){var t=l["_"+e];return A(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function F(e,t,n,a,r){var s={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);H(e,t=un(n),n)}return t},array:function(e){var t=un(e.length);return W(e,t),t}},o=Y(e),i=[],u=0;if(a)for(var l=0;l<a.length;l++){var d=s[n[l]];d?(0===u&&(u=on()),i[l]=d(a[l])):i[l]=a[l]}var c=o.apply(null,i);return c=function(e){return"string"===t?$(e):"boolean"===t?Boolean(e):e}(c),0!==u&&ln(u),c}function R(e,t,n,a){var r=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&r&&!a?Y(e):function(){return F(e,t,n,arguments)}}function O(e,t,n){for(var a=t+n,r="";!(t>=a);){var s=e[t++];if(!s)return r;if(128&s){var o=63&e[t++];if(192!=(224&s)){var i=63&e[t++];if((s=224==(240&s)?(15&s)<<12|o<<6|i:(7&s)<<18|o<<12|i<<6|63&e[t++])<65536)r+=String.fromCharCode(s);else{var u=s-65536;r+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else r+=String.fromCharCode((31&s)<<6|o)}else r+=String.fromCharCode(s)}return r}function $(e,t){return e?O(r(),e,t):""}function P(e,t,n,a){if(!(a>0))return 0;for(var r=n,s=n+a-1,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),i<=127){if(n>=s)break;t[n++]=i}else if(i<=2047){if(n+1>=s)break;t[n++]=192|i>>6,t[n++]=128|63&i}else if(i<=65535){if(n+2>=s)break;t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i}else{if(n+3>=s)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i}}return t[n]=0,n-r}function H(e,t,n){return P(e,r(),t,n)}function B(e){for(var t=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++n)),a<=127?++t:t+=a<=2047?2:a<=65535?3:4}return t}function W(e,n){t().set(e,n)}var z,j,V,U,G,q,X=65536;function K(e,t){return e%t>0&&(e+=t-e%t),e}function J(e){z=e,l.HEAP8=j=new Int8Array(e),l.HEAP16=new Int16Array(e),l.HEAP32=U=new Int32Array(e),l.HEAPU8=V=new Uint8Array(e),l.HEAPU16=new Uint16Array(e),l.HEAPU32=G=new Uint32Array(e),l.HEAPF32=new Float32Array(e),l.HEAPF64=q=new Float64Array(e)}var Q=5256384,Z=12576,ee=l.INITIAL_MEMORY||16777216;if(_)L=l.wasmMemory,z=l.buffer;else if(l.wasmMemory)L=l.wasmMemory;else if(!((L=new WebAssembly.Memory({initial:ee/X,maximum:2147483648/X,shared:!0})).buffer instanceof SharedArrayBuffer))throw D("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),m&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");function te(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?l.dynCall_v(n):l.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t(l)}}L&&(z=L.buffer),ee=z.byteLength,J(z),_||(s()[Z>>2]=Q);var ne=[],ae=[],re=[],se=[],oe=[];function ie(){if(!_){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)ce(l.preRun.shift());te(ne)}}function ue(){te(ae)}function le(){_||te(re)}function de(){if(!_){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)he(l.postRun.shift());te(oe)}}function ce(e){ne.unshift(e)}function he(e){oe.unshift(e)}var pe=Math.ceil,me=Math.floor,fe=0,_e=null,ge=null;function ye(e){A(!_,"addRunDependency cannot be used in a pthread worker"),fe++,l.monitorRunDependencies&&l.monitorRunDependencies(fe)}function be(e){if(fe--,l.monitorRunDependencies&&l.monitorRunDependencies(fe),0==fe&&(null!==_e&&(clearInterval(_e),_e=null),ge)){var t=ge;ge=null,t()}}function ve(e){throw l.onAbort&&l.onAbort(e),_&&console.error("Pthread aborting at "+(new Error).stack),S(e+=""),D(e),E=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}function xe(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}l.preloadedImages={},l.preloadedAudios={};var ke="data:application/octet-stream;base64,";function Me(e){return xe(e,ke)}var we="file://";function Te(e){return xe(e,we)}var Le="tfjs-backend-wasm-threaded-simd.wasm";function Se(){try{if(w)return new Uint8Array(w);if(y)return y(Le);throw"both async and sync fetching of the wasm failed"}catch(e){ve(e)}}function De(){return w||!h&&!p||"function"!=typeof fetch||Te(Le)?new Promise((function(e,t){e(Se())})):fetch(Le,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Le+"'";return e.arrayBuffer()})).catch((function(){return Se()}))}function Ie(){var e={a:Vt};function t(e,t){var n=e.exports;if(l.asm=n,I=t,!_){var a=ze.unusedWorkers.length;ze.unusedWorkers.forEach((function(e){ze.loadWasmModuleToWorker(e,(function(){--a||be()}))}))}}function n(e){t(e.instance,e.module)}function a(t){return De().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){D("failed to asynchronously prepare wasm: "+e),ve(e)}))}if(_||ye(),l.instantiateWasm)try{return l.instantiateWasm(e,t)}catch(e){return D("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(w||"function"!=typeof WebAssembly.instantiateStreaming||Me(Le)||Te(Le)||"function"!=typeof fetch)return a(n);fetch(Le,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){D("wasm streaming compile failed: "+e),D("falling back to ArrayBuffer instantiation"),a(n)}))}))}(),{}}Me(Le)||(Le=k(Le));var Ne={};function Ce(){ze.initRuntime()}_||ae.push({func:function(){qt()}});var Ee=0,Ae=0,Ye=0;function Fe(e,t,n){Ee=e|=0,Ye=t|=0,Ae=n|=0}l.__register_pthread_ptr=Fe;var Re={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},Oe=13488;function $e(e,n){if(e<=0||e>t().length||!0&e||n<0)return-28;if(0==n)return 0;n>=2147483647&&(n=1/0);var a=Atomics.load(s(),Oe>>2),r=0;if(a==e&&Atomics.compareExchange(s(),Oe>>2,a,0)==a&&(r=1,--n<=0))return 1;var o=Atomics.notify(s(),e>>2,n);if(o>=0)return o+r;throw"Atomics.notify returned an unexpected value "+o}function Pe(e){if(_)throw"Internal Error! _kill_thread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in _kill_thread!";s()[e+12>>2]=0;var t=ze.pthreads[e];t.worker.terminate(),ze.freeThreadData(t),ze.runningWorkers.splice(ze.runningWorkers.indexOf(t.worker),1),t.worker.pthread=void 0}function He(e){if(_)throw"Internal Error! _cancel_thread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in _cancel_thread!";ze.pthreads[e].worker.postMessage({cmd:"cancel"})}function Be(e){if(_)throw"Internal Error! _cleanup_thread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in _cleanup_thread!";s()[e+12>>2]=0;var t=ze.pthreads[e];if(t){var n=t.worker;ze.returnWorkerToPool(n)}}l._emscripten_futex_wake=$e;var We,ze={MAIN_THREAD_ID:1,mainThreadInfo:{schedPolicy:0,schedPrio:0},unusedWorkers:[],runningWorkers:[],initRuntime:function(){Fe(ze.mainThreadBlock,!p,1),nn(ze.mainThreadBlock)},initMainThreadBlock:function(){for(var e=0;e<8;++e)ze.allocateUnusedWorker();for(ze.mainThreadBlock=12736,e=0;e<58;++e)o()[ze.mainThreadBlock/4+e]=0;s()[ze.mainThreadBlock+12>>2]=ze.mainThreadBlock;var t=ze.mainThreadBlock+156;for(s()[t>>2]=t,e=0;e<128;++e)o()[3244+e]=0;Atomics.store(o(),ze.mainThreadBlock+104>>2,12976),Atomics.store(o(),ze.mainThreadBlock+40>>2,ze.mainThreadBlock),Atomics.store(o(),ze.mainThreadBlock+44>>2,42)},initWorker:function(){},pthreads:{},exitHandlers:null,setThreadStatus:function(){},runExitHandlers:function(){if(null!==ze.exitHandlers){for(;ze.exitHandlers.length>0;)ze.exitHandlers.pop()();ze.exitHandlers=null}_&&C&&en()},threadExit:function(e){var t=Ht();t&&(Atomics.store(o(),t+4>>2,e),Atomics.store(o(),t+0>>2,1),Atomics.store(o(),t+60>>2,1),Atomics.store(o(),t+64>>2,0),ze.runExitHandlers(),$e(t+0,2147483647),Fe(0,0,0),C=0,_&&postMessage({cmd:"exit"}))},threadCancel:function(){ze.runExitHandlers(),Atomics.store(o(),C+4>>2,-1),Atomics.store(o(),C+0>>2,1),$e(C+0,2147483647),C=0,Fe(0,0,0),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var e in ze.pthreads)(a=ze.pthreads[e])&&a.worker&&ze.returnWorkerToPool(a.worker);ze.pthreads={};for(var t=0;t<ze.unusedWorkers.length;++t)(n=ze.unusedWorkers[t]).terminate();for(ze.unusedWorkers=[],t=0;t<ze.runningWorkers.length;++t){var n,a=(n=ze.runningWorkers[t]).pthread;ze.freeThreadData(a),n.terminate()}ze.runningWorkers=[]},freeThreadData:function(e){if(e){if(e.threadInfoStruct){var t=s()[e.threadInfoStruct+104>>2];s()[e.threadInfoStruct+104>>2]=0,Kt(t),Kt(e.threadInfoStruct)}e.threadInfoStruct=0,e.allocatedOwnStack&&e.stackBase&&Kt(e.stackBase),e.stackBase=0,e.worker&&(e.worker.pthread=null)}},returnWorkerToPool:function(e){delete ze.pthreads[e.pthread.thread],ze.unusedWorkers.push(e),ze.runningWorkers.splice(ze.runningWorkers.indexOf(e),1),ze.freeThreadData(e.pthread),e.pthread=void 0},receiveObjectTransfer:function(e){},loadWasmModuleToWorker:function(e,t){e.onmessage=function(n){var a=n.data,r=a.cmd;if(e.pthread&&(ze.currentProxiedOperationCallerThread=e.pthread.threadInfoStruct),a.targetThread&&a.targetThread!=Ht()){var s=ze.pthreads[a.targetThread];return s?s.worker.postMessage(n.data,a.transferList):console.error('Internal error! Worker sent a message "'+r+'" to target pthread '+a.targetThread+", but that thread no longer exists!"),void(ze.currentProxiedOperationCallerThread=void 0)}"processQueuedMainThreadWork"===r?tn():"spawnThread"===r?$t(n.data):"cleanupThread"===r?Be(a.thread):"killThread"===r?Pe(a.thread):"cancelThread"===r?He(a.thread):"loaded"===r?(e.loaded=!0,t&&t(e),e.runPthread&&(e.runPthread(),delete e.runPthread)):"print"===r?S("Thread "+a.threadId+": "+a.text):"printErr"===r?D("Thread "+a.threadId+": "+a.text):"alert"===r?alert("Thread "+a.threadId+": "+a.text):"exit"===r?e.pthread&&Atomics.load(o(),e.pthread.thread+68>>2)&&ze.returnWorkerToPool(e):"cancelDone"===r?ze.returnWorkerToPool(e):"objectTransfer"===r?ze.receiveObjectTransfer(n.data):"setimmediate"===n.data.target?e.postMessage(n.data):D("worker sent an unknown command "+r),ze.currentProxiedOperationCallerThread=void 0},e.onerror=function(e){D("pthread sent an error! "+e.filename+":"+e.lineno+": "+e.message)},m&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("exit",(function(e){console.log("worker exited - TODO: update the worker queue?")}))),e.postMessage({cmd:"load",urlOrBlob:l.mainScriptUrlOrBlob||a,wasmMemory:L,wasmModule:I,DYNAMIC_BASE:Q,DYNAMICTOP_PTR:Z})},allocateUnusedWorker:function(){var e=k("tfjs-backend-wasm-threaded-simd.worker.js");ze.unusedWorkers.push(new Worker(e))},getNewWorker:function(){return 0==ze.unusedWorkers.length&&(ze.allocateUnusedWorker(),ze.loadWasmModuleToWorker(ze.unusedWorkers[0])),ze.unusedWorkers.length>0?ze.unusedWorkers.pop():null},busySpinWait:function(e){for(var t=performance.now()+e;performance.now()<t;);}};function je(e,t){ln(e)}function Ve(){return T}function Ue(e,t,n,a){ve("Assertion failed: "+$(e)+", at: "+[t?$(t):"unknown filename",n,a?$(a):"unknown function"])}function Ge(e,t){_main(e,t)}function qe(e){return s()[Qt()>>2]=e,e}function Xe(e,t){if(_)return rt(1,1,e,t);se.unshift({func:e,arg:t})}function Ke(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(_)postMessage({targetThread:e,cmd:"processThreadQueue"});else{var n=ze.pthreads[e],a=n&&n.worker;if(!a)return;a.postMessage({cmd:"processThreadQueue"})}return 1}function Je(){ve()}function Qe(e,t){}function Ze(e,n,a){if(e<=0||e>t().length||!0&e)return-28;if(p){var r=Atomics.wait(s(),e>>2,n,a);if("timed-out"===r)return-73;if("not-equal"===r)return-6;if("ok"===r)return 0;throw"Atomics.wait returned an unexpected value "+r}if(n!=Atomics.load(s(),e>>2))return-6;var o=performance.now(),i=o+a;Atomics.store(s(),Oe>>2,e);for(var u=e;e==u;){if((o=performance.now())>i)return-73;tn(),e=Atomics.load(s(),Oe>>2)}return 0}function et(){return 0|Ye}function tt(){return 0|Ae}function nt(e,t,n){r().copyWithin(e,t,t+n)}function at(){return navigator.hardwareConcurrency}function rt(e,t){for(var n=arguments.length-2,a=on(),r=un(8*n),s=r>>3,o=0;o<n;o++)i()[s+o]=arguments[2+o];var u=rn(e,n,r,t);return ln(a),u}l.establishStackSpace=je,l.getNoExitRuntime=Ve,We=m?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:_?function(){return performance.now()-l.__performance_now_clock_drift}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var st=[];function ot(e,t){ot.array||(ot.array=[]);var n,a=ot.array;for(a.length=0;n=r()[e++];)100===n||102===n?(t=t+7&-8,a.push(i()[t>>3]),t+=8):(t=t+3&-4,a.push(s()[t>>2]),t+=4);return a}function it(e,t,n){st.length=t;for(var a=n>>3,r=0;r<t;r++)st[r]=i()[a+r];var s=e<0,o=s?Ne[-e-1]:jt[e];if(s){var u=ot(st[1],st[2]);return o.apply(null,u)}return o.apply(null,st)}function ut(){return r().length}function lt(e){try{return L.grow(e-z.byteLength+65535>>>16),J(L.buffer),1}catch(e){}}function dt(e){e>>>=0;var t=ut();if(e<=t)return!1;var n=2147483648;if(e>n)return!1;for(var a=1;a<=4;a*=2){var r=t*(1+.2/a);if(r=Math.min(r,e+100663296),lt(Math.min(n,K(Math.max(16777216,e,r),65536))))return!0}return!1}var ct={keyEvent:0,mouseEvent:0,wheelEvent:0,uiEvent:0,focusEvent:0,deviceOrientationEvent:0,deviceMotionEvent:0,fullscreenChangeEvent:0,pointerlockChangeEvent:0,visibilityChangeEvent:0,touchEvent:0,previousFullscreenElement:null,previousScreenX:null,previousScreenY:null,removeEventListenersRegistered:!1,removeAllEventListeners:function(){for(var e=ct.eventHandlers.length-1;e>=0;--e)ct._removeHandler(e);ct.eventHandlers=[],ct.deferredCalls=[]},registerRemoveEventListeners:function(){ct.removeEventListenersRegistered||(se.push(ct.removeAllEventListeners),ct.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,n){function a(e,t){if(e.length!=t.length)return!1;for(var n in e)if(e[n]!=t[n])return!1;return!0}for(var r in ct.deferredCalls){var s=ct.deferredCalls[r];if(s.targetFunction==e&&a(s.argsList,n))return}ct.deferredCalls.push({targetFunction:e,precedence:t,argsList:n}),ct.deferredCalls.sort((function(e,t){return e.precedence<t.precedence}))},removeDeferredCalls:function(e){for(var t=0;t<ct.deferredCalls.length;++t)ct.deferredCalls[t].targetFunction==e&&(ct.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return ct.inEventHandler&&ct.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(ct.canPerformEventHandlerRequests())for(var e=0;e<ct.deferredCalls.length;++e){var t=ct.deferredCalls[e];ct.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},inEventHandler:0,currentEventHandler:null,eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var n=0;n<ct.eventHandlers.length;++n)ct.eventHandlers[n].target!=e||t&&t!=ct.eventHandlers[n].eventTypeString||ct._removeHandler(n--)},_removeHandler:function(e){var t=ct.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),ct.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(t){++ct.inEventHandler,ct.currentEventHandler=e,ct.runDeferredCalls(),e.handlerFunc(t),ct.runDeferredCalls(),--ct.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),ct.eventHandlers.push(e),ct.registerRemoveEventListeners();else for(var n=0;n<ct.eventHandlers.length;++n)ct.eventHandlers[n].target==e.target&&ct.eventHandlers[n].eventTypeString==e.eventTypeString&&ct._removeHandler(n--)},queueEventHandlerOnThread_iiii:function(e,t,n,a,r){var o=on(),i=un(12);s()[i>>2]=n,s()[i+4>>2]=a,s()[i+8>>2]=r,sn(e,637534208,t,a,i),ln(o)},getTargetThreadForEventCallback:function(e){switch(e){case 1:return 0;case 2:return ze.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function ht(e){var t=B(e)+1,n=Xt(t);return H(e,n,t),n}function pt(e,t,n,a){var r=on(),o=un(12),i=0;t&&(i=ht(t)),s()[o>>2]=i,s()[o+4>>2]=n,s()[o+8>>2]=a,sn(e,657457152,0,i,o),ln(r)}function mt(e,t,n,a){pt(e,t=t?$(t):"",n,a)}function ft(e){return e>2?$(e):e}var _t=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function gt(e){return e=ft(e),_t[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}function yt(e){return gt(e)}function bt(e,t,n){var a=yt(e);if(!a)return-4;if(a.canvasSharedPtr&&(s()[a.canvasSharedPtr>>2]=t,s()[a.canvasSharedPtr+4>>2]=n),!a.offscreenCanvas&&a.controlTransferredOffscreen)return a.canvasSharedPtr?(mt(s()[a.canvasSharedPtr+8>>2],e,t,n),1):-4;a.offscreenCanvas&&(a=a.offscreenCanvas);var r=!1;if(a.GLctxObject&&a.GLctxObject.GLctx){var o=a.GLctxObject.GLctx.getParameter(2978);r=0===o[0]&&0===o[1]&&o[2]===a.width&&o[3]===a.height}return a.width=t,a.height=n,r&&a.GLctxObject.GLctx.viewport(0,0,t,n),0}function vt(e,t,n){return _?rt(2,1,e,t,n):bt(e,t,n)}function xt(e,t,n){return yt(e)?bt(e,t,n):vt(e,t,n)}function kt(e){}function Mt(e,t){}function wt(e){var t=e.getExtension("ANGLE_instanced_arrays");if(t)return e.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},e.drawArraysInstanced=function(e,n,a,r){t.drawArraysInstancedANGLE(e,n,a,r)},e.drawElementsInstanced=function(e,n,a,r,s){t.drawElementsInstancedANGLE(e,n,a,r,s)},1}function Tt(e){var t=e.getExtension("OES_vertex_array_object");if(t)return e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)},1}function Lt(e){var t=e.getExtension("WEBGL_draw_buffers");if(t)return e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)},1}var St={counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:{},currentContext:null,offscreenCanvases:{},timerQueriesEXT:[],programInfos:{},stringCache:{},unpackAlignment:4,init:function(){for(var e=new Float32Array(St.MINI_TEMP_BUFFER_SIZE),t=0;t<St.MINI_TEMP_BUFFER_SIZE;t++)St.miniTempBufferFloatViews[t]=e.subarray(0,t+1);var n=new Int32Array(St.MINI_TEMP_BUFFER_SIZE);for(t=0;t<St.MINI_TEMP_BUFFER_SIZE;t++)St.miniTempBufferIntViews[t]=n.subarray(0,t+1)},recordError:function(e){St.lastError||(St.lastError=e)},getNewId:function(e){for(var t=St.counter++,n=e.length;n<t;n++)e[n]=null;return t},MINI_TEMP_BUFFER_SIZE:256,miniTempBufferFloatViews:[0],miniTempBufferIntViews:[0],getSource:function(e,t,n,a){for(var r="",o=0;o<t;++o){var i=a?s()[a+4*o>>2]:-1;r+=$(s()[n+4*o>>2],i<0?void 0:i)}return r},createContext:function(e,t){var n=e.getContext("webgl",t);return n?St.registerContext(n,t):0},registerContext:function(e,t){var n=Xt(8);s()[n+4>>2]=Ht();var a={handle:n,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=a),St.contexts[n]=a,(void 0===t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&St.initExtensions(a),n},makeContextCurrent:function(e){return St.currentContext=St.contexts[e],l.ctx=Ct=St.currentContext&&St.currentContext.GLctx,!(e&&!Ct)},getContext:function(e){return St.contexts[e]},deleteContext:function(e){St.currentContext===St.contexts[e]&&(St.currentContext=null),"object"==typeof ct&&ct.removeAllHandlersOnTarget(St.contexts[e].GLctx.canvas),St.contexts[e]&&St.contexts[e].GLctx.canvas&&(St.contexts[e].GLctx.canvas.GLctxObject=void 0),Kt(St.contexts[e].handle),St.contexts[e]=null},initExtensions:function(e){if(e||(e=St.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t=e.GLctx;wt(t),Tt(t),Lt(t),t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query");var n=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","EXT_texture_norm16","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2","WEBKIT_WEBGL_compressed_texture_pvrtc"];(t.getSupportedExtensions()||[]).forEach((function(e){-1!=n.indexOf(e)&&t.getExtension(e)}))}},populateUniformTable:function(e){for(var t=St.programs[e],n=St.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},a=n.uniforms,r=Ct.getProgramParameter(t,35718),s=0;s<r;++s){var o=Ct.getActiveUniform(t,s),i=o.name;n.maxUniformLength=Math.max(n.maxUniformLength,i.length+1),"]"==i.slice(-1)&&(i=i.slice(0,i.lastIndexOf("[")));var u=Ct.getUniformLocation(t,i);if(u){var l=St.getNewId(St.uniforms);a[i]=[o.size,l],St.uniforms[l]=u;for(var d=1;d<o.size;++d){var c=i+"["+d+"]";u=Ct.getUniformLocation(t,c),l=St.getNewId(St.uniforms),St.uniforms[l]=u}}}}},Dt=["default","low-power","high-performance"];function It(e,t){var n={},a=t>>2;n.alpha=!!s()[a+0],n.depth=!!s()[a+1],n.stencil=!!s()[a+2],n.antialias=!!s()[a+3],n.premultipliedAlpha=!!s()[a+4],n.preserveDrawingBuffer=!!s()[a+5];var r=s()[a+6];n.powerPreference=Dt[r],n.failIfMajorPerformanceCaveat=!!s()[a+7],n.majorVersion=s()[a+8],n.minorVersion=s()[a+9],n.enableExtensionsByDefault=s()[a+10],n.explicitSwapControl=s()[a+11],n.proxyContextToMainThread=s()[a+12],n.renderViaOffscreenBackBuffer=s()[a+13];var o=yt(e);return o?n.explicitSwapControl?-1:St.createContext(o,n):-4}function Nt(e,t){return It(e,t)}var Ct,Et={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=Et.buffers[e];0===t||10===t?((1===e?S:D)(O(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return Et.varargs+=4,s()[Et.varargs-4>>2]},getStr:function(e){return $(e)},get64:function(e,t){return e}};function At(e){return _?rt(3,1,e):0}function Yt(e,t,n,a,r){if(_)return rt(4,1,e,t,n,a,r)}function Ft(e,t,n,a){if(_)return rt(5,1,e,t,n,a);for(var o=0,i=0;i<n;i++){for(var u=s()[t+8*i>>2],l=s()[t+(8*i+4)>>2],d=0;d<l;d++)Et.printChar(e,r()[u+d]);o+=l}return s()[a>>2]=o,0}function Rt(e){var t=ze.exitHandlers.pop();e&&t()}function Ot(e,t){null===ze.exitHandlers&&(ze.exitHandlers=[]),ze.exitHandlers.push((function(){dn(e,t)}))}function $t(e){if(_)throw"Internal Error! _spawn_thread() can only ever be called from main application thread!";var t=ze.getNewWorker();if(void 0!==t.pthread)throw"Internal error!";if(!e.pthread_ptr)throw"Internal error, no pthread ptr!";ze.runningWorkers.push(t);for(var n=Xt(512),a=0;a<128;++a)s()[n+4*a>>2]=0;var r=e.stackBase+e.stackSize,i=ze.pthreads[e.pthread_ptr]={worker:t,stackBase:e.stackBase,stackSize:e.stackSize,allocatedOwnStack:e.allocatedOwnStack,thread:e.pthread_ptr,threadInfoStruct:e.pthread_ptr},u=i.threadInfoStruct>>2;Atomics.store(o(),u+0,0),Atomics.store(o(),u+1,0),Atomics.store(o(),u+2,0),Atomics.store(o(),u+17,e.detached),Atomics.store(o(),u+26,n),Atomics.store(o(),u+12,0),Atomics.store(o(),u+10,i.threadInfoStruct),Atomics.store(o(),u+11,42),Atomics.store(o(),u+27,e.stackSize),Atomics.store(o(),u+21,e.stackSize),Atomics.store(o(),u+20,r),Atomics.store(o(),u+29,r),Atomics.store(o(),u+30,e.detached),Atomics.store(o(),u+32,e.schedPolicy),Atomics.store(o(),u+33,e.schedPrio);var l=Jt()+40;Atomics.store(o(),u+44,l),t.pthread=i;var d={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr,selfThreadId:e.pthread_ptr,parentThreadId:e.parent_pthread_ptr,stackBase:e.stackBase,stackSize:e.stackSize};t.runPthread=function(){d.time=performance.now(),t.postMessage(d,e.transferList)},t.loaded&&(t.runPthread(),delete t.runPthread)}function Pt(e,t,n){if(!t&&!n)return Re.EINVAL;if(!e)return D("pthread_getschedparam called with a null thread pointer!"),Re.ESRCH;if(s()[e+12>>2]!==e)return D("pthread_getschedparam attempted on thread "+e+", which does not point to a valid thread, or does not exist anymore!"),Re.ESRCH;var a=Atomics.load(o(),e+108+20>>2),r=Atomics.load(o(),e+108+24>>2);return t&&(s()[t>>2]=a),n&&(s()[n>>2]=r),0}function Ht(){return 0|Ee}function Bt(e,t,n,a){if("undefined"==typeof SharedArrayBuffer)return D("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!e)return D("pthread_create called with a null thread pointer!"),28;var r=[];if(_&&0===r.length)return an(687865856,e,t,n,a);var i=0,u=0,l=0,d=0,c=0;if(t)if(i=s()[t>>2],i+=81920,u=s()[t+8>>2],l=0!==s()[t+12>>2],0===s()[t+16>>2]){var h=s()[t+20>>2],p=s()[t+24>>2];Pt(ze.currentProxiedOperationCallerThread?ze.currentProxiedOperationCallerThread:Ht(),t+20,t+24),d=s()[t+20>>2],c=s()[t+24>>2],s()[t+20>>2]=h,s()[t+24>>2]=p}else d=s()[t+20>>2],c=s()[t+24>>2];else i=2097152;var m=0==u;m?u=Zt(16,i):A((u-=i)>0);for(var f=Xt(232),g=0;g<58;++g)o()[(f>>2)+g]=0;s()[e>>2]=f,s()[f+12>>2]=f;var y=f+156;s()[y>>2]=y;var b={stackBase:u,stackSize:i,allocatedOwnStack:m,schedPolicy:d,schedPrio:c,detached:l,startRoutine:n,pthread_ptr:f,parent_pthread_ptr:Ht(),arg:a,transferList:r};return _?(b.cmd="spawnThread",postMessage(b,r)):$t(b),0}function Wt(e){return(e=+e)>=0?+me(e+.5):+pe(e-.5)}function zt(e){if(_)return rt(6,1,e);switch(e){case 30:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:case 79:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return qe(28),-1}l._pthread_self=Ht,_?ze.initWorker():ze.initMainThreadBlock(),St.init();var jt=[null,Xe,vt,At,Yt,Ft,zt],Vt={e:Ue,r:Ge,w:Ke,a:Je,l:Qe,d:Ze,c:$e,h:We,g:et,x:tt,q:nt,B:at,t:it,A:dt,u:xt,k:kt,s:Mt,v:Nt,m:At,o:Yt,i:Ft,p:Ce,memory:L||l.wasmMemory,y:Rt,z:Ot,j:Bt,b:Ht,f:Wt,n:zt,table:N},Ut=Ie();l.asm=Ut;var Gt,qt=l.___wasm_call_ctors=function(){return(qt=l.___wasm_call_ctors=l.asm.C).apply(null,arguments)},Xt=(l._init=function(){return(l._init=l.asm.D).apply(null,arguments)},l._register_tensor=function(){return(l._register_tensor=l.asm.E).apply(null,arguments)},l._dispose_data=function(){return(l._dispose_data=l.asm.F).apply(null,arguments)},l._dispose=function(){return(l._dispose=l.asm.G).apply(null,arguments)},l._Abs=function(){return(l._Abs=l.asm.H).apply(null,arguments)},l._Add=function(){return(l._Add=l.asm.I).apply(null,arguments)},l._AddN=function(){return(l._AddN=l.asm.J).apply(null,arguments)},l._ArgMax=function(){return(l._ArgMax=l.asm.K).apply(null,arguments)},l._AvgPool=function(){return(l._AvgPool=l.asm.L).apply(null,arguments)},l._BatchMatMul=function(){return(l._BatchMatMul=l.asm.M).apply(null,arguments)},l._ClipByValue=function(){return(l._ClipByValue=l.asm.N).apply(null,arguments)},l._Conv2D=function(){return(l._Conv2D=l.asm.O).apply(null,arguments)},l._Conv2DBackpropInput=function(){return(l._Conv2DBackpropInput=l.asm.P).apply(null,arguments)},l._Cos=function(){return(l._Cos=l.asm.Q).apply(null,arguments)},l._CropAndResize=function(){return(l._CropAndResize=l.asm.R).apply(null,arguments)},l._Cumsum=function(){return(l._Cumsum=l.asm.S).apply(null,arguments)},l._DepthToSpace=function(){return(l._DepthToSpace=l.asm.T).apply(null,arguments)},l._DepthwiseConv2dNative=function(){return(l._DepthwiseConv2dNative=l.asm.U).apply(null,arguments)},l._Div=function(){return(l._Div=l.asm.V).apply(null,arguments)},l._Equal=function(){return(l._Equal=l.asm.W).apply(null,arguments)},l._Exp=function(){return(l._Exp=l.asm.X).apply(null,arguments)},l._FlipLeftRight=function(){return(l._FlipLeftRight=l.asm.Y).apply(null,arguments)},l._FloorDiv=function(){return(l._FloorDiv=l.asm.Z).apply(null,arguments)},l._FusedBatchNorm=function(){return(l._FusedBatchNorm=l.asm._).apply(null,arguments)},l._FusedConv2D=function(){return(l._FusedConv2D=l.asm.$).apply(null,arguments)},l._FusedDepthwiseConv2D=function(){return(l._FusedDepthwiseConv2D=l.asm.aa).apply(null,arguments)},l._Gather=function(){return(l._Gather=l.asm.ba).apply(null,arguments)},l._GatherNd=function(){return(l._GatherNd=l.asm.ca).apply(null,arguments)},l._Greater=function(){return(l._Greater=l.asm.da).apply(null,arguments)},l._GreaterEqual=function(){return(l._GreaterEqual=l.asm.ea).apply(null,arguments)},l._Less=function(){return(l._Less=l.asm.fa).apply(null,arguments)},l._LessEqual=function(){return(l._LessEqual=l.asm.ga).apply(null,arguments)},l._Log=function(){return(l._Log=l.asm.ha).apply(null,arguments)},l._LogicalAnd=function(){return(l._LogicalAnd=l.asm.ia).apply(null,arguments)},l._Max=function(){return(l._Max=l.asm.ja).apply(null,arguments)},l._MaxPool=function(){return(l._MaxPool=l.asm.ka).apply(null,arguments)},l._Maximum=function(){return(l._Maximum=l.asm.la).apply(null,arguments)},l._Min=function(){return(l._Min=l.asm.ma).apply(null,arguments)},l._Minimum=function(){return(l._Minimum=l.asm.na).apply(null,arguments)},l._Multiply=function(){return(l._Multiply=l.asm.oa).apply(null,arguments)},l._Negate=function(){return(l._Negate=l.asm.pa).apply(null,arguments)},l._NonMaxSuppressionV3=function(){return(l._NonMaxSuppressionV3=l.asm.qa).apply(null,arguments)},l._NonMaxSuppressionV4=function(){return(l._NonMaxSuppressionV4=l.asm.ra).apply(null,arguments)},l._NonMaxSuppressionV5=function(){return(l._NonMaxSuppressionV5=l.asm.sa).apply(null,arguments)},l._NotEqual=function(){return(l._NotEqual=l.asm.ta).apply(null,arguments)},l._OneHot=function(){return(l._OneHot=l.asm.ua).apply(null,arguments)},l._PadV2=function(){return(l._PadV2=l.asm.va).apply(null,arguments)},l._Pow=function(){return(l._Pow=l.asm.wa).apply(null,arguments)},l._Prelu=function(){return(l._Prelu=l.asm.xa).apply(null,arguments)},l._Relu=function(){return(l._Relu=l.asm.ya).apply(null,arguments)},l._Relu6=function(){return(l._Relu6=l.asm.za).apply(null,arguments)},l._ResizeBilinear=function(){return(l._ResizeBilinear=l.asm.Aa).apply(null,arguments)},l._Reverse=function(){return(l._Reverse=l.asm.Ba).apply(null,arguments)},l._RotateWithOffset=function(){return(l._RotateWithOffset=l.asm.Ca).apply(null,arguments)},l._Rsqrt=function(){return(l._Rsqrt=l.asm.Da).apply(null,arguments)},l._ScatterNd=function(){return(l._ScatterNd=l.asm.Ea).apply(null,arguments)},l._SelectV2=function(){return(l._SelectV2=l.asm.Fa).apply(null,arguments)},l._Sigmoid=function(){return(l._Sigmoid=l.asm.Ga).apply(null,arguments)},l._Sin=function(){return(l._Sin=l.asm.Ha).apply(null,arguments)},l._Softmax=function(){return(l._Softmax=l.asm.Ia).apply(null,arguments)},l._Sqrt=function(){return(l._Sqrt=l.asm.Ja).apply(null,arguments)},l._Square=function(){return(l._Square=l.asm.Ka).apply(null,arguments)},l._SquaredDifference=function(){return(l._SquaredDifference=l.asm.La).apply(null,arguments)},l._StridedSlice=function(){return(l._StridedSlice=l.asm.Ma).apply(null,arguments)},l._Sub=function(){return(l._Sub=l.asm.Na).apply(null,arguments)},l._Sum=function(){return(l._Sum=l.asm.Oa).apply(null,arguments)},l._Tanh=function(){return(l._Tanh=l.asm.Pa).apply(null,arguments)},l._Tile=function(){return(l._Tile=l.asm.Qa).apply(null,arguments)},l._Transpose=function(){return(l._Transpose=l.asm.Ra).apply(null,arguments)},l.__FusedMatMul=function(){return(l.__FusedMatMul=l.asm.Sa).apply(null,arguments)},l._malloc=function(){return(Xt=l._malloc=l.asm.Ta).apply(null,arguments)}),Kt=l._free=function(){return(Kt=l._free=l.asm.Ua).apply(null,arguments)},Jt=l._emscripten_get_global_libc=function(){return(Jt=l._emscripten_get_global_libc=l.asm.Va).apply(null,arguments)},Qt=l.___errno_location=function(){return(Qt=l.___errno_location=l.asm.Wa).apply(null,arguments)},Zt=(l.___em_js__initPthreadsJS=function(){return(l.___em_js__initPthreadsJS=l.asm.Xa).apply(null,arguments)},l._memalign=function(){return(Zt=l._memalign=l.asm.Ya).apply(null,arguments)}),en=l.___pthread_tsd_run_dtors=function(){return(en=l.___pthread_tsd_run_dtors=l.asm.Za).apply(null,arguments)},tn=l._emscripten_main_thread_process_queued_calls=function(){return(tn=l._emscripten_main_thread_process_queued_calls=l.asm._a).apply(null,arguments)},nn=(l._emscripten_current_thread_process_queued_calls=function(){return(l._emscripten_current_thread_process_queued_calls=l.asm.$a).apply(null,arguments)},l._emscripten_register_main_browser_thread_id=function(){return(nn=l._emscripten_register_main_browser_thread_id=l.asm.ab).apply(null,arguments)}),an=(l._emscripten_main_browser_thread_id=function(){return(l._emscripten_main_browser_thread_id=l.asm.bb).apply(null,arguments)},l._emscripten_async_run_in_main_thread=function(){return(l._emscripten_async_run_in_main_thread=l.asm.cb).apply(null,arguments)},l._emscripten_sync_run_in_main_thread=function(){return(l._emscripten_sync_run_in_main_thread=l.asm.db).apply(null,arguments)},l._emscripten_sync_run_in_main_thread_0=function(){return(l._emscripten_sync_run_in_main_thread_0=l.asm.eb).apply(null,arguments)},l._emscripten_sync_run_in_main_thread_1=function(){return(l._emscripten_sync_run_in_main_thread_1=l.asm.fb).apply(null,arguments)},l._emscripten_sync_run_in_main_thread_2=function(){return(l._emscripten_sync_run_in_main_thread_2=l.asm.gb).apply(null,arguments)},l._emscripten_sync_run_in_main_thread_xprintf_varargs=function(){return(l._emscripten_sync_run_in_main_thread_xprintf_varargs=l.asm.hb).apply(null,arguments)},l._emscripten_sync_run_in_main_thread_3=function(){return(l._emscripten_sync_run_in_main_thread_3=l.asm.ib).apply(null,arguments)},l._emscripten_sync_run_in_main_thread_4=function(){return(an=l._emscripten_sync_run_in_main_thread_4=l.asm.jb).apply(null,arguments)}),rn=(l._emscripten_sync_run_in_main_thread_5=function(){return(l._emscripten_sync_run_in_main_thread_5=l.asm.kb).apply(null,arguments)},l._emscripten_sync_run_in_main_thread_6=function(){return(l._emscripten_sync_run_in_main_thread_6=l.asm.lb).apply(null,arguments)},l._emscripten_sync_run_in_main_thread_7=function(){return(l._emscripten_sync_run_in_main_thread_7=l.asm.mb).apply(null,arguments)},l._emscripten_run_in_main_runtime_thread_js=function(){return(rn=l._emscripten_run_in_main_runtime_thread_js=l.asm.nb).apply(null,arguments)}),sn=l._emscripten_async_queue_on_thread_=function(){return(sn=l._emscripten_async_queue_on_thread_=l.asm.ob).apply(null,arguments)},on=(l._emscripten_tls_init=function(){return(l._emscripten_tls_init=l.asm.pb).apply(null,arguments)},l.stackSave=function(){return(on=l.stackSave=l.asm.qb).apply(null,arguments)}),un=l.stackAlloc=function(){return(un=l.stackAlloc=l.asm.rb).apply(null,arguments)},ln=l.stackRestore=function(){return(ln=l.stackRestore=l.asm.sb).apply(null,arguments)},dn=l.dynCall_vi=function(){return(dn=l.dynCall_vi=l.asm.tb).apply(null,arguments)};function cn(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function hn(e){function t(){Gt||(Gt=!0,l.calledRun=!0,E||(ue(),le(),l.onRuntimeInitialized&&l.onRuntimeInitialized(),de()))}e=e||c,fe>0||(ie(),fe>0||(l.setStatus?(l.setStatus("Running..."),setTimeout((function(){setTimeout((function(){l.setStatus("")}),1),t()}),1)):t()))}if(l.dynCall_v=function(){return(l.dynCall_v=l.asm.ub).apply(null,arguments)},l.dynCall_ii=function(){return(l.dynCall_ii=l.asm.vb).apply(null,arguments)},l.asm=Ut,l.cwrap=R,l.PThread=ze,l.PThread=ze,l._pthread_self=Ht,l.wasmMemory=L,l.ExitStatus=cn,l.then=function(e){if(Gt)e(l);else{var t=l.onRuntimeInitialized;l.onRuntimeInitialized=function(){t&&t(),e(l)}}return l},ge=function e(){Gt||hn(),Gt||(ge=e)},l.run=hn,l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();return _||(T=!0),_||hn(),e});e.exports=r},7234:(e,t,n)=>{var a,r=(a=(a="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,r=void 0!==(e=e||{})?e:{},s={};for(t in r)r.hasOwnProperty(t)&&(s[t]=r[t]);var o=[],i=function(e,t){throw t},u=!1,l=!1,d=!1,c=!1;u="object"==typeof window,l="function"==typeof importScripts,d="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,c=!u&&!d&&!l;var h,p,m,f,_="";function g(e){return r.locateFile?r.locateFile(e,_):_+e}d?(_=l?n(1386).dirname(_)+"/":"//",h=function(e,t){return m||(m=n(2993)),f||(f=n(1386)),e=f.normalize(e),m.readFileSync(e,t?null:"utf8")},p=function(e){var t=h(e,!0);return t.buffer||(t=new Uint8Array(t)),w(t.buffer),t},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),o=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Le))throw e})),process.on("unhandledRejection",ne),i=function(e){process.exit(e)},r.inspect=function(){return"[Emscripten Module object]"}):c?("undefined"!=typeof read&&(h=function(e){return read(e)}),p=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(w("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?o=scriptArgs:void 0!==arguments&&(o=arguments),"function"==typeof quit&&(i=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(u||l)&&(l?_=self.location.href:document.currentScript&&(_=document.currentScript.src),a&&(_=a),_=0!==_.indexOf("blob:")?_.substr(0,_.lastIndexOf("/")+1):"",h=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},l&&(p=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var y,b,v,x=r.print||console.log.bind(console),k=r.printErr||console.warn.bind(console);for(t in s)s.hasOwnProperty(t)&&(r[t]=s[t]);s=null,r.arguments&&(o=r.arguments),r.thisProgram&&r.thisProgram,r.quit&&(i=r.quit),r.wasmBinary&&(y=r.wasmBinary),r.noExitRuntime&&(b=r.noExitRuntime),"object"!=typeof WebAssembly&&k("no native wasm support detected"),new WebAssembly.Table({initial:147,maximum:147,element:"anyfunc"});var M=!1;function w(e,t){e||ne("Assertion failed: "+t)}function T(e){var t=r["_"+e];return w(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function L(e,t,n,a,r){var s={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);F(e,t=we(n),n)}return t},array:function(e){var t=we(e.length);return R(e,t),t}},o=T(e),i=[],u=0;if(a)for(var l=0;l<a.length;l++){var d=s[n[l]];d?(0===u&&(u=Me()),i[l]=d(a[l])):i[l]=a[l]}var c=o.apply(null,i);return c=function(e){return"string"===t?A(e):"boolean"===t?Boolean(e):e}(c),0!==u&&Te(u),c}function S(e,t,n,a){var r=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&r&&!a?T(e):function(){return L(e,t,n,arguments)}}var D,I,N,C="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function E(e,t,n){for(var a=t+n,r=t;e[r]&&!(r>=a);)++r;if(r-t>16&&e.subarray&&C)return C.decode(e.subarray(t,r));for(var s="";t<r;){var o=e[t++];if(128&o){var i=63&e[t++];if(192!=(224&o)){var u=63&e[t++];if((o=224==(240&o)?(15&o)<<12|i<<6|u:(7&o)<<18|i<<12|u<<6|63&e[t++])<65536)s+=String.fromCharCode(o);else{var l=o-65536;s+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else s+=String.fromCharCode((31&o)<<6|i)}else s+=String.fromCharCode(o)}return s}function A(e,t){return e?E(I,e,t):""}function Y(e,t,n,a){if(!(a>0))return 0;for(var r=n,s=n+a-1,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),i<=127){if(n>=s)break;t[n++]=i}else if(i<=2047){if(n+1>=s)break;t[n++]=192|i>>6,t[n++]=128|63&i}else if(i<=65535){if(n+2>=s)break;t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i}else{if(n+3>=s)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i}}return t[n]=0,n-r}function F(e,t,n){return Y(e,I,t,n)}function R(e,t){D.set(e,t)}function O(e){r.HEAP8=D=new Int8Array(e),r.HEAP16=new Int16Array(e),r.HEAP32=N=new Int32Array(e),r.HEAPU8=I=new Uint8Array(e),r.HEAPU16=new Uint16Array(e),r.HEAPU32=new Uint32Array(e),r.HEAPF32=new Float32Array(e),r.HEAPF64=new Float64Array(e)}function $(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?r.dynCall_v(n):r.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t(r)}}r.INITIAL_MEMORY;var P=[],H=[],B=[],W=[];function z(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)G(r.preRun.shift());$(P)}function j(){$(H)}function V(){$(B)}function U(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)q(r.postRun.shift());$(W)}function G(e){P.unshift(e)}function q(e){W.unshift(e)}var X=Math.ceil,K=Math.floor,J=0,Q=null,Z=null;function ee(e){J++,r.monitorRunDependencies&&r.monitorRunDependencies(J)}function te(e){if(J--,r.monitorRunDependencies&&r.monitorRunDependencies(J),0==J&&(null!==Q&&(clearInterval(Q),Q=null),Z)){var t=Z;Z=null,t()}}function ne(e){throw r.onAbort&&r.onAbort(e),x(e+=""),k(e),M=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}function ae(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}r.preloadedImages={},r.preloadedAudios={};var re="data:application/octet-stream;base64,";function se(e){return ae(e,re)}var oe="file://";function ie(e){return ae(e,oe)}var ue="tfjs-backend-wasm.wasm";function le(){try{if(y)return new Uint8Array(y);if(p)return p(ue);throw"both async and sync fetching of the wasm failed"}catch(e){ne(e)}}function de(){return y||!u&&!l||"function"!=typeof fetch||ie(ue)?new Promise((function(e,t){e(le())})):fetch(ue,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ue+"'";return e.arrayBuffer()})).catch((function(){return le()}))}function ce(){var e={env:ve,wasi_snapshot_preview1:ve};function t(e,t){var n=e.exports;r.asm=n,O((v=n.memory).buffer),te()}function n(e){t(e.instance)}function a(t){return de().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){k("failed to asynchronously prepare wasm: "+e),ne(e)}))}if(ee(),r.instantiateWasm)try{return r.instantiateWasm(e,t)}catch(e){return k("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(y||"function"!=typeof WebAssembly.instantiateStreaming||se(ue)||ie(ue)||"function"!=typeof fetch)return a(n);fetch(ue,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){k("wasm streaming compile failed: "+e),k("falling back to ArrayBuffer instantiation"),a(n)}))}))}(),{}}function he(e){O(v.buffer)}se(ue)||(ue=g(ue)),H.push();var pe={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=pe.buffers[e];0===t||10===t?((1===e?x:k)(E(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return pe.varargs+=4,N[pe.varargs-4>>2]},getStr:function(e){return A(e)},get64:function(e,t){return e}};function me(e){return 0}function fe(e,t,n,a,r){}function _e(e,t,n,a){for(var r=0,s=0;s<n;s++){for(var o=N[t+8*s>>2],i=N[t+(8*s+4)>>2],u=0;u<i;u++)pe.printChar(e,I[o+u]);r+=i}return N[a>>2]=r,0}function ge(e){Ie(e)}function ye(e){ge(e)}function be(e){return(e=+e)>=0?+K(e+.5):+X(e-.5)}var ve={emscripten_notify_memory_growth:he,fd_close:me,fd_seek:fe,fd_write:_e,proc_exit:ye,roundf:be},xe=ce();r.asm=xe,r._init=function(){return(r._init=r.asm.init).apply(null,arguments)},r._register_tensor=function(){return(r._register_tensor=r.asm.register_tensor).apply(null,arguments)},r._dispose_data=function(){return(r._dispose_data=r.asm.dispose_data).apply(null,arguments)},r._dispose=function(){return(r._dispose=r.asm.dispose).apply(null,arguments)},r._Abs=function(){return(r._Abs=r.asm.Abs).apply(null,arguments)},r._Add=function(){return(r._Add=r.asm.Add).apply(null,arguments)},r._AddN=function(){return(r._AddN=r.asm.AddN).apply(null,arguments)},r._ArgMax=function(){return(r._ArgMax=r.asm.ArgMax).apply(null,arguments)},r._AvgPool=function(){return(r._AvgPool=r.asm.AvgPool).apply(null,arguments)},r._BatchMatMul=function(){return(r._BatchMatMul=r.asm.BatchMatMul).apply(null,arguments)},r._ClipByValue=function(){return(r._ClipByValue=r.asm.ClipByValue).apply(null,arguments)},r._Conv2D=function(){return(r._Conv2D=r.asm.Conv2D).apply(null,arguments)},r._Conv2DBackpropInput=function(){return(r._Conv2DBackpropInput=r.asm.Conv2DBackpropInput).apply(null,arguments)},r._Cos=function(){return(r._Cos=r.asm.Cos).apply(null,arguments)},r._CropAndResize=function(){return(r._CropAndResize=r.asm.CropAndResize).apply(null,arguments)},r._Cumsum=function(){return(r._Cumsum=r.asm.Cumsum).apply(null,arguments)},r._DepthToSpace=function(){return(r._DepthToSpace=r.asm.DepthToSpace).apply(null,arguments)},r._DepthwiseConv2dNative=function(){return(r._DepthwiseConv2dNative=r.asm.DepthwiseConv2dNative).apply(null,arguments)},r._Div=function(){return(r._Div=r.asm.Div).apply(null,arguments)},r._Equal=function(){return(r._Equal=r.asm.Equal).apply(null,arguments)},r._Exp=function(){return(r._Exp=r.asm.Exp).apply(null,arguments)},r._FlipLeftRight=function(){return(r._FlipLeftRight=r.asm.FlipLeftRight).apply(null,arguments)},r._FloorDiv=function(){return(r._FloorDiv=r.asm.FloorDiv).apply(null,arguments)},r._FusedBatchNorm=function(){return(r._FusedBatchNorm=r.asm.FusedBatchNorm).apply(null,arguments)},r._FusedConv2D=function(){return(r._FusedConv2D=r.asm.FusedConv2D).apply(null,arguments)},r._FusedDepthwiseConv2D=function(){return(r._FusedDepthwiseConv2D=r.asm.FusedDepthwiseConv2D).apply(null,arguments)},r._Gather=function(){return(r._Gather=r.asm.Gather).apply(null,arguments)},r._GatherNd=function(){return(r._GatherNd=r.asm.GatherNd).apply(null,arguments)},r._Greater=function(){return(r._Greater=r.asm.Greater).apply(null,arguments)},r._GreaterEqual=function(){return(r._GreaterEqual=r.asm.GreaterEqual).apply(null,arguments)},r._Less=function(){return(r._Less=r.asm.Less).apply(null,arguments)},r._LessEqual=function(){return(r._LessEqual=r.asm.LessEqual).apply(null,arguments)},r._Log=function(){return(r._Log=r.asm.Log).apply(null,arguments)},r._LogicalAnd=function(){return(r._LogicalAnd=r.asm.LogicalAnd).apply(null,arguments)},r._Max=function(){return(r._Max=r.asm.Max).apply(null,arguments)},r._MaxPool=function(){return(r._MaxPool=r.asm.MaxPool).apply(null,arguments)},r._Maximum=function(){return(r._Maximum=r.asm.Maximum).apply(null,arguments)},r._Min=function(){return(r._Min=r.asm.Min).apply(null,arguments)},r._Minimum=function(){return(r._Minimum=r.asm.Minimum).apply(null,arguments)},r._Multiply=function(){return(r._Multiply=r.asm.Multiply).apply(null,arguments)},r._Negate=function(){return(r._Negate=r.asm.Negate).apply(null,arguments)},r._NonMaxSuppressionV3=function(){return(r._NonMaxSuppressionV3=r.asm.NonMaxSuppressionV3).apply(null,arguments)},r._NonMaxSuppressionV4=function(){return(r._NonMaxSuppressionV4=r.asm.NonMaxSuppressionV4).apply(null,arguments)},r._NonMaxSuppressionV5=function(){return(r._NonMaxSuppressionV5=r.asm.NonMaxSuppressionV5).apply(null,arguments)},r._NotEqual=function(){return(r._NotEqual=r.asm.NotEqual).apply(null,arguments)},r._OneHot=function(){return(r._OneHot=r.asm.OneHot).apply(null,arguments)},r._PadV2=function(){return(r._PadV2=r.asm.PadV2).apply(null,arguments)},r._Pow=function(){return(r._Pow=r.asm.Pow).apply(null,arguments)},r._Prelu=function(){return(r._Prelu=r.asm.Prelu).apply(null,arguments)},r._Relu=function(){return(r._Relu=r.asm.Relu).apply(null,arguments)},r._Relu6=function(){return(r._Relu6=r.asm.Relu6).apply(null,arguments)},r._ResizeBilinear=function(){return(r._ResizeBilinear=r.asm.ResizeBilinear).apply(null,arguments)},r._Reverse=function(){return(r._Reverse=r.asm.Reverse).apply(null,arguments)},r._RotateWithOffset=function(){return(r._RotateWithOffset=r.asm.RotateWithOffset).apply(null,arguments)},r._Rsqrt=function(){return(r._Rsqrt=r.asm.Rsqrt).apply(null,arguments)},r._ScatterNd=function(){return(r._ScatterNd=r.asm.ScatterNd).apply(null,arguments)},r._SelectV2=function(){return(r._SelectV2=r.asm.SelectV2).apply(null,arguments)},r._Sigmoid=function(){return(r._Sigmoid=r.asm.Sigmoid).apply(null,arguments)},r._Sin=function(){return(r._Sin=r.asm.Sin).apply(null,arguments)},r._Softmax=function(){return(r._Softmax=r.asm.Softmax).apply(null,arguments)},r._Sqrt=function(){return(r._Sqrt=r.asm.Sqrt).apply(null,arguments)},r._Square=function(){return(r._Square=r.asm.Square).apply(null,arguments)},r._SquaredDifference=function(){return(r._SquaredDifference=r.asm.SquaredDifference).apply(null,arguments)},r._StridedSlice=function(){return(r._StridedSlice=r.asm.StridedSlice).apply(null,arguments)},r._Sub=function(){return(r._Sub=r.asm.Sub).apply(null,arguments)},r._Sum=function(){return(r._Sum=r.asm.Sum).apply(null,arguments)},r._Tanh=function(){return(r._Tanh=r.asm.Tanh).apply(null,arguments)},r._Tile=function(){return(r._Tile=r.asm.Tile).apply(null,arguments)},r._Transpose=function(){return(r._Transpose=r.asm.Transpose).apply(null,arguments)},r.__FusedMatMul=function(){return(r.__FusedMatMul=r.asm._FusedMatMul).apply(null,arguments)},r._malloc=function(){return(r._malloc=r.asm.malloc).apply(null,arguments)},r._free=function(){return(r._free=r.asm.free).apply(null,arguments)},r.__start=function(){return(r.__start=r.asm._start).apply(null,arguments)};var ke,Me=r.stackSave=function(){return(Me=r.stackSave=r.asm.stackSave).apply(null,arguments)},we=r.stackAlloc=function(){return(we=r.stackAlloc=r.asm.stackAlloc).apply(null,arguments)},Te=r.stackRestore=function(){return(Te=r.stackRestore=r.asm.stackRestore).apply(null,arguments)};function Le(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Se(e){var t=r.__start;try{t(),Ie(0,!0)}catch(e){if(e instanceof Le)return;if("unwind"==e)return void(b=!0);var n=e;e&&"object"==typeof e&&e.stack&&(n=[e,e.stack]),k("exception thrown: "+n),i(1,e)}}function De(e){function t(){ke||(ke=!0,r.calledRun=!0,M||(j(),V(),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Ne&&Se(),U()))}e=e||o,J>0||(z(),J>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),t()}),1)):t()))}function Ie(e,t){t&&b&&0===e||(b||(M=!0,r.onExit&&r.onExit(e)),i(e,new Le(e)))}if(r.asm=xe,r.cwrap=S,r.then=function(e){if(ke)e(r);else{var t=r.onRuntimeInitialized;r.onRuntimeInitialized=function(){t&&t(),e(r)}}return r},Z=function e(){ke||De(),ke||(Z=e)},r.run=De,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();var Ne=!0;return r.noInitialRun&&(Ne=!1),b=!0,De(),e});e.exports=r},6859:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GPGPUContext:()=>Zt,MathBackendWebGL:()=>ua,forceHalfFloat:()=>da,gpgpu_util:()=>r,setWebGLContext:()=>u,version_webgl:()=>la,webgl:()=>ca,webgl_util:()=>a});var a={};n.r(a),n.d(a,{assertNotComplex:()=>ce,bindCanvasToFramebuffer:()=>P,bindColorTextureToFramebuffer:()=>H,bindTextureToProgramUniformSampler:()=>$,bindTextureUnit:()=>Y,bindVertexBufferToProgramAttribute:()=>A,callAndCheck:()=>g,canBeRepresented:()=>y,createFragmentShader:()=>k,createFramebuffer:()=>E,createProgram:()=>w,createStaticIndexBuffer:()=>D,createStaticVertexBuffer:()=>S,createTexture:()=>N,createVertexShader:()=>x,getBatchDim:()=>U,getExtensionOrThrow:()=>v,getFramebufferErrorMessage:()=>z,getMaxTexturesInShader:()=>ae,getNumChannels:()=>I,getProgramUniformLocation:()=>O,getProgramUniformLocationOrThrow:()=>R,getRowsCols:()=>G,getShapeAs3D:()=>q,getTextureShapeFromLogicalShape:()=>X,getWebGLDisjointQueryTimerVersion:()=>re,getWebGLErrorMessage:()=>b,getWebGLMaxTextureSize:()=>ee,hasExtension:()=>se,isCapableOfRenderingToFloatTexture:()=>ie,isDownloadFloatTextureEnabled:()=>ue,isReshapeFree:()=>J,isWebGLFenceEnabled:()=>de,isWebGLVersionEnabled:()=>oe,linkProgram:()=>T,resetMaxTextureSize:()=>te,resetMaxTexturesInShader:()=>ne,unbindColorTextureFromFramebuffer:()=>B,unbindTextureUnit:()=>F,validateFramebuffer:()=>W,validateProgram:()=>L,validateTextureSize:()=>C});var r={};n.r(r),n.d(r,{bindVertexProgramAttributeStreams:()=>Vt,createBufferFromOutputTexture:()=>qt,createFloat16MatrixTexture:()=>$t,createFloat16PackedMatrixTexture:()=>jt,createFloat32MatrixTexture:()=>Rt,createIndexBuffer:()=>At,createPackedMatrixTexture:()=>Wt,createUnsignedBytesMatrixTexture:()=>Ht,createVertexBuffer:()=>Et,createVertexShader:()=>Ct,downloadByteEncodedFloatMatrixFromOutputTexture:()=>Kt,downloadFloat32MatrixFromBuffer:()=>Xt,downloadMatrixFromPackedOutputTexture:()=>Qt,downloadPackedMatrixFromBuffer:()=>Jt,getInternalFormatForFloat16MatrixTexture:()=>Ot,getInternalFormatForFloat16PackedMatrixTexture:()=>zt,getInternalFormatForFloat32MatrixTexture:()=>Ft,getInternalFormatForPackedMatrixTexture:()=>Bt,getInternalFormatForUnsignedBytesMatrixTexture:()=>Pt,uploadDenseMatrixToTexture:()=>Ut,uploadPixelDataToTexture:()=>Gt});var s=n(7533);const o={},i={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function u(e,t){o[e]=t}function l(e){if(!(e in o)){const t=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete o[e]}),!1),1===e?t.getContext("webgl",i)||t.getContext("experimental-webgl",i):t.getContext("webgl2",i)}(e);if(null===t)return console.log("Could not get context for WebGL version",e),null;o[e]=t}const t=o[e];return t.isContextLost()?(delete o[e],l(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),o[e])}var d,c,h;function p(e,t){return[t,e]}function m(e){const t=s.util.sizeFromShape(e),n=Math.ceil(t/4);return s.util.sizeToSquarishShape(n)}function f(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function _(e,t){const n=e;let a,r,o,i,u,l,d,c,h,p;return 2===(0,s.env)().getNumber("WEBGL_VERSION")?(a=n.R32F,r=n.R16F,o=n.RGBA16F,i=n.RGBA32F,u=n.RED,d=4,c=1,h=n.HALF_FLOAT,p=n.FLOAT):(a=e.RGBA,r=e.RGBA,o=e.RGBA,i=n.RGBA,u=e.RGBA,d=4,c=4,h=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT),l=e.RGBA,{internalFormatFloat:a,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:i,textureFormatFloat:u,downloadTextureFormat:l,downloadUnpackNumChannels:d,defaultNumChannels:c,textureTypeHalfFloat:h,textureTypeFloat:p}}function g(e,t){const n=t();return(0,s.env)().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+b(e,t))}(e),n}function y(e){return!!((0,s.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function b(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}function v(e,t){return j(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}function x(e,t){const n=j(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(g(e,(()=>e.shaderSource(n,t))),g(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function k(e,t){const n=j(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(g(e,(()=>e.shaderSource(n,t))),g(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw function(e,t){const n=M.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const a=+n[1],r=e.split("\n"),o=r.length.toString().length+2,i=r.map(((e,t)=>s.util.rightPad((t+1).toString(),o)+e));let u=0;for(let e=0;e<i.length;e++)u=Math.max(i[e].length,u);const l=i.slice(0,a-1),d=i.slice(a-1,a),c=i.slice(a);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${s.util.rightPad(d[0],u)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join("\n"))}(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(d||(d={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(c||(c={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(h||(h={}));const M=/ERROR: [0-9]+:([0-9]+):/g;function w(e){return j(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}function T(e,t){if(g(e,(()=>e.linkProgram(t))),!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function L(e,t){if(g(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function S(e,t){const n=j(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return g(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),g(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}function D(e,t){const n=j(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return g(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),g(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}function I(){return 2===(0,s.env)().getNumber("WEBGL_VERSION")?1:4}function N(e){return j(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}function C(e,t){const n=(0,s.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}function E(e){return j(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}function A(e,t,n,a,r,s,o){const i=e.getAttribLocation(t,n);return-1!==i&&(g(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,a))),g(e,(()=>e.vertexAttribPointer(i,r,e.FLOAT,!1,s,o))),g(e,(()=>e.enableVertexAttribArray(i))),!0)}function Y(e,t,n){V(e,n),g(e,(()=>e.activeTexture(e.TEXTURE0+n))),g(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}function F(e,t){V(e,t),g(e,(()=>e.activeTexture(e.TEXTURE0+t))),g(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}function R(e,t,n){return j(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}function O(e,t,n){return e.getUniformLocation(t,n)}function $(e,t,n,a){g(e,(()=>Y(e,t,a))),g(e,(()=>e.uniform1i(n,a)))}function P(e){g(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),g(e,(()=>e.viewport(0,0,e.canvas.width,e.canvas.height))),g(e,(()=>e.scissor(0,0,e.canvas.width,e.canvas.height)))}function H(e,t,n){g(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),g(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function B(e,t){g(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),g(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function W(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+z(e,t))}function z(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}function j(e,t,n){const a=g(e,(()=>t()));if(null==a)throw new Error(n);return a}function V(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,a=t+e.TEXTURE0;if(a<e.TEXTURE0||a>n)throw new Error(`textureUnit must be in [gl.TEXTURE0, gl.TEXTURE${n}].`)}function U(e,t=2){return s.util.sizeFromShape(e.slice(0,e.length-t))}function G(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function q(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[U(e),...G(e)]),t}function X(e,t=!1){let n=(0,s.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map(((t,n)=>n>=e.length-2?s.util.nearestLargerEven(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=s.util.squeezeShape(e);e=t.newShape}let a=s.util.sizeFromShape(e);if(e.length<=1&&a<=n)return[1,a];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){const t=U(e);let n=2,r=2;return e.length&&([n,r]=G(e)),a=t*(n/2)*(r/2),s.util.sizeToSquarishShape(a).map((e=>2*e))}return s.util.sizeToSquarishShape(a)}function K(e){return e%2==0}function J(e,t){if(e=e.slice(-2),t=t.slice(-2),s.util.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e.slice(-1)[0],a=t.slice(-1)[0];if(n===a)return!0;if(K(n)&&K(a)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&K(e[0])&&K(t[0])}let Q,Z;function ee(e){if(null==Q){const t=l(e);Q=t.getParameter(t.MAX_TEXTURE_SIZE)}return Q}function te(){Q=null}function ne(){Z=null}function ae(e){if(null==Z){const t=l(e);Z=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Z)}function re(e){if(0===e)return 0;let t;const n=l(e);return t=se(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:se(n,"EXT_disjoint_timer_query")?1:0,t}function se(e,t){return null!=e.getExtension(t)}function oe(e){try{if(null!=l(e))return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function ie(e){if(0===e)return!1;const t=l(e);if(1===e){if(!se(t,"OES_texture_float"))return!1}else if(!se(t,"EXT_color_buffer_float"))return!1;return le(t)}function ue(e){if(0===e)return!1;const t=l(e);if(1!==e){if(se(t,"EXT_color_buffer_float"))return le(t);const e="EXT_color_buffer_half_float";if(se(t,e)){const n=t.getExtension(e);return function(e,t){const n=_(e,t),a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a);e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0);const s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(a),e.deleteFramebuffer(r),s}(t,n)}return!1}return!!se(t,"OES_texture_float")&&(!!se(t,"WEBGL_color_buffer_float")&&le(t))}function le(e){const t=_(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const r=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(a),r}function de(e){return 2===e&&null!=l(e).fenceSync}function ce(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&s.util.assert("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGL backend.`))}))}const he=(0,s.env)();he.registerFlag("HAS_WEBGL",(()=>he.getNumber("WEBGL_VERSION")>0)),he.registerFlag("WEBGL_VERSION",(()=>oe(2)?2:oe(1)?1:0)),he.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),he.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===he.get("WEBGL_VERSION"))),he.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),he.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),he.registerFlag("WEBGL_PACK",(()=>he.getBool("HAS_WEBGL"))),he.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>he.getBool("WEBGL_PACK"))),he.registerFlag("WEBGL_PACK_CLIP",(()=>he.getBool("WEBGL_PACK"))),he.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>!1)),he.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>he.getBool("WEBGL_PACK"))),he.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>he.getBool("WEBGL_PACK"))),he.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>he.getBool("WEBGL_PACK"))),he.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>he.getBool("WEBGL_PACK"))),he.registerFlag("WEBGL_PACK_REDUCE",(()=>he.getBool("WEBGL_PACK"))),he.registerFlag("WEBGL_LAZILY_UNPACK",(()=>he.getBool("WEBGL_PACK"))),he.registerFlag("WEBGL_CONV_IM2COL",(()=>he.getBool("WEBGL_PACK"))),he.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>ee(he.getNumber("WEBGL_VERSION")))),he.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>ae(he.getNumber("WEBGL_VERSION")))),he.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=he.getNumber("WEBGL_VERSION");return 0===e?0:re(e)})),he.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>he.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!s.device_util.isMobile())),he.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>ie(he.getNumber("WEBGL_VERSION")))),he.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!he.getBool("WEBGL_FORCE_F16_TEXTURES")&&he.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),he.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>ue(he.getNumber("WEBGL_VERSION")))),he.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>de(he.getNumber("WEBGL_VERSION")))),he.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>he.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),he.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)}));var pe=n(5226);const{simpleAbsImpl:me,addImpl:fe,ceilImpl:_e,expImpl:ge,expm1Impl:ye,floorImpl:be,logImpl:ve,maxImpl:xe,multiplyImpl:ke,rsqrtImpl:Me,sliceImpl:we,subImpl:Te,transposeImpl:Le,uniqueImpl:Se}=pe;class De{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`float v${e} = get${e}AtOutCoords();`)}));const a=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${a};\n        setOutput(result);\n      }\n    `}}class Ie{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const a=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${a};\n        setOutput(result);\n      }\n    `}}class Ne{constructor(e,t,n){this.variableNames=["A"];const{windowSize:a,batchSize:r,outSize:s}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[r,s];const o="max"===t?">":"<",i=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${a};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${a}; i++) {\n          int inIdx = ${i};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${o} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}function Ce(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}function Ee(e,t){return 1===t?[e]:Ce(e,t)}function Ae(){let e,t,n,a,r,o,i,u,l,d;return 2===(0,s.env)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",a="in",r="texture",o="outputColor",i="out vec4 outputColor;",u="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",l="",d="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",a="varying",r="texture2D",o="gl_FragColor",i="",u="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",d="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:a,texture2D:r,output:o,defineOutput:i,defineSpecialNaN:u,defineSpecialInf:l,defineRound:d}}function Ye(e,t,n="index"){const a=s.util.computeStrides(t);return a.map(((t,r)=>`int ${e[r]} = ${n} / ${t}; ${r===a.length-1?`int ${e[r+1]} = ${n} - ${e[r]} * ${t}`:`index -= ${e[r]} * ${t}`};`)).join("")}function Fe(e){const t=s.util.computeStrides(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}const Re="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:Oe}=s.backend_util;function $e(e,t,n,a){const r=[];e.forEach((e=>{const t=s.util.sizeFromShape(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?r.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(r.push(`uniform sampler2D ${e.name};`),r.push(`uniform int offset${e.name};`))}));const o=r.join("\n"),i=e.map((e=>function(e,t,n=!1){let a="";a+=n?He(e):Pe(e);const r=e.shapeInfo.logicalShape,o=t.logicalShape;return r.length<=o.length&&(a+=n?function(e,t){const n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),r="get"+a+"AtOutCoords",o=e.shapeInfo.logicalShape.length,i=t.logicalShape.length,u=Oe(e.shapeInfo.logicalShape,t.logicalShape),l=Ge(i),d=i-o;let c;const h=["x","y","z","w","u","v"];c=0===o?"":i<2&&u.length>=1?"coords = 0;":u.map((e=>`coords.${h[e+d]} = 0;`)).join("\n");let p="";p=i<2&&o>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${h[t+d]}`)).join(", ");let m="return outputValue;";const f=1===s.util.sizeFromShape(e.shapeInfo.logicalShape),_=1===s.util.sizeFromShape(t.logicalShape);if(1!==o||f||_){if(f&&!_)m=1===i?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){const e=o-2,t=o-1;u.indexOf(e)>-1&&u.indexOf(t)>-1?m="return vec4(outputValue.x);":u.indexOf(e)>-1?m="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(t)>-1&&(m="return vec4(outputValue.xx, outputValue.zz);")}}else m="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${r}() {\n      ${l} coords = getOutputCoords();\n      ${c}\n      vec4 outputValue = get${a}(${p});\n      ${m}\n    }\n  `}(e,t):function(e,t){const n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),r="get"+a+"AtOutCoords",o=t.texShape,i=e.shapeInfo.texShape,u=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&u===l&&null==e.shapeInfo.flatOffset&&s.util.arraysEqual(i,o))return`\n      float ${r}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const d=Ge(l),c=Oe(e.shapeInfo.logicalShape,t.logicalShape),h=l-u;let p;const m=["x","y","z","w","u","v"];p=0===u?"":l<2&&c.length>=1?"coords = 0;":c.map((e=>`coords.${m[e+h]} = 0;`)).join("\n");let f="";return f=l<2&&u>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${m[t+h]}`)).join(", "),`\n    float ${r}() {\n      ${d} coords = getOutputCoords();\n      ${p}\n      return get${a}(${f});\n    }\n  `}(e,t)),a}(e,t,a))).join("\n"),u=t.texShape,l=Ae(),d=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(l);let c,h,p=function(e){return`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${Be}\n    ${We}\n    ${ze}\n  `}(l);return t.isPacked?(c=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){const n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${n[1]}.0);\n      }\n    `:1===n[1]?`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${n[0]}.0);\n      }\n    `:`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n      return 2 * (resTexRC.x * ${n[1]} + resTexRC.y);\n    }\n  `}(0,t);case 2:return function(e,t){const n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(s.util.arraysEqual(e,t))return`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${n[0]}, ${n[1]}));\n      }\n    `;const a=Math.ceil(e[1]/2);return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t);case 3:return function(e,t){const n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),r=a*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n\n      int b = index / ${r};\n      index -= b * ${r};\n\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t);default:return function(e,t){const n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),r=a*Math.ceil(e[e.length-2]/2);let s=r,o="",i="b, r, c";for(let t=2;t<e.length-1;t++)s*=e[e.length-t-1],o=`\n      int b${t} = index / ${s};\n      index -= b${t} * ${s};\n    `+o,i=`b${t}, `+i;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n\n      ${o}\n\n      int b = index / ${r};\n      index -= b * ${r};\n\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec${e.length}(${i});\n    }\n  `}(e,t)}}(t.logicalShape,u),h=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(l)):(c=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return 1===(n=t)[0]?`\n      int getOutputCoords() {\n        return int(resultUV.x * ${n[1]}.0);\n      }\n    `:1===n[1]?`\n      int getOutputCoords() {\n        return int(resultUV.y * ${n[0]}.0);\n      }\n    `:`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n      return resTexRC.x * ${n[1]} + resTexRC.y;\n    }\n  `;case 2:return function(e,t){return s.util.arraysEqual(e,t)?`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `:1===e[1]?`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `:1===e[0]?`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `:`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t);case 3:return function(e,t){const n=Ye(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${n}\n      return ivec3(r, c, d);\n    }\n  `}(e,t);case 4:return function(e,t){const n=Ye(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${n}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t);case 5:return function(e,t){const n=Ye(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=Ye(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}var n}(t.logicalShape,u),h=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(l)),a&&(p+=je),[p,d,h,o,c,i,n].join("\n")}function Pe(e){const t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return`float ${n}() {return ${t};}`;const[a,r]=e.shapeInfo.texShape;if(1===a&&1===r)return`\n      float ${n}() {\n        return sampleTexture(${t}, halfCR);\n      }\n    `;const[s,o]=e.shapeInfo.texShape;return`\n    float ${n}() {\n      vec2 uv = uvFromFlat(${s}, ${o}, ${Ve(t)});\n      return sampleTexture(${t}, uv);\n    }\n  `}(e);case 1:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${n}(int index) {\n        ${Ue(e)}\n      }\n    `;const a=e.shapeInfo.texShape,r=a[0],s=a[1];if(1===s&&1===r)return`\n      float ${n}(int index) {\n        return sampleTexture(${t}, halfCR);\n      }\n    `;const o=Ve(t);return 1===s?`\n      float ${n}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${r}.0);\n        return sampleTexture(${t}, uv);\n      }\n    `:1===r?`\n      float ${n}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${s}.0, 0.5);\n        return sampleTexture(${t}, uv);\n      }\n    `:`\n    float ${n}(int index) {\n      vec2 uv = uvFromFlat(${r}, ${s}, index + ${o});\n      return sampleTexture(${t}, uv);\n    }\n  `}(e);case 2:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=e.shapeInfo.texShape;if(null!=r&&s.util.arraysEqual(t,r)){const e=r[0];return`\n    float ${a}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${r[1]}.0, ${e}.0);\n      return sampleTexture(${n}, uv);\n    }\n  `}const{newShape:o,keptDims:i}=s.util.squeezeShape(t),u=o;if(u.length<t.length){const t=["row","col"];return`\n      ${Pe(qe(e,u))}\n      float ${a}(int row, int col) {\n        return ${a}(${Xe(t,i)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${t[1]}, 1)));\n        ${Ue(e)}\n      }\n    `;const l=r[0],d=r[1],c=Ve(n);return 1===d?`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${c}), vec3(${t[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${l}.0);\n      return sampleTexture(${n}, uv);\n    }\n  `:1===l?`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${c}), vec3(${t[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${d}.0, 0.5);\n      return sampleTexture(${n}, uv);\n    }\n  `:`\n  float ${a}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${t[1]} + col + ${c};\n    vec2 uv = uvFromFlat(${l}, ${d}, index);\n    return sampleTexture(${n}, uv);\n  }\n`}(e);case 3:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=t[1]*t[2],o=t[2],{newShape:i,keptDims:u}=s.util.squeezeShape(t),l=i;if(l.length<t.length){const t=["row","col","depth"];return`\n        ${Pe(qe(e,l))}\n        float ${a}(int row, int col, int depth) {\n          return ${a}(${Xe(t,u)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${r}, ${o}, 1)));\n        ${Ue(e)}\n      }\n    `;const d=e.shapeInfo.texShape,c=d[0],h=d[1],p=e.shapeInfo.flatOffset;if(h===r&&null==p)return`\n        float ${a}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${o}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${h}.0, ${c}.0);\n          return sampleTexture(${n}, uv);\n        }\n      `;if(h===o&&null==p)return`\n    float ${a}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${t[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${h}.0, ${c}.0);\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n      float ${a}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${r} + col * ${o} + depth + ${Ve(n)};\n        vec2 uv = uvFromFlat(${c}, ${h}, index);\n        return sampleTexture(${n}, uv);\n      }\n  `}(e);case 4:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=t[3],o=t[2]*r,i=t[1]*o,{newShape:u,keptDims:l}=s.util.squeezeShape(t);if(u.length<t.length){const t=["row","col","depth","depth2"];return`\n      ${Pe(qe(e,u))}\n      float ${a}(int row, int col, int depth, int depth2) {\n        return ${a}(${Xe(t,l)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${i}, ${o}, ${r}, 1)));\n        ${Ue(e)}\n      }\n    `;const d=e.shapeInfo.flatOffset,c=e.shapeInfo.texShape,h=c[0],p=c[1];if(p===i&&null==d)return`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${o}, ${r}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(p===r&&null==d)return`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${t[1]*t[2]}, ${t[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;return`\n    float ${a}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${i} + col * ${o} +\n          depth * ${r} + depth2;\n      vec2 uv = uvFromFlat(${h}, ${p}, index + ${Ve(n)});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=t[4],o=t[3]*r,i=t[2]*o,u=t[1]*i,{newShape:l,keptDims:d}=s.util.squeezeShape(t);if(l.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${Pe(qe(e,l))}\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        return ${a}(${Xe(t,d)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${u}, ${i}, ${o}, ${r})) +\n          depth3;\n        ${Ue(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,p=h[0],m=h[1];if(m===u&&null==c)return`\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${i}, ${o}, ${r}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${m}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(m===r&&null==c)return`\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${m}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;return`\n    float ${a}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${u} + col * ${i} + depth * ${o} +\n          depth2 * ${r} + depth3 + ${Ve(n)};\n      vec2 uv = uvFromFlat(${p}, ${m}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:r,keptDims:o}=s.util.squeezeShape(t);if(r.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${Pe(qe(e,r))}\n      float ${a}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${a}(${Xe(t,o)});\n      }\n    `}const i=t[5],u=t[4]*i,l=t[3]*u,d=t[2]*l,c=t[1]*d;if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${c}, ${d}, ${l}, ${u})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${i}, 1)));\n        ${Ue(e)}\n      }\n    `;const h=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,m=p[0],f=p[1];if(f===c&&null==h)return`\n      float ${a}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${d}, ${l}, ${u}, ${i})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${f}.0, ${m}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(f===i&&null==h)return`\n      float ${a}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${f}.0, ${m}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;return`\n    float ${a}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${c} + col * ${d} + depth * ${l} +\n          depth2 * ${u} + depth3 * ${i} + depth4 + ${Ve(n)};\n      vec2 uv = uvFromFlat(${m}, ${f}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${t.length}-D input sampling is not yet supported`)}}function He(e){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name;return`\n    vec4 ${"get"+t.charAt(0).toUpperCase()+t.slice(1)}() {\n      return ${Ae().texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),a=e.shapeInfo.texShape,r=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],s=Ae();return`\n    vec4 ${n}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${r[0]}, ${r[1]}, index);\n      return ${s.texture2D}(${t}, uv);\n    }\n  `}(e);case 2:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=e.shapeInfo.texShape,o=r[0],i=r[1],u=Ae();if(null!=r&&s.util.arraysEqual(t,r))return`\n      vec4 ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${i}.0, ${o}.0);\n\n        return ${u.texture2D}(${n}, uv);\n      }\n    `;const l=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return`\n    vec4 ${a}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${Math.ceil(t[1]/2)}, ${l[0]}, ${l[1]}, row, col);\n      return ${u.texture2D}(${n}, uv);\n    }\n  `}(e);case 3:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=e.shapeInfo.texShape,s=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];if(1===t[0]){const n=[1,2],r=["b","row","col"];return`\n        ${He(qe(e,t.slice(1)))}\n        vec4 ${a}(int b, int row, int col) {\n          return ${a}(${Xe(r,n)});\n        }\n      `}const o=s[0],i=s[1],u=Math.ceil(t[2]/2);return`\n    vec4 ${a}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${o}, ${i}, ${u*Math.ceil(t[1]/2)}, ${u}, b, row, col);\n      return ${Ae().texture2D}(${n}, uv);\n    }\n  `}(e);default:return function(e){const t=e.shapeInfo.logicalShape,n=t.length,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),s=e.shapeInfo.texShape,o=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],i=o[0],u=o[1],l=Math.ceil(t[n-1]/2);let d=l*Math.ceil(t[n-2]/2),c="int b, int row, int col",h=`b * ${d} + (row / 2) * ${l} + (col / 2)`;for(let e=2;e<n-1;e++)c=`int b${e}, `+c,d*=t[n-e-1],h=`b${e} * ${d} + `+h;return`\n    vec4 ${r}(${c}) {\n      int index = ${h};\n      int texR = index / ${u};\n      int texC = index - texR * ${u};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${i});\n      return ${Ae().texture2D}(${a}, uv);\n    }\n  `}(e)}}const Be="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",We="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",ze="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",je="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Ve(e){return`offset${e}`}function Ue(e){const t=e.name,n=s.util.sizeFromShape(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function Ge(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function qe(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Xe(e,t){return t.map((t=>e[t])).join(", ")}class Ke{constructor(e,t,n,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,s.util.assert(e.length>2,(()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`));const r=e[e.length-1],o=Math.ceil(r/t);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),a||this.variableNames.push("bestIndicesA");const i=this.outputShape,u=i.length,l=Ge(u),d=Ee("coords",u);let c,h;if(1===o){h=u+1;const e=Ge(h);c=`\n        ${e} sourceLocR = ${e}(${d.join()}, 0);\n        ++${d[u-1]};\n        ${e} sourceLocG = ${e}(${d.join()}, 0);\n        ++${d[u-2]};\n        ${e} sourceLocA = ${e}(${d.join()}, 0);\n        --${d[u-1]};\n        ${e} sourceLocB = ${e}(${d.join()}, 0);\n        --${d[u-2]};`}else h=u,c=`\n        ${l} sourceLocR = coords;\n        ++${d[u-1]};\n        ${l} sourceLocG = coords;\n        ++${d[u-2]};\n        ${l} sourceLocA = coords;\n        --${d[u-1]};\n        ${l} sourceLocB = coords;\n        --${d[u-2]};`;const p=["x","y","z","w","u","v"].slice(0,h),m="."+p[h-1],f=p.map((e=>"int "+e)),_=Ee("sourceLocR",h-1).concat("inIdx.r"),g=Ee("sourceLocG",h-1).concat("inIdx.g"),y=Ee("sourceLocB",h-1).concat("inIdx.b"),b=Ee("sourceLocA",h-1).concat("inIdx.a"),v="max"===n?"greaterThan":"lessThan",x=a?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${_.join()}),\n                             getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${y.join()}),\n                             getBestIndicesAChannel(${b.join()})));`,k=`vec4(\n            getAChannel(${_.join()}),\n            hasNextCol ? getAChannel(${g.join()}) : 0.,\n            hasNextRow ? getAChannel(${y.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,M=a?"":`\n      float getBestIndicesAChannel(${f.join()}) {\n        return getChannel(getBestIndicesA(${p.join()}),\n                                          vec2(${p.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${f.join()}) {\n        return getChannel(getA(${p.join()}),\n                               vec2(${p.slice(-2).join()}));\n      }\n      ${M}\n      void main() {\n        ${l} coords = getOutputCoords();\n        bool hasNextCol = ${d[u-1]} < ${i[u-1]-1};\n        bool hasNextRow = ${d[u-2]} < ${i[u-2]-1};\n        ${c}\n        ivec4 srcIdx = ivec4(sourceLocR${m}, sourceLocG${m},\n          sourceLocB${m}, sourceLocA${m}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${k};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${x}\n          vec4 candidate = ${k};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${v}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}class Je{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,r=e.strideWidth,s=e.dilationHeight,o=e.dilationWidth,i=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=i-1-e.padInfo.top,d=u-1-e.padInfo.left,c=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${l}, ${d});\n      const float avgMultiplier = float(${c});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${i};\n            wR += ${s}) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${u};\n            wC+= ${o}) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Qe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,a=e.filterWidth,r=e.strideDepth,s=e.strideHeight,o=e.strideWidth,i=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,d=e.effectiveFilterDepth,c=e.effectiveFilterHeight,h=e.effectiveFilterWidth,p=d-1-e.padInfo.front,m=c-1-e.padInfo.top,f=h-1-e.padInfo.left,_=1/(t*n*a);this.userCode=`\n      const ivec3 pads = ivec3(${p}, ${m}, ${f});\n      const float avgMultiplier = float(${_});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${d};\n            wD += ${i}) {\n          float dyD = float(dyDCorner + wD) / ${r}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${c};\n              wR += ${u}) {\n            float dyR = float(dyRCorner + wR) / ${s}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${h};\n                wC += ${l}) {\n              float dyC = float(dyCCorner + wC) / ${o}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Ze="return (a < 0.) ? b * a : a;";class et{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=s.backend_util.assertAndGetBroadcastShape(t,n),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}const tt="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";class nt{constructor(e,t,n,a=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=s.backend_util.assertAndGetBroadcastShape(t,n);const r=this.outputShape.length;let o="";if(a)if(0===r||1===s.util.sizeFromShape(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(o=`\n          ${Ge(r)} coords = getOutputCoords();\n        `,1===r)o+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=Ee("coords",r);o+=`\n            bool nextRowOutOfBounds =\n              (${e[r-2]} + 1) >= ${this.outputShape[r-2]};\n            bool nextColOutOfBounds =\n              (${e[r-1]} + 1) >= ${this.outputShape[r-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${o}\n\n        setOutput(result);\n      }\n    `}}class at{constructor(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}getCustomSetupFunc(e,t){return(n,a)=>{null==this.minLoc&&(this.minLoc=n.getUniformLocationNoThrow(a,"minVal"),this.maxLoc=n.getUniformLocationNoThrow(a,"maxVal")),n.gl.uniform1f(this.minLoc,e),n.gl.uniform1f(this.maxLoc,t)}}}class rt{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}getCustomSetupFunc(e,t){return(n,a)=>{null==this.minLoc&&(this.minLoc=n.getUniformLocationNoThrow(a,"minVal"),this.maxLoc=n.getUniformLocationNoThrow(a,"maxVal")),n.gl.uniform1f(this.minLoc,e),n.gl.uniform1f(this.maxLoc,t)}}}class st{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}class ot{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,a=e.padInfo.top,r=e.padInfo.left,s="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${a};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${r};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              if (${s}) {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class it{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,r=e.strideWidth,s="channelsLast"===e.dataFormat,o=t-1-e.padInfo.top,i=n-1-e.padInfo.left,u=s?1:2,l=s?2:3,d=s?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${o}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${d}];\n\n        ivec2 dyCorner = ivec2(coords[${u}], coords[${l}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${s}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class ut{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,a=e.strideWidth,r=e.padInfo.front,s=e.padInfo.top,o=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${r};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${s};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${a} - ${o};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class lt{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,a=e.filterWidth,r=e.strideDepth,s=e.strideHeight,o=e.strideWidth,i=t-1-e.padInfo.front,u=n-1-e.padInfo.top,l=a-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${i}, ${u}, ${l});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${r}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${s}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${a}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${o}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${a} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class dt{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,a=e.padInfo.top,r=e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${s} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${a};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${r};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class ct{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,r=e.strideWidth,s=t-1-e.padInfo.top,o=n-1-e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${i}; dm++) {\n              int d2 = d1 * ${i} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class ht{constructor(e,t=!1,n=null,a=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const r=e.padInfo.top,s=e.padInfo.left,o=e.strideHeight,i=e.strideWidth,u=e.dilationHeight,l=e.dilationWidth,d=e.filterHeight,c=e.filterWidth,h=4*Math.floor(e.inChannels/4),p=e.inChannels%4,m="channelsLast"===e.dataFormat,f=m?1:2,_=m?2:3,g=m?3:1;let y="",b="";n&&(y=a?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,b="result = activation(result);");const v=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode=`\n      ${y}\n\n      const ivec2 strides = ivec2(${o}, ${i});\n      const ivec2 pads = ivec2(${r}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${g}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${f}], coords[${_}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${d}; wR++) {\n          int xR = xRCorner + wR * ${u};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${c}; wC++) {\n            int xC = xCCorner + wC * ${l};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${h}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${m}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===p}) {\n\n              if (${m}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${h}) *\n                    getW(wR, wC, ${h}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${h}, xR, xC) *\n                    getW(wR, wC, ${h}, d2);\n              }\n\n            } else if (${2===p}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2)\n              );\n\n              if (${m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===p}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2),\n                getW(wR, wC, ${h} + 2, d2)\n              );\n\n              if (${m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1),\n                  getX(batch, xR, xC, ${h} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC),\n                  getX(batch, ${h} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${v}\n        ${b}\n        setOutput(result);\n      }\n    `}}class pt{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,a=e.padInfo.left,r=e.strideDepth,s=e.strideHeight,o=e.strideWidth,i=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,d=e.filterDepth,c=e.filterHeight,h=e.filterWidth,p=4*Math.floor(e.inChannels/4),m=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${r}, ${s}, ${o});\n      const ivec3 pads = ivec3(${t}, ${n}, ${a});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${d}; wF++) {\n          int xF = xFCorner + wF * ${i};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${c}; wR++) {\n            int xR = xRCorner + wR * ${u};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${h}; wC++) {\n              int xC = xCCorner + wC * ${l};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${p}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===m}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${p}) *\n                  getW(wF, wR, wC, ${p}, d2);\n              } else if (${2===m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1),\n                  getX(batch, xF, xR, xC, ${p} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2),\n                  getW(wF, wR, wC, ${p} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class mt{constructor(e,t=!1,n=null,a=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const r=e.inHeight,s=e.inWidth,o=e.padInfo.top,i=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,d=e.dilationHeight,c=e.dilationWidth,h=e.filterHeight,p=e.filterWidth,m=e.outChannels/e.inChannels;let f="",_="";n&&(f=a?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,_="result = activation(result);");const g=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode=`\n      ${f}\n\n      const ivec2 strides = ivec2(${u}, ${l});\n      const ivec2 pads = ivec2(${o}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${m};\n        int q = d2 - d1 * ${m};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${h}; wR++) {\n          int xR = xRCorner + wR * ${d};\n\n          if (xR < 0 || xR >= ${r}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${p}; wC++) {\n            int xC = xCCorner + wC * ${c};\n\n            if (xC < 0 || xC >= ${s}) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${g}\n        ${_}\n        setOutput(result);\n      }\n    `}}class ft{constructor(e,t=!1,n=null,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;const r=e.inHeight,o=e.inWidth,i=e.padInfo.top,u=e.padInfo.left,l=e.strideHeight,d=e.strideWidth,c=e.dilationHeight,h=e.dilationWidth,p=e.filterHeight,m=e.filterWidth,f=m;let _="int xR; int xC; int xCOffset;";for(let e=0;e<p;e++)for(let t=0;t<m;t++)_+=`\n          vec4 xTexelR${e}C${2*t} = vec4(0.);\n          vec4 wR${e}C${t} = vec4(0.);\n          vec4 xR${e}C${t} = vec4(0.);`;for(let e=0;e<p;e++)for(let t=0;t<f;t++){const n=2*t;if(_+=`\n          xR = xRCorner + ${e*c};\n          xC = xCCorner + ${n*h};\n        `,1===d){if(n<m&&(_+=u%2==1?`\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < ${r} && xCOffset >= 0 && xCOffset < ${o}) {\n                  xTexelR${e}C${n} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= ${o}) {\n                    xTexelR${e}C${n}.zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR${e}C${n} = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < ${r} && xCOffset >= 0 && xCOffset < ${o}) {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= ${o}) {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR${e}C${n} = vec4(previous.zw, xTexelR${e}C${n}.xy);\n                } else {\n                  xR${e}C${n} = vec4(0, 0, xTexelR${e}C${n}.xy);\n                }\n              `:`\n                if(xR >= 0 && xR < ${r} && xC >= 0 && xC < ${o}) {\n                  xTexelR${e}C${n} = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR${e}C${n} = vec4(0.);\n                }\n\n                xR${e}C${n} = xTexelR${e}C${n};\n              `,n+1<m)){const t=u%2==0?s.util.nearestLargerEven(h):h;h%2==0&&u%2==1||h%2!=0&&u%2!=1?(_+=`\n                  xCOffset = xC + ${u%2} + ${t};\n\n                  if(xR >= 0 && xR < ${r} &&\n                    xCOffset >= 0 && xCOffset < ${o}) {\n                    xTexelR${e}C${n+2} = getX(batch, xR, xCOffset, d1);\n                  }\n                `,h>1&&(_+=`\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < ${r} &&\n                      xCOffset >= 0 && xCOffset < ${o}) {\n                      xTexelR${e}C${n} = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR${e}C${n} = vec4(0.);\n                    }\n                  `),_+=`\n                  xR${e}C${n+1} = vec4(\n                    xTexelR${e}C${n}.zw, xTexelR${e}C${n+2}.xy);\n                `):_+=`\n                  xCOffset = xC + ${t};\n\n                  if(xR >= 0 && xR < ${r} &&\n                    xCOffset >= 0 && xCOffset < ${o}) {\n                    xTexelR${e}C${n+2} = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR${e}C${n+1} = xTexelR${e}C${n+2};\n                `}}else n<m&&(_+=`\n              if(xR >= 0 && xR < ${r}) {\n            `,u%2==1?(_+=`\n                xCOffset = xC + 1 - ${d};\n                if(xCOffset >= 0 && xCOffset < ${o}) {\n                  xTexelR${e}C${n} = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR${e}C${n} = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < ${o}) {\n                  xTexelR${e}C${n+2} = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR${e}C${n+2} = vec4(0.);\n                }\n\n                xR${e}C${n} = vec4(\n                  xTexelR${e}C${n}.zw, xTexelR${e}C${n+2}.zw);\n              `,n+1<m&&(_+=`\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + ${d};\n                  if(xCOffset >= 0 && xCOffset < ${o}) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR${e}C${n+1} = vec4(xTexelR${e}C${n+2}.xy, final.xy);\n                `)):(_+=`\n                if(xC >= 0 && xC < ${o}) {\n                  xTexelR${e}C${n} = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR${e}C${n} = vec4(0.);\n                }\n\n                xCOffset = xC + ${d};\n                if(xCOffset >= 0 && xCOffset < ${o}) {\n                  xTexelR${e}C${n+2} = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR${e}C${n+2} = vec4(0.);\n                }\n\n                xR${e}C${n} = vec4(\n                  xTexelR${e}C${n}.xy, xTexelR${e}C${n+2}.xy);\n              `,n+1<m&&(_+=`\n                  xR${e}C${n+1} = vec4(\n                    xTexelR${e}C${n}.zw, xTexelR${e}C${n+2}.zw);\n                `)),_+="}");n<m&&(_+=`\n            vec4 wTexelR${e}C${n} = getW(${e}, ${n}, d1, q);\n            wR${e}C${n} = vec4(wTexelR${e}C${n}.xz, wTexelR${e}C${n}.xz);\n          `,n+1<m&&(_+=`\n              vec4 wTexelR${e}C${n+1} = getW(${e}, ${n+1}, d1, q);\n              wR${e}C${n+1} =\n                vec4(wTexelR${e}C${n+1}.xz, wTexelR${e}C${n+1}.xz);`))}for(let e=0;e<p;e++)for(let t=0;t<m;t++)_+=`dotProd += xR${e}C${t} * wR${e}C${t};`;let g="",y="";n&&(g=a?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,y="result = activation(result);");const b=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode=`\n      ${g}\n\n      const ivec2 strides = ivec2(${l}, ${d});\n      const ivec2 pads = ivec2(${i}, ${u});\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        ${_}\n\n        vec4 result = dotProd;\n        ${b}\n        ${y}\n        setOutput(result);\n      }\n    `}}class _t{constructor(e,t,n,a,r){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[s,o,i,u]=e,[l]=t,[d,c]=n;this.outputShape=[l,d,c,u];const h="bilinear"===a?1:0,[p,m]=[o-1+".0",i-1+".0"],[f,_,g]=d>1?[""+(o-1)/(d-1),"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[y,b,v]=c>1?[""+(i-1)/(c-1),"(x2-x1) * width_ratio",`x1*${m} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${m}`];this.userCode=`\n      const float height_ratio = float(${f});\n      const float width_ratio = float(${y});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${s}) {\n          return;\n        }\n\n        float height_scale = ${_};\n        float width_scale = ${b};\n\n        float in_y = ${g};\n        if( in_y < 0.0 || in_y > ${p} ) {\n          setOutput(float(${r}));\n          return;\n        }\n        float in_x = ${v};\n        if( in_x < 0.0 || in_x > ${m} ) {\n          setOutput(float(${r}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${h} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}class gt{constructor(e,t,n){this.variableNames=["x"],this.outputShape=e;const a=e.length,r=t?"0.0":`getX(${yt(a,"coords")})`,s=e[e.length-1];let o="",i="";t?(o=n?"end != "+(s-1):"end != 0",i=n?"end + 1":"end - 1"):(o=n?`end + pow2 < ${s}`:"end >= pow2",i=n?"end + pow2":"end - pow2"),this.userCode=`\n      uniform float index;\n      void main() {\n        ${Ge(a)} coords = getOutputCoords();\n        int end = ${bt(a,"coords")};\n        float val = ${r};\n        int pow2 = int(pow(2.0, index));\n        if (${o}) {\n          int idx = ${i};\n          ${bt(a,"coords")} = idx;\n          val += getX(${yt(a,"coords")});\n        }\n        setOutput(val);\n      }\n    `}getCustomSetupFunc(e){return(t,n)=>{null==this.index&&(this.index=t.getUniformLocation(n,"index")),t.gl.uniform1f(this.index,e)}}}function yt(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}function bt(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}class vt{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=d.DENSE;const t=m(e),n=Ae();this.outputShape=e,this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${Ye(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2(${t[0]}, ${t[1]}));\n        int index = 4 * (resTexRC.x * ${t[1]} + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${n.output} = result;\n      }\n    `}}class xt{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=d.DENSE;const t=m(e),n=Ae();this.outputShape=e,this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${Ye(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2(${t[0]}, ${t[1]}));\n        int index = 4 * (resTexRC.x * ${t[1]} + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${n.output} = result;\n      }\n    `}}class kt{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}class Mt{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}class wt{constructor(e){this.variableNames=["A"],this.outTexUsage=c.DOWNLOAD;const t=Ae();this.outputShape=e,this.userCode=`\n      ${Re}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class Tt{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=c.DOWNLOAD;const t=Ae();this.outputShape=e,this.userCode=`\n      ${Re}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}class Lt{constructor(e,t,n=!1){this.variableNames=["A"];const a=Ae(),[r,s]=t;this.outputShape=e;let o="result";n&&(o="floor(result * 255. + 0.5)"),this.userCode=`\n      ${Fe(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / ${s};\n        int c = imod(flatIndex, ${s});\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(${s}.0, ${r}.0);\n        vec4 values = ${a.texture2D}(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ${a.output} = vec4(${o}, 0., 0., 0.);\n      }\n    `}}class St{constructor(e,t,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const a=Ae(),[r,s]=t;this.outputShape=e;let o="",i="result";n&&(i="floor(result * 255. + 0.5)");for(let t=0;t<=1;t++)for(let n=0;n<=1;n++){const i=2*t+n;o+=`\n          localCoords = coords;\n          if(localCoords[2] + ${n} < ${e[2]}) {\n            localCoords[2] += ${n};\n            if(localCoords[1] + ${t} < ${e[1]}) {\n              localCoords[1] += ${t};\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / ${s};\n              c = imod(flatIndex, ${s});\n              uv = (vec2(c, r) + halfCR) / vec2(${s}.0, ${r}.0);\n              values = ${a.texture2D}(A, uv);\n\n              if(offset == 0) {\n                result[${i}] = values[0];\n              } else if(offset == 1) {\n                result[${i}] = values[1];\n              } else if(offset == 2) {\n                result[${i}] = values[2];\n              } else {\n                result[${i}] = values[3];\n              }\n            }\n          }\n        `}this.userCode=`\n      ${Fe(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        ${o}\n\n        ${a.output} = ${i};\n      }\n    `}}class Dt{constructor(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}getCustomSetupFunc(e){return(t,n)=>{null==this.valueLoc&&(this.valueLoc=t.getUniformLocationNoThrow(n,"value")),t.gl.uniform1f(this.valueLoc,e)}}}class It{constructor(e,t,n){this.variableNames=["A","indices"];const a=e.slice();a[n]=t,this.outputShape=a,this.rank=a.length;const r=Ge(this.rank),s=function(e,t){const n=e.length;if(n>4)throw Error(`Gather for rank ${n} is not yet supported`);if(1===n)return"int(getIndices(resRC))";const a=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let n=0;n<e.length;n++)n===t?r.push(`int(getIndices(${a[n]}))`):r.push(`${a[n]}`);return r.join()}(e,n);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${s}));\n      }\n    `}}class Nt{constructor(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;const a=Ge(t.length),r=Ge(n.length),s=this.sliceDim>1?"strides[j]":"strides";this.userCode=`\n        ${a} strides = ${a}(${this.strides});\n         void main() {\n          ${r} coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ${this.sliceDim}; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ${s};\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      `}}function Ct(e){const t=Ae();return x(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function Et(e){return S(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function At(e){return D(e,new Uint16Array([0,1,2,2,1,3]))}function Yt(e,t,n,a,r,s){C(t,n);const o=N(e),i=e.TEXTURE_2D;return g(e,(()=>e.bindTexture(i,o))),g(e,(()=>e.texParameteri(i,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),g(e,(()=>e.texParameteri(i,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),g(e,(()=>e.texParameteri(i,e.TEXTURE_MIN_FILTER,e.NEAREST))),g(e,(()=>e.texParameteri(i,e.TEXTURE_MAG_FILTER,e.NEAREST))),g(e,(()=>e.texImage2D(i,0,a,t,n,0,r,s,null))),g(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),o}function Ft(e){return e.internalFormatFloat}function Rt(e,t,n,a){const[r,s]=p(t,n);return Yt(e,r,s,Ft(a),a.textureFormatFloat,e.FLOAT)}function Ot(e){return e.internalFormatHalfFloat}function $t(e,t,n,a){const[r,s]=p(t,n);return Yt(e,r,s,Ot(a),a.textureFormatFloat,a.textureTypeHalfFloat)}function Pt(e){return e.downloadTextureFormat}function Ht(e,t,n,a){const[r,s]=p(t,n);return Yt(e,r,s,Pt(a),e.RGBA,e.UNSIGNED_BYTE)}function Bt(e){return e.internalFormatPackedFloat}function Wt(e,t,n,a){const[r,s]=f(t,n);return Yt(e,r,s,Bt(a),e.RGBA,e.FLOAT)}function zt(e){return e.internalFormatPackedHalfFloat}function jt(e,t,n,a){const[r,s]=f(t,n);return Yt(e,r,s,zt(a),e.RGBA,a.textureTypeHalfFloat)}function Vt(e,t,n){return g(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),A(e,t,"clipSpacePos",n,3,20,0)&&A(e,t,"uv",n,2,20,12)}function Ut(e,t,n,a,r,s){let o,i,u;g(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),r instanceof Uint8Array?(o=new Uint8Array(n*a*4),i=e.UNSIGNED_BYTE,u=e.RGBA):(o=new Float32Array(n*a*4),i=e.FLOAT,u=s.internalFormatPackedFloat),o.set(r),g(e,(()=>e.texImage2D(e.TEXTURE_2D,0,u,n,a,0,e.RGBA,i,o))),g(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}function Gt(e,t,n){g(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?g(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):g(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),g(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}function qt(e,t,n,a){const r=e.createBuffer();g(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,r)));const s=16*t*n;return g(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,s,e.STREAM_READ))),g(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),g(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),r}function Xt(e,t,n){const a=e,r=new Float32Array(n);return a.bindBuffer(a.PIXEL_PACK_BUFFER,t),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,r),a.bindBuffer(a.PIXEL_PACK_BUFFER,null),r}function Kt(e,t,n,a){const[r,s]=p(t,n),o=new Uint8Array(t*n*4);return g(e,(()=>e.readPixels(0,0,r,s,a.downloadTextureFormat,e.UNSIGNED_BYTE,o))),new Float32Array(o.buffer)}function Jt(e,t,n,a,r,s,o,i){const u=e,l=new Float32Array(function(e,t){const[n,a]=f(e,t);return n*a*4}(s,o));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function Qt(e,t,n){const a=new Float32Array(t*n*4);return g(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,a))),a}class Zt{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const t=(0,s.env)().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,u(t,e)):this.gl=l(t);let n="WEBGL_color_buffer_float";const a="EXT_color_buffer_half_float";if(1===(0,s.env)().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=v(this.gl,e),se(this.gl,t))this.textureHalfFloatExtension=v(this.gl,t);else if((0,s.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),se(this.gl,a))this.colorBufferHalfFloatExtension=v(this.gl,a);else if((0,s.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",se(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!se(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=Et(this.gl),this.indexBuffer=At(this.gl),this.framebuffer=E(this.gl),this.textureConfig=_(this.gl,this.textureHalfFloatExtension)}get debug(){return(0,s.env)().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;g(e,(()=>e.finish())),g(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),g(e,(()=>e.deleteFramebuffer(this.framebuffer))),g(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),g(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),g(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),Rt(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),$t(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),Ht(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),Gt(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,a){this.throwIfDisposed(),Ut(this.gl,e,t,n,a,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),jt(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),Wt(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(B(this.gl,this.framebuffer),this.outputTexture=null),g(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>Kt(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,a,r,s){return Jt(this.gl,e,0,0,0,r,s,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return Xt(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const a=qt(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),a}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if((0,s.env)().getBool("WEBGL_FENCE_API_ENABLED")){const a=e,r=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=a.clientWaitSync(r,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=r}else(0,s.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,(0,s.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>Qt(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl,n=k(t,e),a=Ct(t),r=w(t);return g(t,(()=>t.attachShader(r,a))),g(t,(()=>t.attachShader(r,n))),T(t,r),this.debug&&L(t,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=Vt(t,this.program,this.vertexBuffer)),r}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&g(this.gl,(()=>this.gl.deleteProgram(e)))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&L(this.gl,this.program),g(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t,n=!0){return this.throwIfDisposed(),n?R(this.gl,e,t):O(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),g(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),$(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[a,r]=f(t,n);this.setOutputMatrixTextureDriver(e,a,r)}setOutputMatrixWriteRegion(e,t,n,a){this.setOutputMatrixWriteRegionDriver(n,e,a,t)}setOutputPackedMatrixWriteRegion(e,t,n,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&L(this.gl,this.program),W(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),g(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),g(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=v(this.gl,2===(0,s.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===(0,s.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===(0,s.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await s.util.repeatedTry((()=>this.disposed||this.isQueryAvailable(e,(0,s.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,(0,s.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),a=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),a&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||s.util.repeatedTry((()=>(this.pollItems(),0===this.itemsToPoll.length)))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),H(this.gl,e,this.framebuffer),this.debug&&W(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(H(this.gl,this.outputTexture,this.framebuffer),this.debug&&W(this.gl)):B(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const a=this.gl;H(a,e,this.framebuffer),this.debug&&W(a),this.outputTexture=e,g(a,(()=>a.viewport(0,0,t,n))),g(a,(()=>a.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,a){this.throwIfDisposed(),g(this.gl,(()=>this.gl.scissor(e,t,n,a)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}function en(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const a=e.logicalShape,r=t[n],o=r.shape;if(!s.util.arraysEqual(a,o))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${a} and ${o} must match`);if(e.isUniform&&r.isUniform)return;const i=e.texShape,u=r.isUniform?null:r.texData.texShape;if(!s.util.arraysEqual(i,u))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${i} and ${u} must match`)}))}class tn{constructor(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;const{filterWidth:a,inChannels:r,strideWidth:s,strideHeight:o,padInfo:i,outWidth:u,dilationWidth:l,dilationHeight:d,dataFormat:c}=n,{left:h,top:p}=i,m=r*a,f=Ae(),_="channelsLast"===c,g=_?0:1,y=_?1:2;let b="";for(let n=0;n<=1;n++)for(let a=0;a<=1;a++)b+=`\n          blockIndex = rc.y + ${a};\n          pos = rc.x + ${n};\n\n          if(blockIndex < ${e[1]} && pos < ${e[0]}) {\n            offsetY = int(blockIndex / (${u})) * ${o} - ${p};\n            d0 = offsetY + ${d} * (pos / ${m});\n\n            if(d0 < ${t[g]} && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), ${u}.) * ${s}. - ${h}.);\n              d1 = offsetX + ${l} * (int(mod(float(pos), ${m}.) / ${r}.));\n\n              if(d1 < ${t[y]} && d1 >= 0) {\n\n                ch = int(mod(float(pos), ${r}.));\n\n                if (${_}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*n+a}] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*n+a}] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${b}\n\n        ${f.output} = result;\n      }\n    `}}class nn{constructor(e,t,n,a,r){this.variableNames=["x"],this.outputShape=[];const s=t,o=e[3]-1;let i;this.outputShape=e;const u=`float(${n}) + float(${a}) * sum`;i=.5===r?`inversesqrt(${u})`:1===r?`1.0/(${u})`:`exp(log(${u}) * float(-${r}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${s}; j <= ${s}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${o}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${i};\n        setOutput(val);\n      }\n    `}}class an{constructor(e,t,n,a,r){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=a,this.beta=r,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${a}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${a})\n                * float(${r})\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${r});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}class rn{constructor(e,t,n,a,r){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const s=t,o=e[3]-1;let i;this.outputShape=e;const u=`float(${n}) + float(${a}) * sum`;i=.5===r?`inversesqrt(${u})`:1===r?`1.0/(${u})`:`exp(log(${u}) * float(-${r}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${s};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${s}; j <= ${s}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${o}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${i};\n        setOutput(result);\n      }\n    `}}class sn{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,a=e.dilationHeight,r=e.effectiveFilterHeight,s=e.effectiveFilterWidth,o=r-1-e.padInfo.top,i=s-1-e.padInfo.left,u=r*s-1;this.userCode=`\n      const ivec2 pads = ivec2(${o}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${r};\n          wR += ${a}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${s}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${u} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${s} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class on{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,a=e.strideWidth,r=e.dilationDepth,s=e.dilationHeight,o=e.dilationWidth,i=e.effectiveFilterDepth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,d=i-1-e.padInfo.front,c=u-1-e.padInfo.top,h=l-1-e.padInfo.left,p=i*u*l-1;this.userCode=`\n      const ivec3 pads = ivec3(${d}, ${c}, ${h});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${i};\n           wD += ${r}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${u};\n              wR += ${s}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${l};\n                wC += ${o}) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${p} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${u} * ${l} +\n                  wR * ${l} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class un{constructor(e,t,n,a=!1,r=!1,s=!1,o=null,i=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n;const u=a?e[1]:e[2],l=Math.ceil(u/2),d=a?"i * 2, rc.y":"rc.y, i * 2",c=r?"rc.z, i * 2":"i * 2, rc.z",h=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],p=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",f="";o&&(m=i?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${o}\n        }`:`vec4 activation(vec4 x) {\n          ${o}\n        }`,f="result = activation(result);");const _=s?"result += getBiasAtOutCoords();":"";s&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights");let g="rc.x",y="rc.x";e[0]<t[0]?g=`int(min(float(rc.x), ${e[0]-1}.))`:t[0]<e[0]&&(y=`int(min(float(rc.x), ${t[0]-1}.))`),this.userCode=`\n      ${m}\n\n      const float sharedDimension = ${l}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ${l}; i++) {\n          int batchA = ${g};\n          int batchB = ${y};\n          vec4 a = getMatrixA(batchA, ${d});\n          vec4 b = getMatrixB(batchB, ${c});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${h[0]} * ${p[0]});\n          result += (${h[1]} * ${p[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${_}\n\n        ${f}\n\n        setOutput(result);\n      }\n    `}}class ln{constructor(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode=`\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}getCustomSetupFunc(e){return(t,n)=>{null==this.seedLoc&&(this.seedLoc=t.getUniformLocation(n,"seed")),t.gl.uniform1f(this.seedLoc,e)}}}class dn{constructor(e,t,n,a){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${a}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}class cn{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;const t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const n=Ee("rc",t),a=Ge(t),r=function(e,t,n){if(1===e)return`rc > ${t[0]}`;let a="";for(let r=e-2;r<e;r++)a+=`${n[r]} >= ${t[r]}`,r<e-1&&(a+="||");return a}(t,e,n),s=function(e,t,n,a){if(1===e)return"";const r=a.slice(-2);return`\n    int r = ${r[0]};\n    int c = ${r[1]};\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= ${t};\n    bool rEdge = rp1 >= ${n};\n  `}(t,e[e.length-1],e[e.length-2],n),o=function(e,t){const n=e.length,a=function(e,t){const n=[];for(let a=0;a<=1;a++)for(let r=0;r<=1;r++){let s=`${0===a?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let n=2;n<e;n++)s=`${t[t.length-1-n]},`+s;n.push(s)}return n}(n,t);return 1===n?`getA(rc),\n            rc + 1 >= ${e[0]} ? 0. : getA(rc + 1),\n            0, 0`:`getA(${a[0]}),\n          cEdge ? 0. : getA(${a[1]}),\n          rEdge ? 0. : getA(${a[2]}),\n          rEdge || cEdge ? 0. : getA(${a[3]})`}(e,n);this.userCode=`\n        void main() {\n          ${a} rc = getOutputCoords();\n\n          if(${r}) {\n            setOutput(vec4(0));\n          } else {\n            ${s}\n\n            setOutput(vec4(${o}));\n          }\n        }\n      `}}}class hn{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=Ge(a),s=t.map((e=>e[0])).join(","),o=t.map(((t,n)=>t[0]+e[n])).join(","),i=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?`\n      ${r} start = ${r}(${s});\n      ${r} end = ${r}(${o});\n\n      void main() {\n        ${r} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float(${n}));\n        } else {\n          ${r} coords = outC - start;\n          setOutput(getX(${i}));\n        }\n      }\n    `:`\n        int start = ${s};\n        int end = ${o};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float(${n}));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class pn{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=Ge(a),s=t.map((e=>e[0])).join(","),o=t.map(((t,n)=>t[0]+e[n])).join(","),i=Ee("rc",a),u=Ee("source",a),l=`${i[a-1]} < ${this.outputShape[a-1]}`,d=1===a?"source":`vec2(${u.slice(-2).join()})`,c=[`${r} rc = outputLoc;`,`${i[a-1]} += 1;\n       if(${l}) {\n      `,1===a?"":`}\n       rc = outputLoc;\n       ${i[a-2]} += 1;\n       if(${i[a-2]} < ${this.outputShape[a-2]}) {`,1===a?"":`  ${i[a-1]} += 1;\n         if(${l}) {`],h=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let e=0,t=1===a?2:4;e<t;e++)p+=`\n        ${c[e]}\n        if (${h}) {\n          result[${e}] = float(${n});\n        } else {\n          ${r} source = rc - start;\n          result[${e}] = getChannel(getX(${u.join()}), ${d});\n        }\n      `;p+=1===a?"} ":"}}",this.userCode=`\n      const ${r} start = ${r}(${s});\n      const ${r} end = ${r}(${o});\n\n      void main() {\n        ${r} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${p}\n        setOutput(result);\n      }\n    `}}class mn{constructor(e,t,n,a=!1,r=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const s=e.filterWidth,o=e.strideHeight,i=e.strideWidth,u=e.dilationHeight,l=e.dilationWidth,d=e.effectiveFilterHeight,c=e.effectiveFilterWidth,h=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const m="avg"===t,f=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,_=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let g="0.0";if(m||(g="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${o}, ${i});\n        const ivec2 pads = ivec2(${h}, ${p});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${d};\n              wR += ${u}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${c};\n                wC += ${l}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${a?r?f:_:`wR * ${c} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let y=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(y="avgValue / count");const b=4*Math.floor(s/4),v=s%4,x=`\n      if (${m}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${o}, ${i});\n      const ivec2 pads = ivec2(${h}, ${p});\n      const float initializationValue = ${g};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${g});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${d};\n            wR += ${u}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${b}; wC += 4) {\n            int xC = xCCorner + wC * ${l};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${l}, d),\n              getValue(batch, xR, xC + 2 * ${l}, d),\n              getValue(batch, xR, xC + 3 * ${l}, d)\n            );\n\n            ${x}\n          }\n\n          int xC = xCCorner + ${b};\n          if (${1===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${x}\n          } else if (${2===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${l}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${x}\n          } else if (${3===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${l}, d),\n              getValue(batch, xR, xC + 2 * ${l}, d),\n              initializationValue\n            );\n\n            ${x}\n          }\n        }\n        setOutput(${y});\n      }\n    `}}class fn{constructor(e,t,n,a=!1,r=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const s=e.filterWidth,o=e.strideDepth,i=e.strideHeight,u=e.strideWidth,l=e.dilationDepth,d=e.dilationHeight,c=e.dilationWidth,h=e.effectiveFilterDepth,p=e.effectiveFilterHeight,m=e.effectiveFilterWidth,f=e.padInfo.front,_=e.padInfo.top,g=e.padInfo.left;this.outputShape=e.outShape;const y="avg"===t;let b="0.0";if(y||(b="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${o}, ${i}, ${u});\n        const ivec3 pads = ivec3(${f}, ${_}, ${g});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${h};\n              wD += ${l}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${p};\n                wR += ${d}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${m};\n                  wC += ${c}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${a?r?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${m} +\n                      wR * ${m} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let v=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(v="avgValue / count");const x=4*Math.floor(s/4),k=s%4,M=`\n      if (${y}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${o}, ${i}, ${u});\n      const ivec3 pads = ivec3(${f}, ${_}, ${g});\n      const float initializationValue = ${b};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${b});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${h};\n            wD += ${l}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${p};\n            wR += ${d}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${x}; wC += 4) {\n              int xC = xCCorner + wC * ${c};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${c}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${c}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${c}, ch)\n              );\n\n              ${M}\n            }\n\n            int xC = xCCorner + ${x};\n            if (${1===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${M}\n            } else if (${2===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${c}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${M}\n            } else if (${3===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${c}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${c}, ch),\n                initializationValue\n              );\n\n              ${M}\n            }\n          }\n          setOutput(${v});\n        }\n      }\n    `}}class _n{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:a,inSize:r,outSize:s}=e;this.outputShape=[a,s];let o="0.0",i="";"prod"===t?o="1.0":"min"===t?(o="1.0 / 1e-20",i="min"):"max"===t&&(o="-1.0 / 1e-20",i="max");let u=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?u="sumValue":"prod"===t?u="prodValue":"all"===t?u="allValue":"any"===t&&(u="anyValue");const l=4*Math.floor(n/4),d=n%4;let c=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${i}(values, minMaxValue);\n      }\n    `,h="vec4";"all"===t?(o="1.0",c="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===t&&(o="0.0",c="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");let p="";r%n>0&&(p=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${o};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${p}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${o});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${l}; i += 4) {\n          int inIdx = inOffset + i;\n          ${h} values = ${h}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${c}\n        }\n\n        int inIdx = inOffset + ${l};\n        if (${1===d}) {\n          ${h} values = ${h}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${c}\n        } else if (${2===d}) {\n          ${h} values = ${h}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${c}\n        } else if (${3===d}) {\n          ${h} values = ${h}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${c}\n        }\n        setOutput(${u});\n      }\n    `}}class gn{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;let n="";for(let e=0;e<4;e++){let t="thisRC = rc;";e%2==1&&(t+="thisRC.z += 1;"),e>1&&(t+="thisRC.y += 1;"),n+=`\n        ${t}\n        ${e>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${e}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${e>0?"}":""}\n      `}var a;this.userCode=`\n      ${a=t,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${Ye(["r","c","d"],a)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${Fe(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${e[1]};\n        int cols = ${e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class yn{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;const[,a,r]=t.shape,[,s,o]=e.shape,i=[n&&s>1?a-1:a,n&&o>1?r-1:r],u=[n&&s>1?s-1:s,n&&o>1?o-1:o],l=i[0]/u[0],d=i[1]/u[1],c=1/l,h=1/d,p=2*Math.ceil(c)+2,m=2*Math.ceil(h)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${l});\n        const float widthScale = float(${d});\n\n        const float invHeightScale = float(${c});\n        const float invWidthScale = float(${h});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${m});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${s}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${o}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${a-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${r-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}class bn{constructor(e,t,n,a){this.variableNames=["A"],this.outputShape=[];const[r,s,o,i]=e;this.outputShape=[r,t,n,i];const u=[a&&t>1?s-1:s,a&&n>1?o-1:o],l=[a&&t>1?t-1:t,a&&n>1?n-1:n];this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/l[0]},\n          ${u[1]/l[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class vn{constructor(e,t,n,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[r,s,o,i]=e;this.outputShape=[r,t,n,i];const u=[a&&t>1?s-1:s,a&&n>1?o-1:o],l=[a&&t>1?t-1:t,a&&n>1?n-1:n];this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/l[0]},\n          ${u[1]/l[1]},\n          ${u[1]/l[1]});\n      const vec3 inputShapeRC = vec3(${s}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${i-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}class xn{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;const[,a,r]=t.shape,[,s,o]=e.shape,i=[n&&s>1?a-1:a,n&&o>1?r-1:r],u=[n&&s>1?s-1:s,n&&o>1?o-1:o],l=i[0]/u[0],d=i[1]/u[1],c=1/l,h=1/d,p=2*Math.ceil(c)+2,m=2*Math.ceil(h)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${l});\n        const float widthScale = float(${d});\n\n        const float invHeightScale = float(${c});\n        const float invWidthScale = float(${h});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${m});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${s}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${o}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${i[0]}) *\n                (float(dyR) / float(${u[0]}));\n\n            float sourceFracCol =\n                float(${i[1]}) *\n                  (float(dyC) / float(${u[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${a}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${r}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}class kn{constructor(e,t,n,a){this.variableNames=["A"],this.outputShape=[];const[r,s,o,i]=e;this.outputShape=[r,t,n,i];const u=[a&&t>1?s-1:s,a&&n>1?o-1:o],l=[a&&t>1?t-1:t,a&&n>1?n-1:n],d=a?"0.5":"0.0";this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/l[0]},\n          ${u[1]/l[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class Mn{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const a=e.map(((n,a)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`)(a))).join(","),r=Ge(n);this.userCode=`\n      void main() {\n        ${r} coords = getOutputCoords();\n        setOutput(getX(${a}));\n      }\n    `}}class wn{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const a=Ee("rc",n),r=`${a[n-1]} + 1 < ${this.outputShape[n-1]}`,s=`${a[n-2]} + 1 < ${this.outputShape[n-2]}`,o=Ge(n);function i(n){const a=e.map(((a,r)=>function(n,a){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${a[n]} - 1`:`${a[n]}`}(r,n)));return`getChannel(getX(${a.join(",")}), vec2(${a.slice(-2).join(",")}))`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${r}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${o} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function(e){return i(e)}(a.slice())};\n          if(${r}){\n            result.g = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",i(e)}(a.slice())};\n          }\n          if(${s}) {\n            result.b = ${function(e){return e[n-2]="("+e[n-2]+" + 1)",i(e)}(a.slice())};\n            if(${r}) {\n              result.a = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",i(e)}(a.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}class Tn{constructor(e,t,n,a,r,s,o=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=s;const i=Ge(r.length),u=Ge(s.length);let l="";1===n?l="i":2===n&&(l="i, j");const d=`getIndices(${l})`;let c="";1===a?c="i":2===a&&(c="i, coords[1]");const h=`getUpdates(${c})`,p=t>1?"strides[j]":"strides";this.userCode=`\n        ${i} strides = ${i}(${r});\n\n        void main() {\n          ${u} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${d});\n              flattenedIndex += index * ${p};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${h};\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      `}}class Ln{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,a=e.batchSize,r=e.inSize,s=e.numSegments,o=s*Math.ceil(r/n);this.outputShape=[a,o];const i=4*Math.floor(n/4),u=n%4,l="\n        sumValue += dot(values, segFilter);\n    ";let d="";r%n>0&&(d=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return initializationValue;\n        }\n      `);let c="";r%n>0&&(c=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${d}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${c}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${s})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${s})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${i}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${l}\n        }\n\n        int inIdx = inOffset + ${i};\n        if (${1===u}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${l}\n        } else if (${2===u}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${l}\n        } else if (${3===u}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${l}\n        }\n        setOutput(sumValue);\n      }\n    `}}class Sn{constructor(e,t,n){let a,r;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)r="resRC",a="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],o=[];for(let a=0;a<t.length;a++)o.push(`${n[a]}`),a<e&&s.push(`${n[a]}`);a=s.join(),r=o.join()}const s=Ge(n);this.userCode=`\n      void main() {\n        ${s} resRC = getOutputCoords();\n        float cVal = getC(${a});\n        if (cVal >= 1.0) {\n          setOutput(getA(${r}));\n        } else {\n          setOutput(getB(${r}));\n        }\n      }\n    `}}class Dn{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=Ge(this.rank),n=`uniform int start[${this.rank}];`,a=function(e){if(1===e)return"sourceLoc";if(e<=6)return In.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let r;r=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${e.map(((e,t)=>`sourceLoc.${In[t]} = start[${t}] + coords.${In[t]};`)).join("\n")}\n      `,this.userCode=`\n      ${n}\n      void main() {\n        ${r}\n        setOutput(getSource(${a}));\n      }\n    `}getCustomSetupFunc(e){if(e.length!==this.rank)throw Error(`The rank (${this.rank}) of the program must match the length of start (${e.length})`);return(t,n)=>{null==this.startLoc&&(this.startLoc=t.getUniformLocationNoThrow(n,"start"),null==this.startLoc)||t.gl.uniform1iv(this.startLoc,e)}}}const In=["x","y","z","w","u","v"];class Nn{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;const t=Ge(this.rank),n=Ee("coords",this.rank),a=Ee("sourceLoc",this.rank),r=1===this.rank?"sourceLoc":`vec2(${a.slice(-2).join()})`,s=`getChannel(getSource(${a.join()}), ${r})`,o=`\n      result.x = ${s};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${a[this.rank-1]};\n        result.y = ${s};\n        --${a[this.rank-1]};\n      }\n    `,i=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${a[this.rank-2]};\n        result.z = ${s};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${a[this.rank-1]};\n          result.w = ${s};\n        }\n      }\n    `,u=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map(((e,t)=>`start[${t}]`)).join()});`:e.map(((e,t)=>`${a[t]} = ${n[t]} + start[${t}];`)).join("\n");this.userCode=`\n      uniform int start[${this.rank}];\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${u}\n        vec4 result = vec4(0.);\n        ${o}\n        ${i}\n        setOutput(result);\n      }\n    `}getCustomSetupFunc(e){if(e.length!==this.rank)throw Error(`The rank (${this.rank}) of the program must match the length of start (${e.length})`);return(t,n)=>{null==this.startLoc&&(this.startLoc=t.getUniformLocationNoThrow(n,"start"),null==this.startLoc)||t.gl.uniform1iv(this.startLoc,e)}}}class Cn{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const a=n.length,r=Ge(n.length),s=Ge(n.length);let o="";if(1===a)o="coords * strides + begin";else{let e=0;o=n.map(((t,a)=>(e++,1===n.length?`coords * strides[${a}] + begin[${a}]`:`coords[${e-1}] * strides[${a}] + begin[${a}]`))).join(",")}this.userCode=`\n      ${r} begin = ${r}(${e});\n      ${r} strides = ${r}(${t});\n\n      void main() {\n        ${s} coords = getOutputCoords();\n        setOutput(getX(${o}));\n      }\n    `}}class En{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,t,n){const a=Yn(t,n),r=Fn(e,a,n);r in this.freeTextures||(this.freeTextures[r]=[]),r in this.usedTextures||(this.usedTextures[r]=[]);const s=An(e,a,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[r].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=s,this.log();const e=this.freeTextures[r].shift();return this.usedTextures[r].push(e),e}let o;return a===h.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):a===h.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):a===h.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):a===h.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):a===h.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[r].push(o),this.numUsedTextures++,this._numBytesAllocated+=s,this.log(),o}releaseTexture(e,t,n,a){if(null==this.freeTextures)return;const r=Yn(n,a),o=Fn(t,r,a);o in this.freeTextures||(this.freeTextures[o]=[]);const i=An(t,r,this.gpgpu.gl,this.gpgpu.textureConfig,a),u=(0,s.env)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==u&&this._numBytesAllocated>u?(this.gpgpu.deleteMatrixTexture(e),this._numBytesAllocated-=i):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=i),this.numUsedTextures--;const l=this.usedTextures[o],d=l.indexOf(e);if(d<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l.splice(d,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function An(e,t,n,a,r){const s=function(e,t){switch(e){case h.PACKED_2X2_FLOAT32:return Bt(t);case h.PACKED_2X2_FLOAT16:return zt(t);case h.UNPACKED_FLOAT32:return Ft(t);case h.UNPACKED_FLOAT16:return Ot(t);case h.PACKED_4X1_UNSIGNED_BYTE:return Pt(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,a);let o;if(r){const[t,n]=f(e[0],e[1]);o=t*n}else{const[t,n]=p(e[0],e[1]);o=t*n}return o*function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;throw new Error(`Unknown internal format ${t}`)}(n,s)}function Yn(e,t){if(e===c.UPLOAD)return h.PACKED_2X2_FLOAT32;if(e===c.RENDER||null==e)return function(e){return(0,s.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?h.PACKED_2X2_FLOAT32:h.UNPACKED_FLOAT32:e?h.PACKED_2X2_FLOAT16:h.UNPACKED_FLOAT16}(t);if(e===c.DOWNLOAD||e===c.PIXELS)return h.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function Fn(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class Rn{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[a]*t[a];this.outputShape=n,this.rank=n.length;const a=Ge(this.rank),r=function(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],a=[];for(let t=0;t<e.length;t++)a.push(`imod(${n[t]}, ${e[t]})`);return a.join()}(e);this.userCode=`\n      void main() {\n        ${a} resRC = getOutputCoords();\n        setOutput(getA(${r}));\n      }\n    `}}class On{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const $n="return abs(x);",Pn="if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",Hn="if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Bn="return (x >= 0.0) ? x : (exp(x) - 1.0);",Wn=`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${s.backend_util.SELU_SCALEALPHA};\n  float scale = ${s.backend_util.SELU_SCALE};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`,zn="return -x;",jn="return ceil(x);",Vn="return floor(x);",Un="return exp(x);",Gn="return exp(x) - 1.0;",qn=`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${s.backend_util.ERF_P};\n  float a1 = ${s.backend_util.ERF_A1};\n  float a2 = ${s.backend_util.ERF_A2};\n  float a3 = ${s.backend_util.ERF_A3};\n  float a4 = ${s.backend_util.ERF_A4};\n  float a5 = ${s.backend_util.ERF_A5};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`,Xn="return x;",Kn="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Jn="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Qn="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n";class Zn{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class ea{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;const t=e.length,n=Ee("rc",t),a=Ge(t),r=function(e,t){if(1===e)return"rc";let n="";for(let a=0;a<e;a++)n+=t[a],a<e-1&&(n+=",");return n}(t,n),s=n.slice(-2),o=t<=1?"rc":`vec2(${s.join(",")})`;this.userCode=`\n      void main() {\n        ${a} rc = getOutputCoords();\n        vec4 packedInput = getA(${r});\n\n        setOutput(getChannel(packedInput, ${o}));\n      }\n    `}}const{segment_util:ta}=s.backend_util,na=s.kernel_impls.split,aa=s.kernel_impls.tile,ra=s.kernel_impls.topkImpl,sa=s.kernel_impls.whereImpl,oa={};function ia(e,t=!1){if("linear"===e)return"return x;";if("relu"===e)return t?Kn:Pn;if("elu"===e)return t?Qn:Bn;if("relu6"===e)return t?Jn:Hn;if("prelu"===e)return t?tt:Ze;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class ua extends s.KernelBackend{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.warnedAboutMemory=!1,this.warnedAboutCPUBackend=!1,this.pendingDeletes=0,this.disposed=!1,!(0,s.env)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==e){const e=l((0,s.env)().getNumber("WEBGL_VERSION"));this.binaryCache=((t=(0,s.env)().getNumber("WEBGL_VERSION"))in oa||(oa[t]={}),oa[t]),this.gpgpu=new Zt(e),this.canvas=e.canvas,this.gpgpuCreatedLocally=!0}else this.gpgpu=e,this.binaryCache={},this.gpgpuCreatedLocally=!1,this.canvas=e.gl.canvas;var t;this.textureManager=new En(this.gpgpu),this.numMBBeforeWarning=null==(0,s.env)().global.screen?1024:(0,s.env)().global.screen.height*(0,s.env)().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new s.DataStorage(this,(0,s.engine)())}numDataIds(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes}write(e,t,n){if(((0,s.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||(0,s.env)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const a={};return this.texData.set(a,{shape:t,dtype:n,values:e,usage:c.UPLOAD,refCount:1,complexParentRefCount:0}),a}incRef(e){this.texData.get(e).refCount++}decRef(e){this.texData.has(e)&&this.texData.get(e).refCount--}move(e,t,n,a){if((0,s.env)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===a)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:a,values:t,usage:c.UPLOAD,refCount:1,complexParentRefCount:0})}disposeIntermediateTensorInfo(e){const t=e.dataId;if(this.texData.has(t)){const e=this.texData.get(t);e.refCount--,e.refCount<1&&this.disposeData(t)}}readSync(e){const t=this.texData.get(e),{values:n,dtype:a,complexTensorInfos:r,slice:o,shape:i,isPacked:u}=t;if(null!=o){let t;t=u?new Zn(i,Xn):new On(i,Xn);const n=this.runWebGLProgram(t,[{dataId:e,shape:i,dtype:a}],a),r=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),r}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===a)return n;const l=null!=this.activeTimers;let d,c;if(l&&(d=s.util.now()),"complex64"===a){const e=this.readSync(r.real.dataId),t=this.readSync(r.imag.dataId);c=s.backend_util.mergeRealAndImagArrays(e,t)}else c=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=s.util.now()-d),this.convertAndCacheOnCPU(e,c)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:a,slice:r,dtype:o,complexTensorInfos:i,isPacked:u}=t;if(null!=r){let t;t=u?new Zn(a,Xn):new On(a,Xn);const n=this.runWebGLProgram(t,[{dataId:e,shape:a,dtype:o}],o),r=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),r}if(null!=n)return this.convertAndCacheOnCPU(e);if(!(0,s.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===(0,s.env)().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,d,c=null;if("complex64"!==o&&(0,s.env)().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);c=this.gpgpu.createBufferFromTexture(t.texture,...m(a))}if(this.pendingRead.set(e,[]),"complex64"!==o&&await this.gpgpu.createAndWaitForFence(),"complex64"===o){const e=await Promise.all([this.read(i.real.dataId),this.read(i.imag.dataId)]),t=e[0],n=e[1];d=s.backend_util.mergeRealAndImagArrays(t,n)}else if(null==c)d=this.getValuesFromTexture(e);else{const e=s.util.sizeFromShape(a);d=this.gpgpu.downloadFloat32MatrixFromBuffer(c,e)}null!=l&&this.disposeIntermediateTensorInfo(l);const h=this.convertAndCacheOnCPU(e,d),p=this.pendingRead.get(e);return this.pendingRead.delete(e),p.forEach((e=>e(h))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),h}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!y(n)){if((0,s.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:a}=this.texData.get(e),r=s.util.sizeFromShape(t);if((0,s.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),a=this.texData.get(n.dataId),s=this.gpgpu.downloadMatrixFromPackedTexture(a.texture,...m(t)).subarray(0,r);return this.disposeIntermediateTensorInfo(n),s}const o=(0,s.env)().getBool("WEBGL_PACK")&&!0===a,i=o?q(t):t,u=o?new Tt(i):new wt(i),l=this.runWebGLProgram(u,[{shape:i,dtype:n,dataId:e}],"float32"),d=this.texData.get(l.dataId),c=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(d.texture,d.texShape[0],d.texShape[1]).subarray(0,r);return this.disposeIntermediateTensorInfo(l),c}async time(e){const t=this.activeTimers,n=[];let a=!1;null==this.programTimersStack?(this.programTimersStack=n,a=!0):this.activeTimers.push(n),this.activeTimers=n,e();const r=s.util.flatten(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),o=s.util.flatten(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,a&&(this.programTimersStack=null);const i={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};if((0,s.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(r);i.kernelMs=s.util.sum(e),i.getExtraProfileInfo=()=>e.map(((e,t)=>({name:o[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else i.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,i}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return(0,s.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:s.util.now(),endMs:null}}endTimer(e){return(0,s.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=s.util.now(),e)}async getQueryTime(e){if((0,s.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e){if(this.pendingDisposal.has(e))return;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(!this.texData.has(e))return;if(this.texData.get(e).complexParentRefCount>0)return void this.texData.get(e).refCount--;this.releaseGPUData(e);const{complexTensorInfos:t}=this.texData.get(e);null!=t&&(this.texData.get(t.real.dataId).complexParentRefCount--,this.disposeIntermediateTensorInfo(t.real),this.texData.get(t.imag.dataId).complexParentRefCount--,this.disposeIntermediateTensorInfo(t.imag)),this.texData.delete(e)}releaseGPUData(e){const{texture:t,dtype:n,texShape:a,usage:r,isPacked:s,slice:o}=this.texData.get(e),i=o&&o.origDataId||e,u=this.dataRefCount.get(i);u>1?this.dataRefCount.set(i,u-1):(this.dataRefCount.delete(i),null!=t&&(this.numBytesInGPU-=this.computeBytes(a,n),this.textureManager.releaseTexture(t,a,r,s)));const l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture}getDataInfo(e){return this.texData.get(e)}getCPUBackend(){return(0,s.env)().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=(0,s.engine)().findBackend("cpu")),this.cpuBackend):null}shouldExecuteOnCPU(e,t=128){const n=this.getCPUBackend();return this.warnedAboutCPUBackend||null!=n||(console.warn("Your application contains ops that are small enough to be executed on the CPU backend, however the CPU backend cannot be found. Consider importing the CPU backend (@tensorflow/tfjs-backend-cpu) for better performance."),this.warnedAboutCPUBackend=!0),null!=n&&e.every((e=>null==this.texData.get(e.dataId).texture&&s.util.sizeFromShape(e.shape)<t))}getGPGPUContext(){return this.gpgpu}slice(e,t,n){if(this.shouldExecuteOnCPU([e])){const a=we(this.texData.get(e.dataId).values,t,n,e.shape,e.dtype);return this.makeOutput(n,e.dtype,a)}if(0===s.util.sizeFromShape(n))return(0,s.tensor)([],n,e.dtype);const{isPacked:a}=this.texData.get(e.dataId),r=s.slice_util.isSliceContinous(e.shape,t,n);if(a||!r){const a=(0,s.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Nn(n):new Dn(n),r=a.getCustomSetupFunc(t);return this.compileAndRun(a,[e],null,r)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)}shallowSlice(e,t,n){const a=this.texData.get(e.dataId),r=this.makeOutput(n,e.dtype),o=this.texData.get(r.dataId);Object.assign(o,a),o.shape=n,o.dtype=e.dtype;let i=s.slice_util.computeFlatOffset(t,e.strides);a.slice&&(i+=a.slice.flatOffset),o.slice={flatOffset:i,origDataId:a.slice&&a.slice.origDataId||e.dataId};const u=this.dataRefCount.get(o.slice.origDataId)||1;return this.dataRefCount.set(o.slice.origDataId,u+1),r}stridedSlice(e,t,n,a){const r=this.tryRunOnCpuOrThrow([e],(()=>this.cpuBackend.stridedSlice(e,t,n,a)));if(r)return r;const o=s.slice_util.computeOutShape(t,n,a);if(o.some((e=>0===e)))return(0,s.tensor)([],o);const i=new Cn(t,a,o);return this.compileAndRun(i,[e])}reverse(e,t){const n=(0,s.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new wn(e.shape,t):new Mn(e.shape,t);return this.compileAndRun(n,[e])}neg(e){const t=this.tryRunOnCpuOrThrow([e],(()=>this.cpuBackend.neg(e)));if(t)return t;if((0,s.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,zn,e.dtype);const n=new On(e.shape,zn);return this.compileAndRun(n,[e])}batchMatMul(e,t,n,a){const r=n?e.shape[2]:e.shape[1],o=a?t.shape[1]:t.shape[2],i=n?e.shape[1]:e.shape[2],u=Math.max(e.shape[0],t.shape[0]);if((1===r||1===o)&&i>1e3){n&&(e=(0,s.transpose)(e,[0,2,1])),a&&(t=(0,s.transpose)(t,[0,2,1]));const r=1===o?e:e.as3D(u,i,1),l=1===o?2:1,d=1===o?t.as3D(u,1,i):t;return s.mul(r,d).sum(l,!0)}const l=(0,s.upcastType)(e.dtype,t.dtype),d=new un(e.shape,t.shape,[u,r,o],n,a);return this.compileAndRun(d,[e,t],l)}fusedBatchMatMul({a:e,b:t,transposeA:n,transposeB:a,bias:r,activation:o,preluActivationWeights:i}){const u=n?e.shape[2]:e.shape[1],l=a?t.shape[1]:t.shape[2],d=Math.max(e.shape[0],t.shape[0]),c=(0,s.upcastType)(e.dtype,t.dtype),h=null!=r,p=null!=i,m=o?ia(o,!0):null,f=new un(e.shape,t.shape,[d,u,l],n,a,h,m,p),_=[e,t];return r&&_.push(r),i&&_.push(i),this.compileAndRun(f,_,c)}localResponseNormalization4D(e,t,n,a,r){const o=(0,s.env)().getBool("WEBGL_PACK_NORMALIZATION")?new rn(e.shape,t,n,a,r):new nn(e.shape,t,n,a,r);return this.compileAndRun(o,[e])}LRNGrad(e,t,n,a,r,s,o){const i=new an(t.shape,a,r,s,o);return this.compileAndRun(i,[t,n,e])}tile(e,t){if("string"===e.dtype){const n=this.readSync(e.dataId).map((e=>s.util.decodeString(e))),a=(0,s.buffer)(e.shape,e.dtype,n);return aa(a,t)}const n=new Rn(e.shape,t);return this.compileAndRun(n,[e])}pad(e,t,n){const a=(0,s.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new pn(e.shape,t,n):new hn(e.shape,t,n);return this.compileAndRun(a,[e])}gather(e,t,n){const a=this.tryRunOnCpuOrThrow([e,t],(()=>this.cpuBackend.gather(e,t,n)));if(a)return a;const r=new It(e.shape,t.size,n);return this.compileAndRun(r,[e,t])}batchToSpaceND(e,t,n){s.util.assert(e.rank<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const a=t.reduce(((e,t)=>e*t)),r=s.backend_util.getReshaped(e.shape,t,a),o=s.backend_util.getPermuted(r.length,t.length),i=s.backend_util.getReshapedPermuted(e.shape,t,a),u=s.backend_util.getSliceBeginCoords(n,t.length),l=s.backend_util.getSliceSize(i,n,t.length);return(0,s.transpose)(e.reshape(r),o).reshape(i).slice(u,l)}spaceToBatchND(e,t,n){s.util.assert(e.rank<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const a=t.reduce(((e,t)=>e*t)),r=[[0,0]];r.push(...n);for(let n=1+t.length;n<e.shape.length;++n)r.push([0,0]);const o=e.pad(r),i=s.backend_util.getReshaped(o.shape,t,a,!1),u=s.backend_util.getPermuted(i.length,t.length,!1),l=s.backend_util.getReshapedPermuted(o.shape,t,a,!1),d=(0,s.transpose)(o.reshape(i),u);return(0,s.reshape)(d,l)}reduce(e,t,n){const a=e.shape[0],r=e.shape[1],o=s.backend_util.computeOptimalWindowSize(r),i=Math.ceil(r/o),u=new _n({windowSize:o,inSize:r,batchSize:a,outSize:i},t),l=this.compileAndRun(u,[e],n);return 1===l.shape[1]?l:this.reduce(l,t,n)}argReduce(e,t,n=null){let a=e.shape[0],r=e.shape[1];null!=n&&(a=n.shape[0],r=n.shape[1]);const o=s.backend_util.computeOptimalWindowSize(r),i={windowSize:o,inSize:r,batchSize:a,outSize:Math.ceil(r/o)},u=new Ne(i,t,null==n),l=[e];null!=n&&l.push(n);const d=this.compileAndRun(u,l,"int32");return 1===d.shape[1]?d:this.argReduce(e,t,d)}argReducePacked(e,t,n=null){const a=null!=n?n.shape:e.shape,r=a[a.length-1],o=s.backend_util.computeOptimalWindowSize(r),i=new Ke(a,o,t,null==n),u=null==n?[e]:[e,n],l=this.compileAndRun(i,u,"int32");return l.rank===e.rank?this.argReducePacked(e,t,l):l}sum(e,t){s.backend_util.assertAxesAreInnerMostDims("sum",t,e.rank);const[n,a]=s.backend_util.computeOutAndReduceShapes(e.shape,t),r=s.util.sizeFromShape(a),o=e.as2D(-1,r),i=s.sumOutType(e.dtype);return this.reduce(o,"sum",i).reshape(n)}prod(e,t){const n=this.tryRunOnCpuOrThrow([e],(()=>this.cpuBackend.prod(e,t)));if(n)return n;const[a,r]=s.backend_util.computeOutAndReduceShapes(e.shape,t),o=s.util.sizeFromShape(r),i=e.as2D(-1,o),u=s.sumOutType(e.dtype);return this.reduce(i,"prod",u).reshape(a)}unsortedSegmentSum(e,t,n){let a=0;const r=s.backend_util.getAxesPermutation([a],e.rank);let o=e;null!=r&&(o=(0,s.transpose)(e,r),a=s.backend_util.getInnerMostAxes(1,e.rank)[0]);const i=ta.computeOutShape(o.shape,a,n),u=s.util.sizeFromShape([o.shape[a]]),l=o.as2D(-1,u),d=s.sumOutType(e.dtype);let c=this.segOpCompute(l,"unsortedSegmentSum",t,d,n).reshape(i);return null!=r&&(c=(0,s.transpose)(c,s.backend_util.getUndoAxesPermutation(r))),c}segOpCompute(e,t,n,a,r){const o=e.shape[0],i=e.shape[1],u=ta.segOpComputeOptimalWindowSize(i,r),l=new Ln({windowSize:u,inSize:i,batchSize:o,numSegments:r},t),d=this.compileAndRun(l,[e,n],a);return d.shape[1]===r?d:(n=(0,s.range)(0,r).tile([i/u]),this.segOpCompute(d,t,n,a,r))}argMinMaxReduce(e,t,n){const a=[t];if(s.backend_util.assertAxesAreInnerMostDims("arg"+n.charAt(0).toUpperCase()+n.slice(1),a,e.rank),!(0,s.env)().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){const[t,r]=s.backend_util.computeOutAndReduceShapes(e.shape,a),o=s.util.sizeFromShape(r),i=e.as2D(-1,o);return this.argReduce(i,n).reshape(t)}return this.argReducePacked(e,n)}argMin(e,t){return this.argMinMaxReduce(e,t,"min")}argMax(e,t){return this.argMinMaxReduce(e,t,"max")}cumsum(e,t,n,a){if(t!==e.rank-1)throw new Error(`WebGL cumsum shader expects an inner-most axis=${e.rank-1} but got axis=${t}`);const r=e.shape[t];let s=e;for(let t=0;t<=Math.ceil(Math.log2(r))-1;t++){const n=new gt(e.shape,!1,a),r=n.getCustomSetupFunc(t),o=s;s=this.compileAndRun(n,[s],s.dtype,r),o.dispose()}if(n){const t=new gt(e.shape,n,a),r=s;s=this.compileAndRun(t,[s]),r.dispose()}return s}equal(e,t){if((0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");const n=new et("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")}less(e,t){const n=this.tryRunOnCpuOrThrow([e,t],(()=>this.cpuBackend.less(e,t)));if(n)return n;if((0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");const a=new et("return float(a < b);",e.shape,t.shape);return this.compileAndRun(a,[e,t],"bool")}lessEqual(e,t){if((0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");const n=new et("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")}greater(e,t){const n=this.tryRunOnCpuOrThrow([e,t],(()=>this.cpuBackend.greater(e,t)));if(n)return n;if((0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");const a=new et("return float(a > b);",e.shape,t.shape);return this.compileAndRun(a,[e,t],"bool")}greaterEqual(e,t){if((0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");const n=new et("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")}logicalNot(e){const t=new On(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])}logicalAnd(e,t){if((0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");const n=new et("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")}logicalOr(e,t){if((0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");const n=new et("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")}select(e,t,n){const a=new Sn(e.rank,t.shape,t.rank);return this.compileAndRun(a,[e,t,n],(0,s.upcastType)(t.dtype,n.dtype))}where(e){s.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return sa(e.shape,t)}topk(e,t,n){const a=e.dataSync();return ra(a,e.shape,e.dtype,t,n)}min(e,t){s.backend_util.assertAxesAreInnerMostDims("min",t,e.rank);const[n,a]=s.backend_util.computeOutAndReduceShapes(e.shape,t),r=s.util.sizeFromShape(a),o=e.as2D(-1,r);return this.reduce(o,"min",o.dtype).reshape(n)}minimum(e,t){const n=this.tryRunOnCpuOrThrow([e,t],(()=>this.cpuBackend.minimum(e,t)));if(n)return n;const a=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nt("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new et("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(a,[e,t])}mod(e,t){const n=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nt("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new et("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])}maximum(e,t){const n=this.tryRunOnCpuOrThrow([e,t],(()=>this.cpuBackend.maximum(e,t)));if(n)return n;const a=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nt("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new et("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(a,[e,t])}all(e,t){s.backend_util.assertAxesAreInnerMostDims("all",t,e.rank);const[n,a]=s.backend_util.computeOutAndReduceShapes(e.shape,t),r=s.util.sizeFromShape(a),o=e.as2D(-1,r);return this.reduce(o,"all",o.dtype).reshape(n)}any(e,t){s.backend_util.assertAxesAreInnerMostDims("any",t,e.rank);const[n,a]=s.backend_util.computeOutAndReduceShapes(e.shape,t),r=s.util.sizeFromShape(a),o=e.as2D(-1,r);return this.reduce(o,"any",o.dtype).reshape(n)}floorDiv(e,t){const n="int32";if((0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",n);const a=new et("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(a,[e,t],n)}packedUnaryOp(e,t,n){const a=new Zn(e.shape,t);return this.compileAndRun(a,[e],n)}packedBinaryOp(e,t,n,a,r=!1){const s=new nt(n,e.shape,t.shape,r);return this.compileAndRun(s,[e,t],a)}makeComplexComponentTensorInfo(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}addN(e){if(1===e.length)return e[0];if(e.length>(0,s.env)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),a=this.addN(e.slice(t));return this.addN([n,a])}const t=e.map((e=>e.dtype)).reduce(((e,t)=>(0,s.upcastType)(e,t))),n=e.map((e=>e.shape)),a=(0,s.env)().getBool("WEBGL_PACK")?new Ie(e[0].shape,n):new De(e[0].shape,n);return this.compileAndRun(a,e,t)}pow(e,t){const n=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nt("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new et("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),a=(0,s.upcastType)(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],a)}ceil(e){if(this.shouldExecuteOnCPU([e])){const t=_e(this.texData.get(e.dataId).values,e.dtype);return this.makeOutput(e.shape,e.dtype,t)}if((0,s.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,jn,e.dtype);const t=new On(e.shape,jn);return this.compileAndRun(t,[e])}floor(e){if(this.shouldExecuteOnCPU([e])){const t=be(this.texData.get(e.dataId).values,e.dtype);return this.makeOutput(e.shape,e.dtype,t)}if((0,s.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Vn,e.dtype);const t=new On(e.shape,Vn);return this.compileAndRun(t,[e])}sign(e){const t=new On(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])}isNaN(e){const t=new On(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")}isInf(e){const t=new On(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")}isFinite(e){const t=new On(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")}round(e){const t=new On(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])}exp(e){if(this.shouldExecuteOnCPU([e])){const t=ge(this.texData.get(e.dataId).values,e.dtype);return this.makeOutput(e.shape,e.dtype,t)}if((0,s.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Un,e.dtype);const t=new On(e.shape,Un);return this.compileAndRun(t,[e])}expm1(e){if(this.shouldExecuteOnCPU([e])){const t=ye(this.texData.get(e.dataId).values,e.dtype);return this.makeOutput(e.shape,e.dtype,t)}if((0,s.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Gn,e.dtype);const t=new On(e.shape,Gn);return this.compileAndRun(t,[e])}softmax(e,t){const n=s.util.parseAxisParam([t],e.shape),a=(0,s.max)(e,n),r=s.backend_util.expandShapeToKeepDim(a.shape,n),o=s.sub(e,a.reshape(r)),i=this.exp(o),u=this.sum(i,n).reshape(r);return(0,s.div)(i,u)}log(e){if(this.shouldExecuteOnCPU([e])){const t=ve(this.texData.get(e.dataId).values,e.dtype);return this.makeOutput(e.shape,e.dtype,t)}if((0,s.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);const t=new On(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])}log1p(e){const t=new On(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])}sqrt(e){const t=new On(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])}rsqrt(e){if(this.shouldExecuteOnCPU([e])){const t=Me(this.texData.get(e.dataId).values,e.dtype);return this.makeOutput(e.shape,e.dtype,t)}const t=new On(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])}reciprocal(e){const t=new On(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])}relu(e){let t;return t=(0,s.env)().getBool("WEBGL_PACK")?new Zn(e.shape,Kn):new On(e.shape,Pn),this.compileAndRun(t,[e])}relu6(e){let t;return t=(0,s.env)().getBool("WEBGL_PACK")?new Zn(e.shape,Jn):new On(e.shape,Hn),this.compileAndRun(t,[e])}prelu(e,t){const n=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nt(tt,e.shape,t.shape):new et(Ze,e.shape,t.shape);return this.compileAndRun(n,[e,t])}elu(e){if((0,s.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Qn,e.dtype);const t=new On(e.shape,Bn);return this.compileAndRun(t,[e])}eluDer(e,t){const n=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nt("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new et("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])}selu(e){const t=new On(e.shape,Wn);return this.compileAndRun(t,[e])}clip(e,t,n){let a;a=(0,s.env)().getBool("WEBGL_PACK_CLIP")?new rt(e.shape):new at(e.shape);const r=a.getCustomSetupFunc(t,n);return this.compileAndRun(a,[e],null,r)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=me(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if((0,s.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,$n,e.dtype);const t=new On(e.shape,$n);return this.compileAndRun(t,[e])}complexAbs(e){const t=this.texData.get(e.dataId),n=new st(e.shape),a=[this.makeComplexComponentTensorInfo(e,t.complexTensorInfos.real),this.makeComplexComponentTensorInfo(e,t.complexTensorInfos.imag)];return this.compileAndRun(n,a)}sigmoid(e){const t=new On(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])}softplus(e){const t=new On(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])}asin(e){const t=new On(e.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n");return this.compileAndRun(t,[e])}acos(e){const t=new On(e.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n");return this.compileAndRun(t,[e])}atan(e){const t=new On(e.shape,"if (isnan(x)) return x;\n  return atan(x);\n");return this.compileAndRun(t,[e])}sinh(e){const t=new On(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])}cosh(e){const t=new On(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])}tanh(e){const t=new On(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])}asinh(e){const t=new On(e.shape,"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));");return this.compileAndRun(t,[e])}acosh(e){const t=new On(e.shape,"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));");return this.compileAndRun(t,[e])}atanh(e){const t=new On(e.shape,"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;");return this.compileAndRun(t,[e])}erf(e){const t=new On(e.shape,qn);return this.compileAndRun(t,[e])}step(e,t){const n=new On(e.shape,function(e=0){return`if (isnan(x)) return x;\n    return x > 0.0 ? 1.0 : float(${e});\n  `}(t));return this.compileAndRun(n,[e])}conv2dByMatMul(e,t,n,a,r,o){const i=e.shape,u=this.texData.get(e.dataId),l=n.inChannels,d=i[0]*i[1]*i[2],c=n.outChannels,h="channelsLast"===n.dataFormat,p=(1===d||1===c)&&l>1e3,m=i[2]%2!=0&&!!u.isPacked;if(p||!(0,s.env)().getBool("WEBGL_LAZILY_UNPACK")||!(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!m){const u=h?i[0]*i[1]*i[2]:i[0]*i[2]*i[3],l=(0,s.reshape)(e,[1,u,n.inChannels]),d=(0,s.reshape)(t,[1,n.inChannels,n.outChannels]),c=this.fusedBatchMatMul({a:l,b:d,transposeA:!1,transposeB:!1,bias:a,activation:r,preluActivationWeights:o});return(0,s.reshape)(c,n.outShape)}const f=h?i[0]*i[1]*(i[2]+1):i[0]*i[2]*(i[3]+1),_={dataId:e.dataId,shape:[1,f,n.inChannels],dtype:e.dtype},g=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,s.util.assert(J(u.shape,_.shape),(()=>`packed reshape ${u.shape} to ${_.shape} isn't free`));const y=(0,s.reshape)(t,[1,n.inChannels,n.outChannels]),b=this.fusedBatchMatMul({a:_,b:y,transposeA:!1,transposeB:!1,bias:a,activation:r,preluActivationWeights:o}),v=this.texData.get(b.dataId);return s.util.assert(v.isPacked,(()=>"batchMatMul result is expected to be packed")),u.shape=g,v.shape=n.outShape,(0,s.engine)().makeTensorFromDataId(b.dataId,n.outShape,b.dtype)}conv2dWithIm2Row(e,t,n,a,r,s){const{filterWidth:o,filterHeight:i,inChannels:u,outWidth:l,outHeight:d,dataFormat:c}=n,h="channelsLast"===c,p=o*i*u,m=d*l,f=[p,m],_=e.squeeze([0]),g=t.reshape([1,p,-1]),y=new tn(f,_.shape,n),b=this.compileAndRun(y,[_]).reshape([1,f[0],f[1]]),v=null!=a,x=null!=s,k=r?ia(r,!0):null,M=new un(b.shape,g.shape,[1,m,n.outChannels],!0,!1,v,k,x),w=[b,g];a&&w.push(a),x&&w.push(s);const T=this.compileAndRun(M,w);return h?T.reshape([1,d,l,n.outChannels]):T.reshape([1,n.outChannels,d,l])}fusedConv2d({input:e,filter:t,convInfo:n,bias:a,activation:r,preluActivationWeights:o}){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n,a,r,o);if((0,s.env)().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n,a,r,o);const i=null!=a,u=null!=o,l=r?ia(r,!1):null,d=new ht(n,i,l,u),c=[e,t];return a&&c.push(a),o&&c.push(o),this.compileAndRun(d,c)}conv2d(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if((0,s.env)().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);const a=new ht(n);return this.compileAndRun(a,[e,t])}conv2dDerInput(e,t,n){const a=new it(n);return this.compileAndRun(a,[e,t])}conv2dDerFilter(e,t,n){const a=new ot(n);return this.compileAndRun(a,[e,t])}fusedDepthwiseConv2D({input:e,filter:t,convInfo:n,bias:a,activation:r,preluActivationWeights:o}){const i=(0,s.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1,u=r?ia(r,i):null,l=[e,t],d=null!=a,c=null!=o;let h;return d&&l.push(a),c&&l.push(o),i?(h=new ft(n,d,u,c),this.compileAndRun(h,l)):(h=new mt(n,d,u,c),this.compileAndRun(h,l))}depthwiseConv2D(e,t,n){let a;return(0,s.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(a=new ft(n),this.compileAndRun(a,[e,t])):(a=new mt(n),this.compileAndRun(a,[e,t]))}depthwiseConv2DDerInput(e,t,n){const a=new ct(n);return this.compileAndRun(a,[e,t])}depthwiseConv2DDerFilter(e,t,n){const a=new dt(n);return this.compileAndRun(a,[e,t])}conv3d(e,t,n){const a=new pt(n);return this.compileAndRun(a,[e,t])}conv3dDerInput(e,t,n){const a=new lt(n);return this.compileAndRun(a,[e,t])}conv3dDerFilter(e,t,n){const a=new ut(n);return this.compileAndRun(a,[e,t])}unstack(e,t){const n=e.shape[t],a=new Array(e.rank-1);let r=0;for(let n=0;n<e.rank;n++)n!==t&&(a[r++]=e.shape[n]);const s=new Array(e.rank).fill(0),o=e.shape.slice();o[t]=1;const i=new Array(n);for(let n=0;n<i.length;n++)s[t]=n,i[n]=this.slice(e,s,o).reshape(a);return i}avgPool3d(e,t){const n=new fn(t,"avg",!1);return this.compileAndRun(n,[e],"float32")}avgPool3dBackprop(e,t,n){const a=new Qe(n);return this.compileAndRun(a,[e],t.dtype)}maxPool3d(e,t){const n=new fn(t,"max",!1);return this.compileAndRun(n,[e],"float32")}maxPool3dBackprop(e,t,n,a){const r=new fn(a,"max",!0),s=this.compileAndRun(r,[t]),o=new on(a),i=this.compileAndRun(o,[e,s],t.dtype);return s.dispose(),i}resizeBilinear(e,t,n,a){const r=(0,s.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new vn(e.shape,t,n,a):new bn(e.shape,t,n,a);return this.compileAndRun(r,[e],"float32")}resizeBilinearBackprop(e,t,n){const a=new yn(e,t,n);return this.compileAndRun(a,[e])}resizeNearestNeighbor(e,t,n,a){const r=new kn(e.shape,t,n,a);return this.compileAndRun(r,[e])}resizeNearestNeighborBackprop(e,t,n){const a=new xn(e,t,n);return this.compileAndRun(a,[e])}multinomial(e,t,n,a){const r=t?e:(0,s.softmax)(e),o=r.shape[0],i=r.shape[1],u=new ln(o,i,n),l=u.getCustomSetupFunc(a);return this.compileAndRun(u,[r],"int32",l)}oneHot(e,t,n,a){const r=new dn(e.size,t,n,a);return this.compileAndRun(r,[e])}diag(e){const t=new Mt(e.size);return this.compileAndRun(t,[e])}cropAndResize(e,t,n,a,r,s){const o=new _t(e.shape,t.shape,a,r,s);return this.compileAndRun(o,[e,t,n],"float32")}depthToSpace(e,t,n){s.util.assert(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`));const a=e.shape[0],r="NHWC"===n?e.shape[1]:e.shape[2],o="NHWC"===n?e.shape[2]:e.shape[3],i="NHWC"===n?e.shape[3]:e.shape[1],u=r*t,l=o*t,d=i/(t*t),c=new kt("NHWC"===n?[a,u,l,d]:[a,d,u,l],t,n);return this.compileAndRun(c,[e])}split(e,t,n){return na(e,t,n)}scatterND(e,t,n){const{sliceRank:a,numUpdates:r,sliceSize:o,strides:i,outputSize:u}=s.backend_util.calculateShapes(t,e,n),l=[u/o,o],d=e.reshape([r,a]),c=t.reshape([r,o]);if(0===u)return s.backend_util.reshapeTensor((0,s.tensor)([]),n);const h=(0,s.scalar)(0),p=new Tn(r,a,d.rank,c.rank,i,l);return this.compileAndRun(p,[c,d,h]).reshape(n)}sparseToDense(e,t,n,a){const{sliceRank:r,numUpdates:o,strides:i,outputSize:u}=s.backend_util.calculateShapes(t,e,n),l=new Tn(o,r,e.rank,t.rank,i,[u,1],!1);return this.compileAndRun(l,[t,e,a]).reshape(n)}gatherND(e,t){const n=t.shape,a=n[n.length-1],[r,o,i,u]=s.backend_util.prepareAndValidate(e,t),l=t.reshape([o,a]),d=e.reshape([e.size/i,i]),c=new Nt(a,u,[o,i]);return this.compileAndRun(c,[d,l]).reshape(r)}fill(e,t,n){if("string"===(n=n||s.util.inferDtype(t))){const a=s.util.getArrayFromDType(n,s.util.sizeFromShape(e));return a.fill(t),(0,s.engine)().makeTensor(a,e,n,this)}{const a=new Dt(e,t),r=a.getCustomSetupFunc(t);return this.compileAndRun(a,[],n,r)}}onesLike(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)}zerosLike(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)}linspace(e,t,n){return s.backend_util.linspaceImpl(e,t,n)}makeTensorInfo(e,t,n){const a=this.write(n,e,t);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:t}}makeOutput(e,t,n){const{dataId:a}=this.makeTensorInfo(e,t,n);return(0,s.engine)().makeTensorFromDataId(a,e,t,this)}unpackTensor(e){const t=new ea(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new cn(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[U(e.shape),...G(e.shape)],a={dtype:e.dtype,shape:n,dataId:e.dataId},r=[U(t),...G(t)],s=new gn(r,n),o=this.runWebGLProgram(s,[a],e.dtype,null,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}}decode(e){const t=this.texData.get(e),{isPacked:n,shape:a,dtype:r}=t,s=q(a);let o;return o=n?new xt(s):new vt(s),{dtype:r,shape:a,dataId:this.runWebGLProgram(o,[{shape:s,dtype:r,dataId:e}],r,null,!0).dataId}}runWebGLProgram(e,t,n,a,r=!1){const o=this.makeTensorInfo(e.outputShape,n),i=this.texData.get(o.dataId);if(e.packedOutput&&(i.isPacked=!0),e.outPackingScheme===d.DENSE){const t=m(e.outputShape);i.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(i.usage=e.outTexUsage),0===s.util.sizeFromShape(o.shape))return i.values=s.util.getTypedArrayFromDType(o.dtype,0),o;const u=[],l=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&s.util.sizeFromShape(t.shape)<=(0,s.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),u.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!J(n.shape,t.shape)){const e=t,a=t.shape;t.shape=n.shape,t=this.packedReshape(t,a),u.push(t),n=this.texData.get(t.dataId),e.shape=a}return this.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(o.dataId);const c={shape:o.shape,texData:i,isUniform:!1},h=function(e,t,n){let a="";t.concat(n).forEach((e=>{const t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;a+=`${e.shape}_${n}_${t}`}));const r=e.userCode;let s=e.constructor.name;return s+="_"+a+"_"+r,s}(e,l,c),p=this.getAndSaveBinary(h,(()=>function(e,t,n,a){const r=t.userCode,o=n.map(((e,n)=>{const a={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(a.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:a}})),i=o.map((e=>e.shapeInfo)),u={logicalShape:a.shape,texShape:a.texData.texShape,isUniform:!1,isPacked:a.texData.isPacked,flatOffset:null},l=$e(o,u,r,t.packedInputs),d=e.createProgram(l);let c=null;const h=e.getUniformLocation(d,"NAN",!1);1===(0,s.env)().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(d,"INFINITY",!1));const p={};for(let n=0;n<t.variableNames.length;n++){const a=t.variableNames[n],r=!1;p[a]=e.getUniformLocation(d,a,r),p[`offset${a}`]=e.getUniformLocation(d,`offset${a}`,r)}return{program:t,source:l,webGLProgram:d,uniformLocations:p,inShapeInfos:i,outShapeInfo:u,infLoc:c,nanLoc:h}}(this.gpgpu,e,l,c))),f=null!=this.activeTimers;let _;if(f&&(_=this.startTimer()),function(e,t,n,a,r){en(t.inShapeInfos,n),en([t.outShapeInfo],[a]);const o=a.texData.texture,i=a.texData.texShape;a.texData.isPacked?e.setOutputPackedMatrixTexture(o,i[0],i[1]):e.setOutputMatrixTexture(o,i[0],i[1]),e.setProgram(t.webGLProgram),1===(0,s.env)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach(((n,a)=>{const r=t.program.variableNames[a],o=t.uniformLocations[r],i=t.uniformLocations[`offset${r}`];if(null!=o)if(n.isUniform)if(s.util.sizeFromShape(n.shape)<2)e.gl.uniform1f(o,n.uniformValues[0]);else{let t=n.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(o,t)}else null!=n.texData.slice&&null!=i&&e.gl.uniform1i(i,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,o,a)})),null!=r&&r(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,p,l,c,a),u.forEach((e=>this.disposeIntermediateTensorInfo(e))),f&&(_=this.endTimer(_),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(_)})),!(0,s.env)().getBool("WEBGL_LAZILY_UNPACK")&&i.isPacked&&!1===r){const e=this.unpackTensor(o);return this.disposeIntermediateTensorInfo(o),e}return o}compileAndRun(e,t,n,a,r=!1){n=n||t[0].dtype;const o=this.runWebGLProgram(e,t,n,a,r);return(0,s.engine)().makeTensorFromDataId(o.dataId,o.shape,o.dtype)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||((0,s.env)().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]})),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=(0,s.tidy)((()=>{if(!(0,s.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=(0,s.env)().getBool("DEBUG");(0,s.env)().set("DEBUG",!1);const t=this.abs((0,s.scalar)(1e-8)).dataSync()[0];if((0,s.env)().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:a,values:r,texture:o,usage:i,isPacked:u}=t;if(null!=o)return;const l=null!=this.activeTimers;let d;l&&(d=s.util.now());let h=t.texShape;if(null==h&&(h=X(n,u),t.texShape=h),null!=r){const e=q(n);let o,i=h[1],p=h[0];const m=r instanceof Uint8Array;u?([i,p]=f(h[0],h[1]),o=new St(e,[p,i],m)):o=new Lt(e,[p,i],m);const _=this.makeTensorInfo([p,i],a);this.texData.get(_.dataId).usage=m?c.PIXELS:c.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(_.dataId),i,p,r);const g=!0,y=this.runWebGLProgram(o,[_],a,null,g),b=this.texData.get(y.dataId);t.texture=b.texture,t.texShape=b.texShape,t.isPacked=b.isPacked,t.usage=b.usage,this.disposeIntermediateTensorInfo(_),this.texData.delete(y.dataId),t.values=null,l&&(this.uploadWaitMs+=s.util.now()-d)}else{const e=this.acquireTexture(h,i,a,u);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:a}=n;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,a)),n.values}acquireTexture(e,t,n,a){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,a)}computeBytes(e,t){return e[0]*e[1]*s.util.bytesPerElement(t)}tryRunOnCpuOrThrow(e,t){if(this.shouldExecuteOnCPU(e))try{return t()}catch(e){if((0,s.env)().getBool("IS_TEST"))throw new Error("CPU forwarding failed")}return null}}const la="2.7.0";function da(){(0,s.env)().set("WEBGL_FORCE_F16_TEXTURES",!0)}s.device_util.isBrowser()&&(0,s.registerBackend)("webgl",(()=>new ua),2);const ca={forceHalfFloat:da};function ha(e){const{inputs:t,backend:n}=e,{x:a}=t;return n.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}const pa={kernelName:s.Identity,backendName:"webgl",kernelFunc:ha};function ma(e){const{inputs:t,backend:n}=e,{real:a,imag:r}=t,s=n.makeTensorInfo(a.shape,"complex64"),o=n.texData.get(s.dataId),i=ha({inputs:{x:a},backend:n});n.texData.get(i.dataId).complexParentRefCount++;const u=ha({inputs:{x:r},backend:n});return n.texData.get(u.dataId).complexParentRefCount++,o.complexTensorInfos={real:i,imag:u},s}const fa={kernelName:s.Complex,backendName:"webgl",kernelFunc:ma};function _a(e){return({inputs:t,backend:n})=>{const{x:a}=t,r=n,s=new On(a.shape,e);return r.runWebGLProgram(s,[a],a.dtype)}}function ga({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:a=!1,cpuKernelImpl:r,dtype:o}){return({inputs:i,backend:u})=>{const{a:l,b:d}=i,c=u;if(a&&"complex64"===l.dtype){const t=c.texData.get(l.dataId),n=c.texData.get(d.dataId),[a,r]=[[t.complexTensorInfos.real,n.complexTensorInfos.real],[t.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((t=>{const[n,a]=t,r={dataId:n.dataId,dtype:n.dtype,shape:l.shape},o={dataId:a.dataId,dtype:a.dtype,shape:d.shape},i=new et(e,l.shape,d.shape);return c.runWebGLProgram(i,[r,o],(0,s.upcastType)(n.dtype,a.dtype))})),o=ma({inputs:{real:a,imag:r},backend:c});return c.disposeIntermediateTensorInfo(a),c.disposeIntermediateTensorInfo(r),o}const h=o||(0,s.upcastType)(l.dtype,d.dtype);if(c.shouldExecuteOnCPU([l,d])&&null!=r){const e=c.texData.get(l.dataId),t=c.texData.get(d.dataId),[n,a]=r(l.shape,d.shape,e.values,t.values,h),s=c.makeTensorInfo(a,h);return c.texData.get(s.dataId).values=n,s}let p;return p=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new nt(t,l.shape,d.shape,n):new et(e,l.shape,d.shape),c.runWebGLProgram(p,[l,d],h)}}const ya="return a + b;",ba=ga({opSnippet:ya,packedOpSnippet:ya,supportsComplex:!0,cpuKernelImpl:fe}),va={kernelName:s.Add,backendName:"webgl",kernelFunc:ba},xa=ga({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),ka={kernelName:s.Atan2,backendName:"webgl",kernelFunc:xa},Ma={kernelName:s.AvgPool,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;ce(r,"avgPool");const{filterSize:o,strides:i,pad:u,dimRoundingMode:l}=a;s.util.assert(s.backend_util.eitherStridesOrDilationsAreOne(i,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const d=s.backend_util.computePool2DInfo(r.shape,o,i,1,u,l);if(1===d.filterWidth&&1===d.filterHeight&&s.util.arraysEqual(d.inShape,d.outShape))return ha({inputs:{x:r},backend:n});const c=new mn(d,"avg",!1);return n.runWebGLProgram(c,[r],"float32")}},wa={kernelName:s.AvgPoolBackprop,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,i=o;ce([r,o],"avgPoolBackprop");const{filterSize:u,strides:l,pad:d}=a,c=s.backend_util.computePool2DInfo(i.shape,u,l,1,d),h=new Je(c);return n.runWebGLProgram(h,[r],i.dtype)}};class Ta{constructor(e,t,n,a,r,o){this.outputShape=[],this.variableNames=["x","mean","variance"],s.backend_util.assertAndGetBroadcastShape(e,t),s.backend_util.assertAndGetBroadcastShape(e,n);let i="0.0";null!=a&&(s.backend_util.assertAndGetBroadcastShape(e,a),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let u="1.0";null!=r&&(s.backend_util.assertAndGetBroadcastShape(e,r),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${i};\n        float scale = ${u};\n        float inv = scale * inversesqrt(variance + float(${o}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class La{constructor(e,t,n,a,r,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],s.backend_util.assertAndGetBroadcastShape(e,t),s.backend_util.assertAndGetBroadcastShape(e,n);let i="vec4(0.0)";null!=a&&(s.backend_util.assertAndGetBroadcastShape(e,a),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let u="vec4(1.0)";null!=r&&(s.backend_util.assertAndGetBroadcastShape(e,r),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${i};\n        vec4 scale = ${u};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${o}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const Sa={kernelName:s.FusedBatchNorm,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:a,mean:r,variance:o,offset:i,scale:u}=e;s.util.assert(r.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),s.util.assert(null==i||r.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),s.util.assert(null==u||r.shape.length===u.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:l}=n;null==l&&(l=.001);const d=[a,r,o];let c=null;null!=i&&(c=i.shape,d.push(i));let h=null;null!=u&&(h=u.shape,d.push(u));const p=(0,s.env)().getBool("WEBGL_PACK_NORMALIZATION")?new La(a.shape,r.shape,o.shape,c,h,l):new Ta(a.shape,r.shape,o.shape,c,h,l);return t.runWebGLProgram(p,d,d[0].dtype)}},Da=ga({opSnippet:"return float(a != b);",dtype:"bool"}),Ia={kernelName:s.NotEqual,backendName:"webgl",kernelFunc:Da};function Na(e){const{inputs:t,backend:n}=e,{input:a}=t;return ha({inputs:{x:n.texData.get(a.dataId).complexTensorInfos.real},backend:n})}const Ca={kernelName:s.Real,backendName:"webgl",kernelFunc:Na},Ea={kernelName:s.Cast,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:a,attrs:r}=t,{x:o}=n,{dtype:i}=r;if("complex64"===i){if("complex64"===o.dtype)return ha({inputs:{x:o},backend:a});const t=s.zeros(o.shape),n=e({inputs:{x:o},backend:a,attrs:{dtype:"float32"}}),r=ma({inputs:{real:n,imag:t},backend:a});return t.dispose(),a.disposeIntermediateTensorInfo(n),r}if("complex64"===o.dtype){const t=Na({inputs:{input:o},backend:a}),n=e({inputs:{x:t},backend:a,attrs:{dtype:i}});return a.disposeIntermediateTensorInfo(t),n}if(!s.util.hasEncodingLoss(o.dtype,i)){const e=ha({inputs:{x:o},backend:a});return{dataId:e.dataId,shape:e.shape,dtype:i}}if("int32"===i)return function(e,t){const n=new On(e.shape,"return float(int(x));"),a=t.runWebGLProgram(n,[e],"int32");return{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}(o,a);if("bool"===i){const e=a.makeTensorInfo([],"bool",s.util.getTypedArrayFromDType("bool",1)),t=Da({inputs:{a:o,b:e},backend:a});return a.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${o.dtype} to ${i}`)}};class Aa{constructor(e){this.outputShape=[],this.outputShape=s.backend_util.computeOutShape(e,1),this.variableNames=e.map(((e,t)=>`T${t}`));const t=new Array(e.length-1);t[0]=e[0][1];for(let n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let e=1;e<t.length;e++){const a=t[e-1];n.push(`else if (yC < ${t[e]}) setOutput(getT${e}(yR, yC-${a}));`)}const a=t.length,r=t[t.length-1];n.push(`else setOutput(getT${a}(yR, yC-${r}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}class Ya{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=s.backend_util.computeOutShape(e,t);const n=this.outputShape,a=n.length,r=Ge(a),o=Ee("coords",a),i=["x","y","z","w","u","v"].slice(0,a);this.variableNames=e.map(((e,t)=>`T${t}`));const u=new Array(e.length-1);u[0]=e[0][t];for(let n=1;n<u.length;n++)u[n]=u[n-1]+e[n][t];const l=i[t],d=i.slice(-2),c=i.join();let h=`if (${l} < ${u[0]}) {\n        return getChannel(\n            getT0(${c}), vec2(${d.join()}));\n        }`;for(let e=1;e<u.length;e++){const t=u[e-1];h+=`\n        if (${l} < ${u[e]}  && ${l} >= ${u[e-1]}) {\n          return getChannel(\n            getT${e}(${Fa(i,l,t)}),\n            vec2(${Fa(d,l,t)}));\n        }`}const p=u.length,m=u[u.length-1];h+=`\n        return getChannel(\n          getT${p}(${Fa(i,l,m)}),\n          vec2(${Fa(d,l,m)}));`,this.userCode=`\n      float getValue(${i.map((e=>"int "+e))}) {\n        ${h}\n      }\n\n      void main() {\n        ${r} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${o}), 0., 0., 0.);\n\n        ${o[a-1]} = ${o[a-1]} + 1;\n        if (${o[a-1]} < ${n[a-1]}) {\n          result.g = getValue(${o});\n        }\n\n        ${o[a-2]} = ${o[a-2]} + 1;\n        if (${o[a-2]} < ${n[a-2]}) {\n          result.a = getValue(${o});\n        }\n\n        ${o[a-1]} = ${o[a-1]} - 1;\n        if (${o[a-2]} < ${n[a-2]} &&\n            ${o[a-1]} < ${n[a-1]}) {\n          result.b = getValue(${o});\n        }\n        setOutput(result);\n      }\n    `}}function Fa(e,t,n){const a=e.indexOf(t);return e.map(((e,t)=>t===a?`${e} - ${n}`:e)).join()}function Ra(e){const{inputs:t,backend:n}=e,{input:a}=t;return ha({inputs:{x:n.texData.get(a.dataId).complexTensorInfos.imag},backend:n})}const Oa={kernelName:s.Imag,backendName:"webgl",kernelFunc:Ra};function $a(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{shape:o}=a,i=n,u=s.util.sizeFromShape(r.shape),l=s.util.inferFromImplicitShape(o,u),d=s.util.sizeFromShape(l);s.util.assert(u===d,(()=>`The new shape (${l}) has ${d} elements and the old shape (${r.shape}) has ${u} elements. The new shape and old shape must have the same number of elements.`));const c=i.texData.get(r.dataId);return!c.isPacked||J(r.shape,l)||null!==c.texture&&J(c.shape,l)?(i.incRef(r.dataId),{dataId:r.dataId,shape:l,dtype:r.dtype}):function(e,t,n){const a=[U(e.shape),...G(e.shape)],r={dtype:e.dtype,shape:a,dataId:e.dataId},s=[U(t),...G(t)],o=new gn(s,a),i=n.runWebGLProgram(o,[r],e.dtype,null,!0);return{dataId:i.dataId,shape:t,dtype:i.dtype}}(r,l,i)}const Pa={kernelName:s.Reshape,backendName:"webgl",kernelFunc:$a};function Ha(e,t,n){const a=e[0].dtype;if("complex64"===a){const a=e.map((e=>Na({inputs:{input:e},backend:n}))),r=e.map((e=>Ra({inputs:{input:e},backend:n}))),s=Ha(a,t,n),o=Ha(r,t,n),i=ma({inputs:{real:s,imag:o},backend:n});return a.forEach((e=>n.disposeIntermediateTensorInfo(e))),r.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),i}if(e.length>(0,s.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const a=Math.floor(e.length/2),r=Ha(e.slice(0,a),t,n),s=Ha(e.slice(a),t,n),o=Ha([r,s],t,n);return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(s),o}if((0,s.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){const r=new Ya(e.map((e=>e.shape)),t);return n.runWebGLProgram(r,e,a)}const r=s.backend_util.computeOutShape(e.map((e=>e.shape)),t),o=e.map((e=>$a({inputs:{x:e},attrs:{shape:[-1,s.util.sizeFromShape(e.shape.slice(t))]},backend:n}))),i=new Aa(o.map((e=>e.shape))),u=n.runWebGLProgram(i,o,a);o.forEach((e=>n.disposeIntermediateTensorInfo(e)));const l=$a({inputs:{x:u},attrs:{shape:r},backend:n});return n.disposeIntermediateTensorInfo(u),l}const Ba={kernelName:s.Concat,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a,o=s.util.parseAxisParam(r,t[0].shape)[0],i=s.backend_util.computeOutShape(t.map((e=>e.shape)),o);if(0===s.util.sizeFromShape(i))return n.makeTensorInfo(i,t[0].dtype,[]);const u=t.filter((e=>s.util.sizeFromShape(e.shape)>0));if(1===u.length)return u[0];const l=u.map((e=>e.shape));return s.backend_util.assertParamsConsistent(l,o),Ha(u,o,n)}},Wa=_a("if (isnan(x)) return x;\n  return cos(x);\n"),za={kernelName:s.Cos,backendName:"webgl",kernelFunc:Wa},ja=ga({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),Va={kernelName:s.Div,backendName:"webgl",kernelFunc:ja};class Ua{constructor(e,t,n){this.variableNames=["real","imag"];const a=t[1];this.outputShape=t;const r=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,s=n?`${a}.0`:"1.0";let o;if("real"===e)o="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);o="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${r};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${o}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${a});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${a}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${s};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function Ga(e,t,n){const a=n.texData.get(e.dataId),r=s.util.sizeFromShape(e.shape),o=e.shape[e.shape.length-1],i=$a({inputs:{x:e},backend:n,attrs:{shape:[r/o,o]}}).shape,u=new Ua("real",i,t),l=new Ua("imag",i,t),d=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:i},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:i}],c=n.runWebGLProgram(u,d,"float32"),h=n.runWebGLProgram(l,d,"float32"),p=ma({inputs:{real:c,imag:h},backend:n});n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(h);const m=$a({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(m),m}const qa={kernelName:s.FFT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t;return Ga(a,!1,n)}};class Xa{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const Ka={kernelName:s.FlipLeftRight,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:n}=e,a=t,r=new Xa(n.shape);return a.runWebGLProgram(r,[n],n.dtype)}};class Ja{constructor(e){this.variableNames=["A"];const t=Ae(),[n,a]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${a}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class Qa{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=Ae(),[n,a]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${a}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const Za={kernelName:s.FromPixels,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e;let{pixels:r}=t;const{numChannels:o}=a,i="undefined"!=typeof HTMLVideoElement&&r instanceof HTMLVideoElement,u="undefined"!=typeof HTMLImageElement&&r instanceof HTMLImageElement,[l,d]=i?[r.videoWidth,r.videoHeight]:[r.width,r.height],h=[d,l],p=[d,l,o];(u||i)&&(null==er&&(er=document.createElement("canvas").getContext("2d")),er.canvas.width=l,er.canvas.height=d,er.drawImage(r,0,0,l,d),r=er.canvas);const m=n.makeTensorInfo(h,"int32");n.texData.get(m.dataId).usage=c.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(m.dataId),r);const f=(0,s.env)().getBool("WEBGL_PACK")?new Qa(p):new Ja(p),_=n.runWebGLProgram(f,[m],"int32");return n.disposeData(m.dataId),_}};let er;const tr={kernelName:s.IFFT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t;return Ga(a,!0,n)}};class nr{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:a,inSize:r,outSize:o}=e;this.outputShape=[a,o];const i=4*Math.floor(n/4),u=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l=`sumValue += dot(values * ${s.util.isInt(e)?e.toPrecision(2):e}, ones);`}let d="";r%n>0&&(d=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${d}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${i}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${l}\n        }\n\n        int inIdx = inOffset + ${i};\n        if (${1===u}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${l}\n        } else if (${2===u}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${l}\n        } else if (${3===u}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${l}\n        }\n        setOutput(sumValue);\n      }\n    `}}function ar(e,t,n,a){const r=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],a=s.backend_util.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:a,outSize:Math.ceil(n/a)})}return t}(e.shape);let o=e;for(let s=0;s<r.length;s++){const{inSize:i,windowSize:u,outSize:l}=r[s];let d,c;d="mean"===n?0===s?new nr({windowSize:u,inSize:i,batchSize:e.shape[0],outSize:l},i):new nr({windowSize:u,inSize:i,batchSize:e.shape[0],outSize:l}):new _n({windowSize:u,inSize:i,batchSize:e.shape[0],outSize:l},n),c=o,o=a.runWebGLProgram(d,[o],t),c.dataId!==e.dataId&&a.disposeIntermediateTensorInfo(c)}return o}class rr{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[t[a]];this.outputShape=n,this.rank=n.length;const a=Ge(this.rank),r=function(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],a=new Array(t);for(let t=0;t<e.length;t++)a[e[t]]=n[t];return a.join()}(t);this.userCode=`\n    void main() {\n      ${a} resRC = getOutputCoords();\n      setOutput(getA(${r}));\n    }\n    `}}class sr{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[t[a]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const a=Ge(this.rank),r=Ce("rc",this.rank),s=new Array(this.rank);for(let e=0;e<t.length;e++)s[t[e]]=r[e];const o=`vec2(${s.slice(-2).join()})`,i=`++${r[this.rank-1]} < ${n[this.rank-1]}`,u=`getChannel(getA(${s.join()}), ${o})`;this.userCode=`\n    void main() {\n      ${a} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${u};\n      if(${i}) {\n        result[1] = ${u};\n      }\n      --${r[this.rank-1]};\n      if(++${r[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${u};\n        if(${i}) {\n          result[3] = ${u};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function or(e,t,n){const a=(0,s.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new sr(e.shape,t):new rr(e.shape,t);return n.runWebGLProgram(a,[e],e.dtype)}const ir={kernelName:s.Max,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:a}=e,{reductionIndices:r,keepDims:o}=t,i=n,u=a.shape.length,l=s.util.parseAxisParam(r,a.shape);let d=l;const c=s.backend_util.getAxesPermutation(d,u),h=null!=c,p=i.shouldExecuteOnCPU([a]);let m=a;if(h){if(p){const e=i.texData.get(m.dataId).values,t=new Array(u);for(let e=0;e<t.length;e++)t[e]=a.shape[c[e]];const n=Le(e,a.shape,a.dtype,c,t);m=i.makeTensorInfo(t,a.dtype),i.texData.get(m.dataId).values=n}else m=or(a,c,i);d=s.backend_util.getInnerMostAxes(d.length,u)}s.backend_util.assertAxesAreInnerMostDims("max",d,u);const[f,_]=s.backend_util.computeOutAndReduceShapes(m.shape,d);let g,y=f;if(o&&(y=s.backend_util.expandShapeToKeepDim(f,l)),p){const e=i.texData.get(m.dataId).values,t=xe(e,s.util.sizeFromShape(_),y,a.dtype);g=i.makeTensorInfo(y,a.dtype),i.texData.get(g.dataId).values=t}else g=function(e,t,n,a){const r=s.util.sizeFromShape(t),o=$a({inputs:{x:e},attrs:{shape:[s.util.sizeFromShape(e.shape)/r,r]},backend:a}),i=ar(o,e.dtype,"max",a),u=$a({inputs:{x:i},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(i),u}(m,_,y,i);return h&&i.disposeIntermediateTensorInfo(m),g}},ur={kernelName:s.MaxPool,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;ce(r,"maxPool");const{filterSize:o,strides:i,pad:u,dimRoundingMode:l}=a;s.util.assert(s.backend_util.eitherStridesOrDilationsAreOne(i,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const d=s.backend_util.computePool2DInfo(r.shape,o,i,1,u,l);if(1===d.filterWidth&&1===d.filterHeight&&s.util.arraysEqual(d.inShape,d.outShape))return ha({inputs:{x:r},backend:n});const c=new mn(d,"max",!1);return n.runWebGLProgram(c,[r],r.dtype)}},lr={kernelName:s.MaxPoolBackprop,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o,output:i}=t,u=o;ce([o,i],"maxPoolBackprop");const{filterSize:l,strides:d,pad:c,dimRoundingMode:h}=a,p=s.backend_util.computePool2DInfo(u.shape,l,d,1,c,h),m=new mn(p,"max",!0),f=n.runWebGLProgram(m,[u],u.dtype),_=new sn(p),g=n.runWebGLProgram(_,[r,f],u.dtype);return n.disposeIntermediateTensorInfo(f),g}},dr={kernelName:s.MaxPoolWithArgmax,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:a}=e,{filterSize:r,strides:o,pad:i,includeBatchInIndex:u}=t,l=n;s.util.assert(4===a.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${a.shape.length}.`));const d=[1,1];s.util.assert(s.backend_util.eitherStridesOrDilationsAreOne(o,d),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${d}'`));const c=s.backend_util.computePool2DInfo(a.shape,r,o,d,i),[h,p]=function(e,t,n,a){let r=new mn(n,"max",!1);const s=a.runWebGLProgram(r,[e],"float32");return r=new mn(n,"max",!0,!0,t),[s,a.runWebGLProgram(r,[e],"float32")]}(a,u,c,l);return[h,p]}},cr={kernelName:s.Mean,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:a}=e,{keepDims:r,axis:o}=t,i=n,u=a.shape.length,l=s.util.parseAxisParam(o,a.shape);let d=l;const c=s.backend_util.getAxesPermutation(d,u),h=null!=c,p=i.shouldExecuteOnCPU([a]),m=[];let f=a;if(h){if(p){const e=i.texData.get(f.dataId).values,t=new Array(u);for(let e=0;e<t.length;e++)t[e]=a.shape[c[e]];const n=Le(e,a.shape,a.dtype,c,t);f=i.makeTensorInfo(t,a.dtype),i.texData.get(f.dataId).values=n}else f=or(a,c,i);m.push(f),d=s.backend_util.getInnerMostAxes(d.length,u)}s.backend_util.assertAxesAreInnerMostDims("sum",d,u);const[_,g]=s.backend_util.computeOutAndReduceShapes(f.shape,d);let y=_;r&&(y=s.backend_util.expandShapeToKeepDim(_,l));const b=function(e,t,n,a){const r=s.util.sizeFromShape(t),o=$a({inputs:{x:e},attrs:{shape:[s.util.sizeFromShape(e.shape)/r,r]},backend:a}),i=ar(o,"float32","mean",a),u=$a({inputs:{x:i},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(i),u}(f,g,y,i);for(const e of m)i.disposeIntermediateTensorInfo(e);return b}};class hr{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=Ge(a),s=t.map((e=>e[0])).join(","),o=t.map(((t,n)=>t[0]+e[n])).join(","),i=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),u="reflect"===n?0:1;this.userCode=1!==a?`\n      ${r} start = ${r}(${s});\n      ${r} end = ${r}(${o});\n\n      void main() {\n        ${r} outC = getOutputCoords();\n        for (int i = 0; i < ${a}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${u};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${u};\n          }\n        }\n        ${r} coords = outC - start;\n        setOutput(getX(${i}));\n      }\n    `:`\n        int start = ${s};\n        int end = ${o};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${u};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${u};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class pr{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=Ge(a),s=t.map((e=>e[0])).join(","),o=t.map(((t,n)=>t[0]+e[n])).join(","),i=Ee("rc",a),u=Ee("source",a),l=`${i[a-1]} < ${this.outputShape[a-1]}`,d=1===a?"source":`vec2(${u.slice(-2).join()})`,c="reflect"===n?0:1;let h="";if(1===a){const e=`\n        ${r} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${c};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${c};\n        }\n        source -= start;\n      `;h=`\n        ${r} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${u.join()}), ${d});\n        ${i[a-1]} += 1;\n        if(${l}) {\n          ${e}\n          result[1] = getChannel(getX(${u.join()}), ${d});\n        }\n      `}else{const e=`\n        ${r} source = rc;\n        ${r} lt = ${r}(lessThan(source, start));\n        ${r} gte = ${r}(greaterThanEqual(source, end));\n        ${r} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${c}) +\n                gte * ((end - 1) * 2 - source + ${c});\n        source -= start;\n      `;h=`\n        ${r} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${u.join()}), ${d});\n        ${i[a-1]} += 1;\n        if(${l}) {\n          ${e}\n          result[1] = getChannel(getX(${u.join()}), ${d});\n        }\n        rc = outputLoc;\n        ${i[a-2]} += 1;\n        if(${i[a-2]} < ${this.outputShape[a-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${u.join()}), ${d});\n          ${i[a-1]} += 1;\n          if(${l}) {\n            ${e}\n            result[3] = getChannel(getX(${u.join()}), ${d});\n          }\n        }\n      `}this.userCode=`\n      const ${r} start = ${r}(${s});\n      const ${r} end = ${r}(${o});\n\n      void main() {\n        ${r} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${h}\n        setOutput(result);\n      }\n    `}}const mr={kernelName:s.MirrorPad,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:a}=e,{paddings:r,mode:o}=n,i=(0,s.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new pr(a.shape,r,o):new hr(a.shape,r,o);return t.runWebGLProgram(i,[a],a.dtype)}};class fr{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=s.backend_util.assertAndGetBroadcastShape(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const _r="return a * b;",gr={kernelName:s.Multiply,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{a,b:r}=t,o=s.backend_util.upcastType(a.dtype,r.dtype);if("complex64"===a.dtype){const e=n.texData.get(a.dataId),t=n.texData.get(r.dataId),s=new fr("return areal * breal - aimag * bimag;",a.shape,r.shape),o=new fr("return areal * bimag + aimag * breal;",a.shape,r.shape),i=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:a.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:r.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:r.shape}],u=n.runWebGLProgram(s,i,"float32"),l=n.runWebGLProgram(o,i,"float32"),d=ma({inputs:{real:u,imag:l},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(l),d}if(n.shouldExecuteOnCPU([a,r])){const e=n.texData.get(a.dataId),t=n.texData.get(r.dataId),[s,i]=ke(a.shape,r.shape,e.values,t.values,o),u=n.makeTensorInfo(i,o);return n.texData.get(u.dataId).values=s,u}let i;return i=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nt(_r,a.shape,r.shape):new et(_r,a.shape,r.shape),n.runWebGLProgram(i,[a,r],o)}},yr={kernelName:s.NonMaxSuppressionV3,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{s.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{boxes:a,scores:r}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:u}=n,l=t,d=l.readSync(a.dataId),c=l.readSync(r.dataId),h=o,p=i,m=u;return s.kernel_impls.nonMaxSuppressionV3Impl(d,c,h,p,m)}},br=s.kernel_impls.nonMaxSuppressionV4Impl,vr={kernelName:s.NonMaxSuppressionV4,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{s.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{boxes:a,scores:r}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:u,padToMaxOutputSize:l}=n,d=t,c=d.readSync(a.dataId),h=d.readSync(r.dataId),{selectedIndices:p,validOutputs:m}=br(c,h,o,i,u,l);return[p,m]}},xr=s.kernel_impls.nonMaxSuppressionV5Impl,kr={kernelName:s.NonMaxSuppressionV5,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{s.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{boxes:a,scores:r}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:u,softNmsSigma:l}=n,d=t,c=d.readSync(a.dataId),h=d.readSync(r.dataId),p=o,m=i,f=u,_=l,{selectedIndices:g,selectedScores:y}=xr(c,h,p,m,f,_);return[g,y]}};class Mr{constructor(e,t,n,a){this.variableNames=["Image"],this.outputShape=[];const r=e[1],o=e[2],i=Math.sin(t).toFixed(3),u=Math.cos(t).toFixed(3);this.outputShape=e;const[l,d]=s.backend_util.getImageCenter(a,r,o),c=l.toFixed(3),h=d.toFixed(3);let p="";p="number"==typeof n?`float outputValue = ${n.toFixed(2)};`:`\n        vec3 fill = vec3(${n.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - ${c}) * ${u} - (float(y) - ${h}) * ${i};\n          float coordYFloat = (float(x) - ${c}) * ${i} + (float(y) - ${h}) * ${u};\n          int coordX = int(round(coordXFloat + ${c}));\n          int coordY = int(round(coordYFloat + ${h}));\n          ${p}\n          if(coordX >= 0 && coordX < ${o} && coordY >= 0 && coordY < ${r}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const wr={kernelName:s.RotateWithOffset,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:a}=e,{radians:r,fillValue:s,center:o}=t,i=n,u=new Mr(a.shape,r,s,o);return i.runWebGLProgram(u,[a],a.dtype)}},Tr=_a("if (isnan(x)) return x;\n  return sin(x);\n"),Lr={kernelName:s.Sin,backendName:"webgl",kernelFunc:Tr},Sr=_a("return x * x;"),Dr={kernelName:s.Square,backendName:"webgl",kernelFunc:Sr},Ir="return (a - b) * (a - b);",Nr=ga({opSnippet:Ir,packedOpSnippet:Ir}),Cr={kernelName:s.SquaredDifference,backendName:"webgl",kernelFunc:Nr},Er="return a - b;",Ar=ga({opSnippet:Er,packedOpSnippet:Er,supportsComplex:!0,cpuKernelImpl:Te}),Yr={kernelName:s.Sub,backendName:"webgl",kernelFunc:Ar},Fr=_a("return tan(x);"),Rr=[va,ka,Ma,wa,Sa,Ea,fa,Ba,za,Va,qa,Ka,Za,pa,tr,Oa,ir,ur,lr,dr,cr,mr,gr,yr,vr,kr,Ia,Ca,Pa,wr,Lr,Dr,Yr,Cr,{kernelName:s.Tan,backendName:"webgl",kernelFunc:Fr},{kernelName:s.Transpose,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:a}=e,{perm:r}=t,s=n,o=a.shape.length,i=new Array(o);for(let e=0;e<i.length;e++)i[e]=a.shape[r[e]];let u;if(s.shouldExecuteOnCPU([a])){const e=s.texData.get(a.dataId).values,t=Le(e,a.shape,a.dtype,r,i);u=s.makeTensorInfo(i,a.dtype),s.texData.get(u.dataId).values=t}else u=or(a,r,s);return u}},{kernelName:s.Unique,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{axis:r}=n,{x:s}=t;ce(s,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const o=a.readSync(s.dataId),{outputValues:i,outputShape:u,indices:l}=Se(o,r,s.shape,s.dtype);return[a.makeTensorInfo(u,s.dtype,i),a.makeTensorInfo([l.length],"int32",l)]}}];for(const e of Rr)(0,s.registerKernel)(e)},8713:(e,t,n)=>{"use strict";n.d(t,{JL:()=>a,Zu:()=>r});class a{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class r{time(e){return s("time")}read(e){return s("read")}readSync(e){return s("readSync")}numDataIds(){return s("numDataIds")}disposeData(e){return s("disposeData")}write(e,t,n){return s("write")}move(e,t,n,a){return s("move")}memory(){return s("memory")}floatPrecision(){return s("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}batchMatMul(e,t,n,a){return s("batchMatMul")}fusedBatchMatMul({a:e,b:t,transposeA:n,transposeB:a,bias:r,activation:o,preluActivationWeights:i}){return s("fusedBatchMatMul")}slice(e,t,n){return s("slice")}stridedSlice(e,t,n,a){return s("stridedSlice")}unstack(e,t){return s("unstack")}reverse(e,t){return s("reverse")}concat(e,t){return s("concat")}neg(e){return s("neg")}add(e,t){return s("add")}addN(e){return s("addN")}subtract(e,t){return s("subtract")}multiply(e,t){return s("multiply")}realDivide(e,t){return s("realDivide")}floorDiv(e,t){return s("floorDiv")}sum(e,t){return s("sum")}prod(e,t){return s("prod")}unsortedSegmentSum(e,t,n){return s("unsortedSegmentSum")}argMin(e,t){return s("argMin")}argMax(e,t){return s("argMax")}equal(e,t){return s("equal")}notEqual(e,t){return s("notEqual")}less(e,t){return s("less")}lessEqual(e,t){return s("lessEqual")}greater(e,t){return s("greater")}greaterEqual(e,t){return s("greaterEqual")}logicalNot(e){return s("logicalNot")}logicalAnd(e,t){return s("logicalAnd")}logicalOr(e,t){return s("logicalOr")}where(e){return s("where")}select(e,t,n){return s("select")}topk(e,t,n){return s("topk")}min(e,t){return s("min")}minimum(e,t){return s("minimum")}mod(e,t){return s("mod")}max(e,t){return s("max")}maximum(e,t){return s("maximum")}all(e,t){return s("all")}any(e,t){return s("any")}squaredDifference(e,t){return s("squaredDifference")}ceil(e){return s("ceil")}floor(e){return s("floor")}round(e){return s("round")}sign(e){return s("sign")}isNaN(e){return s("isNaN")}isInf(e){return s("isInf")}isFinite(e){return s("isFinite")}pow(e,t){return s("pow")}exp(e){return s("exp")}expm1(e){return s("expm1")}softmax(e,t){return s("softmax")}log(e){return s("log")}log1p(e){return s("log1p")}sqrt(e){return s("sqrt")}rsqrt(e){return s("rsqrt")}square(e){return s("square")}reciprocal(e){return s("reciprocal")}relu(e){return s("relu")}relu6(e){return s("relu6")}prelu(e,t){return s("prelu")}elu(e){return s("elu")}eluDer(e,t){return s("eluDer")}selu(e){return s("selu")}int(e){return s("int")}clip(e,t,n){return s("clip")}abs(e){return s("abs")}complexAbs(e){return s("complexAbs")}sigmoid(e){return s("sigmoid")}softplus(e){return s("softplus")}sin(e){return s("sin")}cos(e){return s("cos")}tan(e){return s("tan")}asin(e){return s("asin")}acos(e){return s("acos")}atan(e){return s("atan")}atan2(e,t){return s("atan2")}sinh(e){return s("sinh")}cosh(e){return s("cosh")}tanh(e){return s("tanh")}asinh(e){return s("asinh")}acosh(e){return s("acosh")}atanh(e){return s("atanh")}erf(e){return s("erf")}step(e,t){return s("step")}fusedConv2d({input:e,filter:t,convInfo:n,bias:a,activation:r,preluActivationWeights:o}){return s("fusedConv2d")}conv2d(e,t,n){return s("conv2d")}conv2dDerInput(e,t,n){return s("conv2dDerInput")}conv2dDerFilter(e,t,n){return s("conv2dDerFilter")}fusedDepthwiseConv2D({input:e,filter:t,convInfo:n,bias:a,activation:r,preluActivationWeights:o}){return s("fusedDepthwiseConv2D")}depthwiseConv2D(e,t,n){return s("depthwiseConv2D")}depthwiseConv2DDerInput(e,t,n){return s("depthwiseConv2DDerInput")}depthwiseConv2DDerFilter(e,t,n){return s("depthwiseConv2DDerFilter")}conv3d(e,t,n){return s("conv3d")}conv3dDerInput(e,t,n){return s("conv3dDerInput")}conv3dDerFilter(e,t,n){return s("conv3dDerFilter")}maxPool(e,t){return s("maxPool")}maxPoolBackprop(e,t,n,a){return s("maxPoolBackprop")}avgPool(e,t){return s("avgPool")}avgPoolBackprop(e,t,n){return s("avgPoolBackprop")}avgPool3d(e,t){return s("avgPool3d")}avgPool3dBackprop(e,t,n){return s("avgPool3dBackprop")}maxPool3d(e,t){return s("maxPool3d")}maxPool3dBackprop(e,t,n,a){return s("maxPool3dBackprop")}reshape(e,t){return s("reshape")}cast(e,t){return s("cast")}tile(e,t){return s("tile")}pad(e,t,n){return s("pad")}transpose(e,t){return s("transpose")}gather(e,t,n){return s("gather")}gatherND(e,t){return s("gatherND")}scatterND(e,t,n){return s("scatterND")}batchToSpaceND(e,t,n){return s("batchToSpaceND")}spaceToBatchND(e,t,n){return s("spaceToBatchND")}resizeBilinear(e,t,n,a){return s("resizeBilinear")}resizeBilinearBackprop(e,t,n){return s("resizeBilinearBackprop")}resizeNearestNeighbor(e,t,n,a){return s("resizeNearestNeighbor")}resizeNearestNeighborBackprop(e,t,n){return s("resizeNearestNeighborBackprop")}batchNorm(e,t,n,a,r,o){return s("batchNorm")}localResponseNormalization4D(e,t,n,a,r){return s("localResponseNormalization4D")}LRNGrad(e,t,n,a,r,o,i){return s("LRNGrad")}multinomial(e,t,n,a){return s("multinomial")}oneHot(e,t,n,a){return s("oneHot")}cumsum(e,t,n,a){return s("cumsum")}nonMaxSuppression(e,t,n,a,r){return s("nonMaxSuppression")}fft(e){return s("fft")}ifft(e){return s("ifft")}complex(e,t){return s("complex")}real(e){return s("real")}imag(e){return s("imag")}cropAndResize(e,t,n,a,r,o){return s("cropAndResize")}depthToSpace(e,t,n){return s("depthToSpace")}split(e,t,n){return s("split")}sparseToDense(e,t,n,a){return s("sparseToDense")}diag(e){return s("diag")}fill(e,t,n){return s("fill")}onesLike(e){return s("onesLike")}zerosLike(e){return s("zerosLike")}linspace(e,t,n){return s("linspace")}dispose(){return s("dispose")}}function s(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},2055:(e,t,n)=>{"use strict";n.d(t,{GP:()=>i,qP:()=>u,pA:()=>l});var a=n(9494),r=n(6092);function s(e,t,n){const a=function(e,t,n){return function(e,t,n){let a=0,r=e.length,s=0,o=!1;for(;a<r;){s=a+(r-a>>>1);const i=n(t,e[s]);i>0?a=s+1:(r=s,o=!i)}return o?a:-a-1}(e,t,n||o)}(e,t,n),r=a<0?-(a+1):a;e.splice(r,0,t)}function o(e,t){return e>t?1:e<t?-1:0}function i(e,t,n,a,r){return d(e,t,n,a,r,0).selectedIndices}function u(e,t,n,a,r,s){return d(e,t,n,a,r,0,!1,s,!0)}function l(e,t,n,a,r,s){return d(e,t,n,a,r,s,!0)}function d(e,t,n,o,i,u,l=!1,d=!1,m=!1){const f=[];for(let e=0;e<t.length;e++)t[e]>i&&f.push({score:t[e],boxIndex:e,suppressBeginIndex:0});f.sort(p);const _=u>0?-.5/u:0,g=[],y=[];for(;g.length<n&&f.length>0;){const t=f.pop(),{score:n,boxIndex:a,suppressBeginIndex:r}=t;if(n<i)break;let u=!1;for(let n=g.length-1;n>=r;--n){const r=c(e,a,g[n]);if(r>=o){u=!0;break}if(t.score=t.score*h(o,_,r),t.score<=i)break}t.suppressBeginIndex=g.length,u||(t.score===n?(g.push(a),y.push(t.score)):t.score>i&&s(f,t,p))}const b=g.length,v=n-b;d&&v>0&&(g.push(...new Array(v).fill(0)),y.push(...new Array(v).fill(0)));const x={selectedIndices:(0,r.R)(g,"int32")};return l&&(x.selectedScores=(0,r.R)(y,"float32")),m&&(x.validOutputs=(0,a.i)(b,"int32")),x}function c(e,t,n){const a=e.subarray(4*t,4*t+4),r=e.subarray(4*n,4*n+4),s=Math.min(a[0],a[2]),o=Math.min(a[1],a[3]),i=Math.max(a[0],a[2]),u=Math.max(a[1],a[3]),l=Math.min(r[0],r[2]),d=Math.min(r[1],r[3]),c=Math.max(r[0],r[2]),h=Math.max(r[1],r[3]),p=(i-s)*(u-o),m=(c-l)*(h-d);if(p<=0||m<=0)return 0;const f=Math.max(s,l),_=Math.max(o,d),g=Math.min(i,c),y=Math.min(u,h),b=Math.max(g-f,0)*Math.max(y-_,0);return b/(p+m-b)}function h(e,t,n){const a=Math.exp(t*n*n);return n<=e?a:0}function p(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}},8333:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(2657);function r(e,t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(e);const r=(0,a.f)(e,"int32"),s=(0,a.f)([n.length,e.length],"int32");for(let t=0;t<n.length;t++){const a=r.indexToLoc(n[t]),o=t*e.length;s.values.set(a,o)}return s.toTensor()}},7097:(e,t,n)=>{"use strict";n.d(t,{BV:()=>y,wv:()=>g});var a=n(8713),r=n(2885),s=n(5938),o=n(9121),i=n(6151),u=n(569);class l{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new c)}profileKernel(e,t,n){let a;const r=this.backendTimer.time((()=>{a=n()}));for(let t=0;t<a.length;t++){const n=a[t];n.data().then((t=>{d(t,n.dtype,e)}))}return{kernelName:e,outputs:a,inputs:t,timeMs:r.then((e=>e.kernelMs)),extraInfo:r.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:a,inputs:r,extraInfo:s}=e;n.forEach((e=>{Promise.all([e.data(),a,s]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],r,n[2])}))}))}}function d(e,t,n){if("float32"!==t)return!1;for(let t=0;t<e.length;t++){const a=e[t];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${n}'`),!0}return!1}class c{logKernelProfile(e,t,n,a,r,s){const o="number"==typeof a?u.oj(`${a}ms`,9):a.error,i=u.oj(e,25),l=t.rank,d=t.size,c=u.oj(t.shape.toString(),14);let h="";for(const e in r){const n=r[e];if(null!=n){const a=n.shape||t.shape,r=a.length;h+=`${e}: ${r}D ${r>0?a:""} `}}console.log(`%c${i}\t%c${o}\t%c${l}D ${c}\t%c${d}\t%c${h}\t%c${s}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}var h=n(4077),p=n(747),m=n(9155);class f{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class _{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new f}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(console.warn(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new l(this.backendInstance),!0}setupRegisteredKernels(){(0,i.tr)(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){(0,i.tr)(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof a.Zu||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,a=n.then((n=>!(t<this.pendingBackendInitId||(this.registry[e]=n,this.pendingBackendInit=null,0)))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,console.warn(`Initialization of backend ${e} failed`),console.warn(n.stack||n.message)),!1)));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}}catch(t){return console.warn(`Initialization of backend ${e} failed`),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:a,asyncInit:r}=this.initializeBackend(n);if(r||a)return{name:n,asyncInit:r}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),a=n.backend,r=this.readSync(t);a.disposeData(t),n.backend=e,e.move(t,r,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,a=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((()=>this.startScope(a)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(e){throw t(),e}}nextTensorId(){return _.nextTensorId++}nextVariableId(){return _.nextVariableId++}clone(e){const t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t="float32",n={x:e},a={dtype:t};return y.runKernelFunc((n=>n.cast(e,t)),n,null,o.RF,a)}})),[],{}),t}runKernel(e,t,n,a,r){return this.runKernelFunc(null,t,null,e,n,a,r)}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const a=this.backend.numDataIds();let r=0;n.forEach((e=>{r+="complex64"===e.dtype?3:1}));const s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=a-t-r-s;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e,t,n,a,r,s,o){let u,l=[];const d=this.isTapeOn();null==a&&(a=null!=this.state.activeScope?this.state.activeScope.name:"");const c=this.state.numBytes,h=this.state.numTensors;let p;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);const m=(0,i.pI)(a,this.backendName);let f,_;if(null!=m)p=()=>{const e=this.backend.numDataIds();f=m.kernelFunc({inputs:t,attrs:r,backend:this.backend});const n=Array.isArray(f)?f:[f];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(a,e,n);const i=n.map((({dataId:e,shape:t,dtype:n})=>this.makeTensorFromDataId(e,t,n)));if(d){let e=this.getTensorsForGradient(a,t,i);if(null==e){null==o&&(o=[]);const t=i.filter(((e,t)=>o[t]));e=(s||[]).slice().concat(t)}l=this.saveTensorsForBackwardMode(e)}return i};else{const t=e=>{d&&(l=e.map((e=>this.keep(this.clone(e)))))};p=()=>{const n=this.backend.numDataIds();f=this.tidy((()=>e(this.backend,t)));const r=Array.isArray(f)?f:[f];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(a,n,r),r}}return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(_=this.profiler.profileKernel(a,t,(()=>p())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(_),u=_.outputs):u=p()})),d&&this.addTapeNode(a,t,u,n,l,r),this.state.profiling&&this.state.activeProfile.kernels.push({name:a,bytesAdded:this.state.numBytes-c,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-h,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map((e=>null!=t[e]?t[e].shape:null)),outputShapes:u.map((e=>e.shape)),kernelTimeMs:_.timeMs,extraInfo:_.extraInfo}),Array.isArray(f)?u:u[0]}saveTensorsForBackwardMode(e){return e.map((e=>this.keep(this.clone(e))))}getTensorsForGradient(e,t,n){const a=(0,i.uk)(e);if(null!=a){const e=a.inputsToSave||[],r=a.outputsToSave||[];let s;a.saveAllInputs?(u.hu(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),s=Object.keys(t).map((e=>t[e]))):s=e.map((e=>t[e]));const o=n.filter(((e,t)=>r[t]));return s.concat(o)}return null}makeTensor(e,t,n,a){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",a=a||this.backend;let r=e;"string"===n&&u.HD(e[0])&&(r=e.map((e=>m.encodeString(e))));const s=a.write(r,t,n),o=new h.es(t,n,s,this.nextTensorId());if(this.incRef(o,a),"string"===n){const e=this.state.tensorInfo.get(s),t=(0,u.Ub)(r);this.state.numBytes+=t-e.bytes,e.bytes=t}return o}makeTensorFromDataId(e,t,n,a){n=n||"float32";const r=new h.es(t,n,e,this.nextTensorId());return this.incRef(r,a),r}makeVariable(e,t=!0,n,a){n=n||this.nextVariableId().toString(),null!=a&&a!==e.dtype&&(e=e.cast(a));const r=new h._w(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[r.name])throw new Error(`Variable with name ${r.name} was already registered`);return this.state.registeredVariables[r.name]=r,this.incRef(r,this.backend),r}incRef(e,t){const n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*u.bT(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n,refCount:0}),this.state.numBytes+=n}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof h._w||this.track(e)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;const t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const e of this.state.activeProfile.kernels)e.kernelTimeMs=await e.kernelTimeMs,e.extraInfo=await e.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,a,r,s){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:r},l=(0,i.uk)(e);null!=l&&(a=l.gradFunc),null!=a&&(o.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],a=u.wT(e.size,e.dtype);return this.makeTensor(a,e.shape,e.dtype)}return e})),a(e.length>1?e:e[0],r,s))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=(0,p.getTensorsInContainer)(e),n=new Set(t.map((e=>e.id)));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||n.has(t.id)||t.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==a.id||this.track(e)}))}gradients(e,t,n,a=!1){if(u.hu(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const r=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));u.hu(r instanceof h.es,(()=>"The result y returned by f() must be a tensor."));const s=function(e,t,n){const a={},r={};for(let e=0;e<t.length;e++)a[t[e].id]=!0;for(let n=0;n<e.length;n++){const s=e[n],o=s.inputs;for(const e in o){const n=o[e];let i=!1;for(let e=0;e<t.length;e++)if(a[n.id]){s.outputs.forEach((e=>a[e.id]=!0)),i=!0,r[s.id]=!0;break}if(i)break}}const s={};s[n.id]=!0;const o={};for(let t=e.length-1;t>=0;t--){const n=e[t],a=n.inputs;for(let e=0;e<n.outputs.length;e++)if(s[n.outputs[e].id]){for(const e in a)s[a[e].id]=!0,o[n.id]=!0;break}}const i=[];for(let t=0;t<e.length;t++){const n=e[t];if(r[n.id]&&o[n.id]){const e={};for(const t in n.inputs){const r=n.inputs[t];a[r.id]&&(e[t]=r)}const t=Object.assign({},n);t.inputs=e,t.outputs=n.outputs,i.push(t)}}return i}(this.state.activeTape,t,r);if(!a&&0===s.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[r.id]=null==n?function(e){const t=(0,u.p8)((0,u.NA)(e),"float32");return y.makeTensor(t,e,"float32")}(r.shape):n,function(e,t,n,a){for(let r=t.length-1;r>=0;r--){const s=t[r],o=[];if(s.outputs.forEach((t=>{const n=e[t.id];null!=n?o.push(n):o.push(null)})),null==s.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${s.kernelName}.`);const i=s.gradient(o);for(const t in s.inputs){if(!(t in i))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(i)}.`);const r=n((()=>i[t]()));if("float32"!==r.dtype)throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${r.dtype}'`);const o=s.inputs[t];if(!u.cO(r.shape,o.shape))throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input '${t}' has shape '${r.shape}', which does not match the shape of the input '${o.shape}'`);if(null==e[o.id])e[o.id]=r;else{const t=e[o.id];e[o.id]=a(t,r),t.dispose()}}}}(e,s,(e=>this.tidy(e)),b);const a=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:r,grads:a}}))}customGrad(e){return u.hu(u.mf(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;u.hu(t.every((e=>e instanceof h.es)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const a={};return t.forEach(((e,t)=>{a[t]=e})),this.runKernelFunc(((a,r)=>(n=e(...t,r),u.hu(n.value instanceof h.es,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),u.hu(u.mf(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value)),a,((e,a)=>{const r=n.gradFunc(e,a),s=Array.isArray(r)?r:[r];u.hu(s.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),u.hu(s.every((e=>e instanceof h.es)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const o={};return s.forEach(((e,t)=>{o[t]=()=>e})),o}))}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}async time(e){const t=(0,m.now)(),n=await this.backend.time(e);return n.wallMs=(0,m.now)()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new f;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function g(){const e=(0,s.D)();if(null==e._tfengine){const t=new r.qA(e);e._tfengine=new _(t)}return(0,r.iG)(e._tfengine.ENV),(0,h.Vi)((()=>e._tfengine)),e._tfengine}_.nextTensorId=0,_.nextVariableId=0;const y=g();function b(e,t){const n={a:e,b:t};return y.runKernelFunc(((n,a)=>{const r=n.add(e,t);return a([e,t]),r}),n,null,o.mm)}},2885:(e,t,n)=>{"use strict";n.d(t,{qA:()=>r,OB:()=>s,Vi:()=>o,iG:()=>i});var a=n(569);class r{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if((0,a.tI)(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=function(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}(this.global.location.search);"tfjsflags"in e&&e.tfjsflags.split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}(t,n)}))}}function s(){return o}let o=null;function i(e){o=e}},5938:(e,t,n)=>{"use strict";let a;function r(){if(null==a){let e;if("undefined"!=typeof window)e=window;else if(void 0!==n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}a=e}return a}function s(e,t){const n=function(){const e=r();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const a=t();return n.set(e,a),n.get(e)}}n.d(t,{D:()=>r,R:()=>s})},4368:(e,t,n)=>{"use strict";n.d(t,{G4:()=>i,R:()=>u,cF:()=>l,MX:()=>d,N8:()=>c,SR:()=>h,sq:()=>p,N5:()=>m,lu:()=>f,B9:()=>_,Cn:()=>g,XV:()=>y,CQ:()=>b,Cd:()=>v,N_:()=>x,cj:()=>k,x3:()=>M,ze:()=>w,jq:()=>T,y3:()=>L,VY:()=>S});var a=n(7097),r=n(2885),s=n(4077),o=n(747);function i(){(0,r.OB)().set("PROD",!0)}function u(){(0,r.OB)().set("DEBUG",!0)}function l(){(0,r.OB)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function d(e){(0,r.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function c(){a.BV.disposeVariables()}function h(){return a.BV}function p(){return a.BV.memory()}function m(e){return a.BV.profile(e)}function f(e,t){return a.BV.tidy(e,t)}function _(e){(0,o.getTensorsInContainer)(e).forEach((e=>e.dispose()))}function g(e){return a.BV.keep(e)}function y(e){return a.BV.time(e)}function b(e){return a.BV.setBackend(e)}function v(){return a.BV.ready()}function x(){return a.BV.backendName}function k(e){a.BV.removeBackend(e)}function M(e){return a.BV.findBackend(e)}function w(e){return a.BV.findBackendFactory(e)}function T(e,t,n=1){return a.BV.registerBackend(e,t,n)}function L(){return a.BV.backend}function S(e,t){(0,r.OB)().setPlatform(e,t)}(0,s.FZ)(d)},633:(e,t,n)=>{"use strict";n.d(t,{cb:()=>h,pn:()=>c,h7:()=>l,fN:()=>d,UQ:()=>i,ti:()=>u});var a=n(7097),r=n(4077),s=n(3740),o=n(569);function i(e){return o.hu(o.mf(e),(()=>"The f passed in grad(f) must be a function")),(t,n)=>{const r=(0,s._1)(t,"x","tf.grad",null),i=null!=n?(0,s._1)(n,"dy","tf.grad"):null;return a.BV.tidy((()=>{const{value:t,grads:n}=a.BV.gradients((()=>e(r)),[r],i);return null!=i&&o.k5(t.shape,i.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),p(n),n[0]}))}}function u(e){return o.hu(o.mf(e),(()=>"The f passed in grads(f) must be a function")),(t,n)=>{o.hu(Array.isArray(t),(()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"));const r=(0,s.sI)(t,"args","tf.grads",null),i=null!=n?(0,s._1)(n,"dy","tf.grads"):null;return a.BV.tidy((()=>{const{value:t,grads:n}=a.BV.gradients((()=>e(...r)),r,i);return null!=i&&o.k5(t.shape,i.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),p(n),n}))}}function l(e){return o.hu(o.mf(e),(()=>"The f passed in valueAndGrad(f) must be a function")),(t,n)=>{o.hu(t instanceof r.es,(()=>"The x passed in valueAndGrad(f)(x) must be a tensor")),o.hu(null==n||n instanceof r.es,(()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"));const{grads:s,value:i}=a.BV.gradients((()=>e(t)),[t],n);return p(s),{grad:s[0],value:i}}}function d(e){return o.hu(o.mf(e),(()=>"The f passed in valueAndGrads(f) must be a function")),(t,n)=>{o.hu(Array.isArray(t)&&t.every((e=>e instanceof r.es)),(()=>"The args passed in valueAndGrads(f)(args) must be array of tensors")),o.hu(null==n||n instanceof r.es,(()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"));const s=a.BV.gradients((()=>e(...t)),t,n);return null!=n&&o.k5(s.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),p(s.grads),s}}function c(e,t){o.hu(o.mf(e),(()=>"The f passed in variableGrads(f) must be a function")),o.hu(null==t||Array.isArray(t)&&t.every((e=>e instanceof r._w)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in a.BV.registeredVariables)t.push(a.BV.registeredVariables[e])}const s=n?t.filter((e=>!e.trainable)):null,i=t.length;t=t.filter((e=>e.trainable)),o.hu(t.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${i} variables is trainable.`));const{value:u,grads:l}=a.BV.gradients(e,t,null,!0);o.hu(l.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),o.hu(0===u.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${u.rank} tensor`));const d={};return t.forEach(((e,t)=>{null!=l[t]&&(d[e.name]=l[t])})),null!=s&&s.forEach((e=>d[e.name]=null)),{value:u,grads:d}}function h(e){return a.BV.customGrad(e)}function p(e){if(e.filter((e=>null==e)).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},7533:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Abs:()=>He.SY,Acos:()=>He.VG,Acosh:()=>He.Sp,AdadeltaOptimizer:()=>xt,AdagradOptimizer:()=>Mt,AdamOptimizer:()=>Lt,AdamaxOptimizer:()=>It,Add:()=>He.mm,AddN:()=>He.Xz,All:()=>He.oT,Any:()=>He.IK,ArgMax:()=>He.sJ,ArgMin:()=>He.aJ,Asin:()=>He.M2,Asinh:()=>He.qw,Atan:()=>He.jM,Atan2:()=>He.QC,Atanh:()=>He.Oy,AvgPool:()=>He.Jh,AvgPool3D:()=>He._k,AvgPool3DBackprop:()=>He.DC,AvgPoolBackprop:()=>He.xt,BatchMatMul:()=>He.XL,BatchToSpaceND:()=>He.zw,BroadcastTo:()=>He.Ly,Cast:()=>He.RF,Ceil:()=>He.gJ,ClipByValue:()=>He.xn,Complex:()=>He.Zz,Concat:()=>He.Eh,Conv2D:()=>He.mh,Conv2DBackpropFilter:()=>He.wU,Conv2DBackpropInput:()=>He.wm,Conv3D:()=>He.x1,Conv3DBackpropFilterV2:()=>He.o2,Conv3DBackpropInputV2:()=>He.ik,Cos:()=>He.mc,Cosh:()=>He.TR,CropAndResize:()=>He.Vc,Cumsum:()=>He.iH,DataStorage:()=>Nn.JL,DepthToSpace:()=>He.T0,DepthwiseConv2dNative:()=>He.ci,DepthwiseConv2dNativeBackpropFilter:()=>He.sL,DepthwiseConv2dNativeBackpropInput:()=>He.y7,Diag:()=>He.$w,Dilation2D:()=>He.p4,Dilation2DBackpropFilter:()=>He.Vn,Dilation2DBackpropInput:()=>He.ek,Div:()=>He.ZC,ENV:()=>f.Vi,Elu:()=>He.SX,EluGrad:()=>He.HE,Environment:()=>f.qA,Equal:()=>He.hd,Erf:()=>He.Om,Exp:()=>He.NE,Expm1:()=>He.Y0,FFT:()=>He.vw,Fill:()=>He.de,FlipLeftRight:()=>He.Uy,Floor:()=>He.OR,FloorDiv:()=>He.je,FromPixels:()=>He.eB,FusedBatchNorm:()=>He.sH,FusedConv2D:()=>He._V,FusedDepthwiseConv2D:()=>He.lu,GatherNd:()=>He.q1,GatherV2:()=>He.qi,Greater:()=>He.iZ,GreaterEqual:()=>He.Ac,IFFT:()=>He.Qg,Identity:()=>He.iJ,Imag:()=>He.J_,IsFinite:()=>He.av,IsInf:()=>He.iW,IsNan:()=>He.r7,KernelBackend:()=>Nn.Zu,LRN:()=>He.eZ,LRNBackprop:()=>He.vI,Less:()=>He.vt,LessEqual:()=>He.CA,LinSpace:()=>He.e7,Log:()=>He.Zb,Log1p:()=>He.kU,LogSoftmax:()=>He.qC,LogicalAnd:()=>He.PY,LogicalNot:()=>He.Vf,LogicalOr:()=>He.MZ,Max:()=>He.Yo,MaxPool:()=>He.mT,MaxPool3D:()=>He.OA,MaxPool3DBackprop:()=>He.f,MaxPoolBackprop:()=>He.Gv,MaxPoolWithArgmax:()=>He.vF,Maximum:()=>He.BM,Mean:()=>He.q2,Min:()=>He.c1,Minimum:()=>He.q8,MirrorPad:()=>He.jQ,Mod:()=>He.Vb,MomentumOptimizer:()=>Ct,Multiply:()=>He.wY,Negate:()=>He.L0,NonMaxSuppressionV3:()=>He.uv,NonMaxSuppressionV4:()=>He.cy,NonMaxSuppressionV5:()=>He.W0,NotEqual:()=>He.yQ,OP_SCOPE_SUFFIX:()=>Yt.zvA,OneHot:()=>He.we,OnesLike:()=>He.qW,Optimizer:()=>vt,PadV2:()=>He.ly,Pool:()=>He.Kg,Pow:()=>He.pe,Prelu:()=>He.o0,Prod:()=>He.Dl,RMSPropOptimizer:()=>Et,Range:()=>He.e6,Rank:()=>At.yw,Real:()=>He.xJ,Reciprocal:()=>He.$H,Reduction:()=>Ft.I,Relu:()=>He.qk,Relu6:()=>He.Sb,Reshape:()=>He.HZ,ResizeBilinear:()=>He._Y,ResizeBilinearGrad:()=>He.zb,ResizeNearestNeighbor:()=>He.dp,ResizeNearestNeighborGrad:()=>He.Hm,Reverse:()=>He.mK,RotateWithOffset:()=>He.b9,Round:()=>He.e0,Rsqrt:()=>He.bV,SGDOptimizer:()=>Nt,ScatterNd:()=>He.xQ,SelectV2:()=>He.xc,Selu:()=>He.oF,Sigmoid:()=>He.a5,Sign:()=>He.i5,Sin:()=>He.RQ,Sinh:()=>He.w3,Slice:()=>He.p2,Softmax:()=>He.Gc,Softplus:()=>He.MR,SpaceToBatchND:()=>He.TQ,SparseToDense:()=>He.D2,SplitV:()=>He.L8,Sqrt:()=>He.FK,Square:()=>He.bK,SquaredDifference:()=>He._t,Step:()=>He.h8,StridedSlice:()=>He.m2,Sub:()=>He.Tr,Sum:()=>He.GB,Tan:()=>He.sE,Tanh:()=>He.MI,Tensor:()=>fe.es,TensorBuffer:()=>fe.YD,Tile:()=>He.n9,TopK:()=>He.cW,Transpose:()=>He.G3,Unique:()=>He.kp,Unpack:()=>He.To,UnsortedSegmentSum:()=>He.Qv,Variable:()=>fe._w,ZerosLike:()=>He.Ru,_FusedMatMul:()=>He.us,abs:()=>Yt.WnP,acos:()=>Yt.Khb,acosh:()=>Yt.__u,add:()=>Yt.IHx,addN:()=>Yt.QBD,addStrict:()=>Yt.zqr,all:()=>Yt.$6P,any:()=>Yt.YjB,argMax:()=>Yt.NqF,argMin:()=>Yt.vHJ,asin:()=>Yt.ZRM,asinh:()=>Yt.VfV,atan:()=>Yt.z4N,atan2:()=>Yt.fvJ,atanh:()=>Yt.C80,avgPool:()=>Yt.wS1,avgPool3d:()=>Yt.uR5,backend:()=>ct.y3,backend_util:()=>d,basicLSTMCell:()=>Yt.zEQ,batchNorm:()=>Yt.tgs,batchNorm2d:()=>Yt.Dxk,batchNorm3d:()=>Yt.JY5,batchNorm4d:()=>Yt.p3b,batchToSpaceND:()=>Yt.E4h,booleanMaskAsync:()=>Yt.anm,broadcastTo:()=>Yt.UFq,browser:()=>o,buffer:()=>Yt.f3b,cast:()=>Yt.pju,ceil:()=>Yt.mDi,clipByValue:()=>Yt.iUl,clone:()=>Yt.d9v,complex:()=>Yt.PYB,concat:()=>Yt.zoF,concat1d:()=>Yt.gME,concat2d:()=>Yt.Izb,concat3d:()=>Yt.MNy,concat4d:()=>Yt.ZaL,conv1d:()=>Yt.PAt,conv2d:()=>Yt.Tek,conv2dTranspose:()=>Yt.bc,conv3d:()=>Yt.pdZ,conv3dTranspose:()=>Yt.$QV,copyRegisteredKernels:()=>Be.T3,cos:()=>Yt.mCk,cosh:()=>Yt.f9Y,cosineWindow:()=>Yt.mew,cumsum:()=>Yt.zbp,customGrad:()=>yt.cb,deprecationWarn:()=>ct.MX,depthToSpace:()=>Yt.nTT,depthwiseConv2d:()=>Yt.B10,device_util:()=>a,diag:()=>Yt.Ka3,dilation2d:()=>Yt.WmZ,disableDeprecationWarnings:()=>ct.cF,dispose:()=>ct.B9,disposeVariables:()=>ct.N8,div:()=>Yt.hiC,divNoNan:()=>Yt.NTj,divStrict:()=>Yt.sz_,dot:()=>Yt.AKD,dropout:()=>Yt.rvX,elu:()=>Yt.pyx,enableDebugMode:()=>ct.R,enableProdMode:()=>ct.G4,enclosingPowerOfTwo:()=>Yt.GRh,engine:()=>ct.SR,env:()=>f.OB,equal:()=>Yt.DgJ,equalStrict:()=>Yt.zVC,erf:()=>Yt.qNN,exp:()=>Yt.Qqt,expandDims:()=>Yt.dt4,expm1:()=>Yt.t$B,eye:()=>Yt.iyy,fft:()=>Yt.kp_,fill:()=>Yt.hlL,findBackend:()=>ct.x3,findBackendFactory:()=>ct.ze,floor:()=>Yt.GWj,floorDiv:()=>Yt.qPi,fused:()=>Yt.imm,gather:()=>Yt.Iqj,gatherND:()=>Yt.dbB,gather_util:()=>i,getBackend:()=>ct.N_,getGradient:()=>Be.uk,getKernel:()=>Be.pI,getKernelsForBackend:()=>Be.tr,grad:()=>yt.UQ,grads:()=>yt.ti,greater:()=>Yt.pjt,greaterEqual:()=>Yt.brS,greaterEqualStrict:()=>Yt.bZ8,greaterStrict:()=>Yt.g1k,ifft:()=>Yt.Sxn,imag:()=>Yt.asL,image:()=>Yt.BHj,inTopKAsync:()=>Yt.V3u,io:()=>r,irfft:()=>Yt.wx0,isFinite:()=>Yt.xVT,isInf:()=>Yt.UWc,isNaN:()=>Yt.i2d,keep:()=>ct.Cn,kernel_impls:()=>c,leakyRelu:()=>Yt.hi7,less:()=>Yt.d9m,lessEqual:()=>Yt.zN1,lessEqualStrict:()=>Yt.SFm,lessStrict:()=>Yt.O_u,linalg:()=>Yt.$r2,linspace:()=>Yt.SX3,localResponseNormalization:()=>Yt.G9k,log:()=>Yt.cM7,log1p:()=>Yt.Krr,logSigmoid:()=>Yt.e_t,logSoftmax:()=>Yt.CmS,logSumExp:()=>Yt.l_t,logicalAnd:()=>Yt.HvI,logicalNot:()=>Yt.hJK,logicalOr:()=>Yt.K5V,logicalXor:()=>Yt.egP,losses:()=>Yt.MB5,matMul:()=>Yt.OI3,math:()=>s,max:()=>Yt.Fp7,maxPool:()=>Yt._sB,maxPool3d:()=>Yt.YQQ,maxPoolWithArgmax:()=>Yt.Ip$,maximum:()=>Yt.gWQ,maximumStrict:()=>Yt._jk,mean:()=>Yt.J69,memory:()=>ct.sq,min:()=>Yt.VV$,minimum:()=>Yt.LTh,minimumStrict:()=>Yt.Wzl,mirrorPad:()=>Yt.VdP,mod:()=>Yt.wQq,modStrict:()=>Yt.IrJ,moments:()=>Yt.Gi7,movingAverage:()=>Yt.p_,mul:()=>Yt.dC7,mulStrict:()=>Yt.NT4,multiRNNCell:()=>Yt.rq4,multinomial:()=>Yt.SJ_,neg:()=>Yt.W76,nextFrame:()=>Pt,norm:()=>Yt.KOy,notEqual:()=>Yt.Quu,notEqualStrict:()=>Yt.FGK,oneHot:()=>Yt.lfX,ones:()=>Yt.iUs,onesLike:()=>Yt.JpU,op:()=>Yt.op,outerProduct:()=>Yt.N2O,pad:()=>Yt.vku,pad1d:()=>Yt.pNR,pad2d:()=>Yt.koy,pad3d:()=>Yt.t1L,pad4d:()=>Yt.lGY,pool:()=>Yt.d_R,pow:()=>Yt.sQ3,powStrict:()=>Yt.Lfl,prelu:()=>Yt.AL3,print:()=>Yt.S0v,prod:()=>Yt.WVs,profile:()=>ct.N5,rand:()=>Yt.TN_,randomGamma:()=>Yt.wzB,randomNormal:()=>Yt.nGf,randomUniform:()=>Yt.LGj,range:()=>Yt.w6H,ready:()=>ct.Cd,real:()=>Yt.kwC,reciprocal:()=>Yt.M25,registerBackend:()=>ct.jq,registerGradient:()=>Be.Li,registerKernel:()=>Be.wC,relu:()=>Yt.UYe,relu6:()=>Yt.btT,removeBackend:()=>ct.cj,reshape:()=>Yt.XLQ,reverse:()=>Yt.GYS,reverse1d:()=>Yt.SDf,reverse2d:()=>Yt.diP,reverse3d:()=>Yt.sx7,reverse4d:()=>Yt.mG2,rfft:()=>Yt.QEs,round:()=>Yt.NMM,rsqrt:()=>Yt.bp0,scalar:()=>Yt.iD$,scatterND:()=>Yt.snQ,scatter_util:()=>Ge,selu:()=>Yt.U8D,separableConv2d:()=>Yt.U_I,serialization:()=>u,setBackend:()=>ct.CQ,setPlatform:()=>ct.VY,setdiff1dAsync:()=>Yt.ODp,sigmoid:()=>Yt.XD2,sign:()=>Yt.Xxe,signal:()=>Yt.tdS,sin:()=>Yt.O$l,sinh:()=>Yt.R_K,slice:()=>Yt.tPi,slice1d:()=>Yt.jZU,slice2d:()=>Yt.SmN,slice3d:()=>Yt.CnO,slice4d:()=>Yt.p0P,slice_util:()=>qe,softmax:()=>Yt.XAC,softplus:()=>Yt.Wvh,spaceToBatchND:()=>Yt.fBT,sparseToDense:()=>Yt.ers,spectral:()=>Yt.uN7,split:()=>Yt.Vl2,sqrt:()=>Yt._b3,square:()=>Yt.h62,squaredDifference:()=>Yt.$i,squaredDifferenceStrict:()=>Yt.r7z,squeeze:()=>Yt.L9e,stack:()=>Yt.knu,step:()=>Yt.Nbs,stridedSlice:()=>Yt.NXj,sub:()=>Yt.luU,subStrict:()=>Yt.ULw,sum:()=>Yt.Smz,sumOutType:()=>At.z4,tan:()=>Yt.ORZ,tanh:()=>Yt.AEp,tensor:()=>Yt.XeE,tensor1d:()=>Yt.RRF,tensor2d:()=>Yt.odF,tensor3d:()=>Yt.wOQ,tensor4d:()=>Yt.yXz,tensor5d:()=>Yt.Bfx,tensor6d:()=>Yt.xZs,tensor_util:()=>Qe,test_util:()=>l,tidy:()=>ct.lu,tile:()=>Yt.Gg6,time:()=>ct.XV,topk:()=>Yt.hg7,train:()=>Ot,transpose:()=>Yt.p4s,truncatedNormal:()=>Yt.Xu6,unique:()=>Yt.Two,unregisterGradient:()=>Be.bt,unregisterKernel:()=>Be.nE,unsortedSegmentSum:()=>Yt.pUJ,unstack:()=>Yt.HHK,upcastType:()=>At.x8,util:()=>lt,valueAndGrad:()=>yt.h7,valueAndGrads:()=>yt.fN,variable:()=>Yt.VD$,variableGrads:()=>yt.pn,version_core:()=>dt,where:()=>Yt.arb,whereAsync:()=>Yt.itS,zeros:()=>Yt.lls,zerosLike:()=>Yt.P84});var a={};n.r(a),n.d(a,{isBrowser:()=>m,isMobile:()=>p});var r={};n.r(r),n.d(r,{browserFiles:()=>ve,browserHTTPRequest:()=>Ie,concatenateArrayBuffers:()=>L,copyModel:()=>ie,decodeWeights:()=>k,encodeWeights:()=>x,fromMemory:()=>Ee,getLoadHandlers:()=>Y,getModelArtifactsInfoForJSON:()=>D,getSaveHandlers:()=>A,http:()=>De,isHTTPScheme:()=>Le,listModels:()=>se,loadWeights:()=>Me,moveModel:()=>ue,registerLoadRouter:()=>E,registerSaveRouter:()=>C,removeModel:()=>oe,weightsLoaderFactory:()=>we,withSaveHandler:()=>Ae});var s={};n.r(s),n.d(s,{confusionMatrix:()=>Pe});var o={};n.r(o),n.d(o,{fromPixels:()=>Ve,toPixels:()=>je});var i={};n.r(i),n.d(i,{prepareAndValidate:()=>Ue});var u={};n.r(u),n.d(u,{Serializable:()=>Xe,SerializationMap:()=>Ke,registerClass:()=>Je});var l={};n.r(l),n.d(l,{TEST_EPSILON_FLOAT16:()=>Ze,expectArrayBuffersEqual:()=>ut,expectArraysClose:()=>et,expectArraysEqual:()=>rt,expectNumbersClose:()=>st,expectPromiseToFail:()=>at,expectValuesInRange:()=>it,testEpsilon:()=>tt});var d={};n.r(d),n.d(d,{ERF_A1:()=>an,ERF_A2:()=>rn,ERF_A3:()=>sn,ERF_A4:()=>on,ERF_A5:()=>un,ERF_P:()=>nn,PARALLELIZE_THRESHOLD:()=>Gt.g,SELU_SCALE:()=>tn,SELU_SCALEALPHA:()=>en,applyActivation:()=>Ut.QH,assertAndGetBroadcastShape:()=>zt.$N,assertAxesAreInnerMostDims:()=>Wt.lB,assertParamsConsistent:()=>jt.o,assignToTypedArray:()=>_n,axesAreInnerMostDims:()=>Wt.YB,calculateShapes:()=>Ge.calculateShapes,castTensor:()=>xn,combineLocations:()=>Wt.Vh,complexWithEvenIndex:()=>pn,complexWithOddIndex:()=>mn,computeConv2DInfo:()=>Vt.Ix,computeConv3DInfo:()=>Vt.jw,computeDefaultPad:()=>Vt.aO,computeDilation2DInfo:()=>Vt.Rf,computeOptimalWindowSize:()=>Gt.A,computeOutAndReduceShapes:()=>Wt.kz,computeOutShape:()=>jt.N,computePool2DInfo:()=>Vt.Xw,computePool3DInfo:()=>Vt.pl,convertConv2DDataFormat:()=>Vt.sl,eitherStridesOrDilationsAreOne:()=>Vt.jT,expandShapeToKeepDim:()=>Wt.rv,exponent:()=>yn,exponents:()=>gn,getAxesPermutation:()=>Wt.Q3,getBroadcastDims:()=>zt.XF,getComplexWithIndex:()=>fn,getFusedBiasGradient:()=>Ut.pf,getFusedDyActivation:()=>Ut.Fr,getImageCenter:()=>qt,getInnerMostAxes:()=>Wt.sY,getPermuted:()=>Kt,getReductionAxes:()=>zt.RR,getReshaped:()=>Xt,getReshapedPermuted:()=>Jt,getSliceBeginCoords:()=>Qt,getSliceSize:()=>Zt,getUndoAxesPermutation:()=>Wt.LJ,linspaceImpl:()=>Mn,log:()=>dn,mergeRealAndImagArrays:()=>cn,prepareAndValidate:()=>Ue,prepareSplitSize:()=>bn.O,reshapeTensor:()=>kn,segment_util:()=>vn,shouldFuse:()=>Ut.uy,slice_util:()=>qe,splitRealAndImagArrays:()=>hn,tupleValuesAreOne:()=>Vt.I0,upcastType:()=>At.x8,validateInput:()=>Ge.validateInput,validateUpdateShape:()=>Ge.validateUpdateShape,warn:()=>ln});var c={};n.r(c),n.d(c,{nonMaxSuppressionV3Impl:()=>wn.GP,nonMaxSuppressionV4Impl:()=>wn.qP,nonMaxSuppressionV5Impl:()=>wn.pA,split:()=>Ln,tile:()=>Sn,topkImpl:()=>Dn,whereImpl:()=>In.Z});var h=n(7097);function p(){if("undefined"!=typeof navigator&&null!=navigator){const e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function m(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var f=n(2885);const _=(0,f.OB)();_.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),_.registerFlag("IS_BROWSER",(()=>m())),_.registerFlag("IS_NODE",(()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node)),_.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),_.registerFlag("PROD",(()=>!1)),_.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>_.getBool("DEBUG"))),_.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),_.registerFlag("IS_TEST",(()=>!1));var g=n(1661),y=n(701),b=n(569);const v={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};async function x(e,t){const n=[],a=[],r=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let s=0;s<r.length;++s){const o=r[s],i=Array.isArray(e)?e[s].tensor:e[o];if("float32"!==i.dtype&&"int32"!==i.dtype&&"bool"!==i.dtype&&"string"!==i.dtype&&"complex64"!==i.dtype)throw new Error(`Unsupported dtype in weight '${o}': ${i.dtype}`);const u={name:o,shape:i.shape,dtype:i.dtype};if("string"===i.dtype){const e=new Promise((async e=>{const t=await i.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+4*t.length,a=new Uint8Array(n);let r=0;for(let e=0;e<t.length;e++){const n=t[e],s=new Uint8Array(new Uint32Array([n.length]).buffer);a.set(s,r),r+=4,a.set(n,r),r+=n.length}e(a)}));a.push(e)}else a.push(i.data());null!=t&&(u.group=t),n.push(u)}return{data:M(await Promise.all(a)),specs:n}}function k(e,t){const n={};let a,r=0;for(const s of t){const t=s.name,o=s.dtype,i=s.shape,u=(0,b.NA)(i);let l;if("quantization"in s){const n=s.quantization;if("uint8"===n.dtype||"uint16"===n.dtype){if(!("min"in n)||!("scale"in n))throw new Error(`Weight ${s.name} with quantization ${n.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==n.dtype)throw new Error(`Weight ${s.name} has unknown quantization dtype ${n.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==o)throw new Error(`Weight ${s.name} is quantized with ${n.dtype} which only supports weights of type float32 not ${o}.`)}const i=v[n.dtype],d=e.slice(r,r+u*i),c="uint8"===n.dtype?new Uint8Array(d):new Uint16Array(d);if("float32"===o)if("uint8"===n.dtype||"uint16"===n.dtype){l=new Float32Array(c.length);for(let e=0;e<c.length;e++){const t=c[e];l[e]=t*n.scale+n.min}}else{if("float16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type float32.`);void 0===a&&(a=I()),l=a(c)}else{if("int32"!==o)throw new Error(`Unsupported dtype in weight '${t}': ${o}`);if("uint8"!==n.dtype&&"uint16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type int32.`);l=new Int32Array(c.length);for(let e=0;e<c.length;e++){const t=c[e];l[e]=Math.round(t*n.scale+n.min)}}r+=u*i}else if("string"===o){const t=(0,b.NA)(s.shape);l=[];for(let n=0;n<t;n++){const t=new Uint32Array(e.slice(r,r+4))[0];r+=4;const n=new Uint8Array(e.slice(r,r+t));l.push(n),r+=t}}else{const a=v[o],s=e.slice(r,r+u*a);if("float32"===o)l=new Float32Array(s);else if("int32"===o)l=new Int32Array(s);else if("bool"===o)l=new Uint8Array(s);else{if("complex64"!==o)throw new Error(`Unsupported dtype in weight '${t}': ${o}`);{l=new Float32Array(s);const e=new Float32Array(l.length/2),a=new Float32Array(l.length/2);for(let t=0;t<e.length;t++)e[t]=l[2*t],a[t]=l[2*t+1];const r=(0,y.X)(e,i,"float32"),o=(0,y.X)(a,i,"float32");n[t]=(0,g.P)(r,o),r.dispose(),o.dispose()}}r+=u*a}"complex64"!==o&&(n[t]=(0,y.X)(l,i,o))}return n}function M(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const a=new Uint8Array(t);let r=0;return n.forEach((e=>{a.set(new Uint8Array(e.buffer),r),r+=e.byteLength})),a.buffer}const w="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function T(e){return w?Buffer.byteLength(e):new Blob([e]).size}function L(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const n=new Uint8Array(t);let a=0;return e.forEach((e=>{n.set(new Uint8Array(e),a),a+=e.byteLength})),n.buffer}function S(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function D(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:T(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:T(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function I(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0==(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return a=>{const r=new ArrayBuffer(4*a.length),s=new Uint32Array(r);for(let r=0;r<a.length;r++){const o=a[r],i=e[n[o>>10]+(1023&o)]+t[o>>10];s[r]=i}return new Float32Array(r)}}class N{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==N.instance&&(N.instance=new N),N.instance}static registerSaveRouter(e){N.getInstance().saveRouters.push(e)}static registerLoadRouter(e){N.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return N.getHandlers(e,"save")}static getLoadHandlers(e,t){return N.getHandlers(e,"load",t)}static getHandlers(e,t,n){const a=[];return("load"===t?N.getInstance().loadRouters:N.getInstance().saveRouters).forEach((t=>{const r=t(e,n);null!==r&&a.push(r)})),a}}const C=e=>N.registerSaveRouter(e),E=e=>N.registerLoadRouter(e),A=e=>N.getSaveHandlers(e),Y=(e,t)=>N.getLoadHandlers(e,t),F="tensorflowjs",R="models_store",O="model_info_store";function $(){if(!(0,f.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function P(e){const t=e.result;t.createObjectStore(R,{keyPath:"modelPath"}),t.createObjectStore(O,{keyPath:"modelPath"})}class H{constructor(e){if(this.indexedDB=$(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const a=this.indexedDB.open(F,1);a.onupgradeneeded=()=>P(a),a.onsuccess=()=>{const r=a.result;if(null==t){const t=r.transaction(R,"readonly"),a=t.objectStore(R).get(this.modelPath);a.onsuccess=()=>{if(null==a.result)return r.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(a.result.modelArtifacts)},a.onerror=e=>(r.close(),n(a.error)),t.oncomplete=()=>r.close()}else{const a=D(t),s=r.transaction(O,"readwrite");let o=s.objectStore(O);const i=o.put({modelPath:this.modelPath,modelArtifactsInfo:a});let u;i.onsuccess=()=>{u=r.transaction(R,"readwrite");const i=u.objectStore(R).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:a});i.onsuccess=()=>e({modelArtifactsInfo:a}),i.onerror=e=>{o=s.objectStore(O);const t=o.delete(this.modelPath);t.onsuccess=()=>(r.close(),n(i.error)),t.onerror=e=>(r.close(),n(i.error))}},i.onerror=e=>(r.close(),n(i.error)),s.oncomplete=()=>{null==u?r.close():u.oncomplete=()=>r.close()}}},a.onerror=e=>n(a.error)}))}}H.URL_SCHEME="indexeddb://";const B=e=>{return(0,f.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(H.URL_SCHEME)?(t=e.slice(H.URL_SCHEME.length),new H(t)):null;var t};N.registerSaveRouter(B),N.registerLoadRouter(B);class W{constructor(){this.indexedDB=$()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(F,1);n.onupgradeneeded=()=>P(n),n.onsuccess=()=>{const a=n.result,r=a.transaction(O,"readonly"),s=r.objectStore(O).getAll();s.onsuccess=()=>{const t={};for(const e of s.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},s.onerror=e=>(a.close(),t(s.error)),r.oncomplete=()=>a.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(H.URL_SCHEME)?t.slice(H.URL_SCHEME.length):t,new Promise(((t,n)=>{const a=this.indexedDB.open(F,1);a.onupgradeneeded=()=>P(a),a.onsuccess=()=>{const r=a.result,s=r.transaction(O,"readwrite"),o=s.objectStore(O),i=o.get(e);let u;i.onsuccess=()=>{if(null==i.result)return r.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const a=o.delete(e),s=()=>{u=r.transaction(R,"readwrite");const a=u.objectStore(R).delete(e);a.onsuccess=()=>t(i.result.modelArtifactsInfo),a.onerror=e=>n(i.error)};a.onsuccess=s,a.onerror=e=>(s(),r.close(),n(i.error))}},i.onerror=e=>(r.close(),n(i.error)),s.oncomplete=()=>{null==u?r.close():u.oncomplete=()=>r.close()}},a.onerror=e=>n(a.error)}))}}const z="/",j="tensorflowjs_models",V="info",U="model_topology",G="weight_specs",q="weight_data",X="model_metadata";function K(e){return{info:[j,e,V].join(z),topology:[j,e,U].join(z),weightSpecs:[j,e,G].join(z),weightData:[j,e,q].join(z),modelMetadata:[j,e,X].join(z)}}function J(e){const t=e.split(z);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(z)}class Q{constructor(e){if(!(0,f.OB)().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=K(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),a=D(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(w)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let e=0,a=t.length;e<a;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),{modelArtifactsInfo:a}}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==a)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=a;const r=this.LS.getItem(this.keys.modelMetadata);if(null!=r){const e=JSON.parse(r);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,t.userDefinedMetadata=e.userDefinedMetadata}const s=this.LS.getItem(this.keys.weightData);if(null==s)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(w){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n.set([t.charCodeAt(e)],e);return n.buffer}(s),t}}Q.URL_SCHEME="localstorage://";const Z=e=>{return(0,f.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Q.URL_SCHEME)?(t=e.slice(Q.URL_SCHEME.length),new Q(t)):null;var t};N.registerSaveRouter(Z),N.registerLoadRouter(Z);class ee{constructor(){(0,b.hu)((0,f.OB)().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),(0,b.hu)("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=j+z,n=z+V;for(let a=0;a<this.LS.length;++a){const r=this.LS.key(a);r.startsWith(t)&&r.endsWith(n)&&(e[J(r)]=JSON.parse(this.LS.getItem(r)))}return e}async removeModel(e){var t;const n=K(e=(t=e).startsWith(Q.URL_SCHEME)?t.slice(Q.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const a=JSON.parse(this.LS.getItem(n.info));return this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),a}}const te="://";class ne{constructor(){this.managers={}}static getInstance(){return null==ne.instance&&(ne.instance=new ne),ne.instance}static registerManager(e,t){(0,b.hu)(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(te)&&(e=e.slice(0,e.indexOf(te))),(0,b.hu)(e.length>0,(()=>"scheme must not be an empty string."));const n=ne.getInstance();(0,b.hu)(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=this.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(this.getInstance().managers)}}function ae(e){if(-1===e.indexOf(te))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${ne.getSchemes().join(",")}`);return{scheme:e.split(te)[0],path:e.split(te)[1]}}async function re(e,t,n=!1){(0,b.hu)(e!==t,(()=>`Old path and new path are the same: '${e}'`));const a=N.getLoadHandlers(e);(0,b.hu)(a.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),(0,b.hu)(a.length<2,(()=>`Copying failed because more than one (${a.length}) load handlers for source URL ${e}.`));const r=a[0],s=N.getSaveHandlers(t);(0,b.hu)(s.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),(0,b.hu)(s.length<2,(()=>`Copying failed because more than one (${a.length}) save handlers for destination URL ${t}.`));const o=s[0],i=ae(e).scheme,u=ae(e).path,l=i===ae(e).scheme,d=await r.load();n&&l&&await ne.getManager(i).removeModel(u);const c=await o.save(d);return n&&!l&&await ne.getManager(i).removeModel(u),c.modelArtifactsInfo}async function se(){const e=ne.getSchemes(),t={};for(const n of e){const e=await ne.getManager(n).listModels();for(const a in e)t[n+te+a]=e[a]}return t}async function oe(e){const t=ae(e);return ne.getManager(t.scheme).removeModel(t.path)}async function ie(e,t){return re(e,t,!1)}async function ue(e,t){return re(e,t,!0)}class le{fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}}if((0,f.OB)().get("IS_BROWSER")){(0,f.OB)().setPlatform("browser",new le);try{ne.registerManager(Q.URL_SCHEME,new ee)}catch(e){}try{ne.registerManager(H.URL_SCHEME,new W)}catch(e){}}let de;(0,f.OB)().get("IS_NODE")&&(0,f.OB)().setPlatform("node",new class{constructor(){this.util=n(1758),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=(0,f.OB)().global.fetch?(0,f.OB)().global.fetch(e,t):(null==de&&(de=n(8352)),de(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}});var ce=n(2657),he=n(2271),pe=n(8723),me=n(9798),fe=n(4077);(0,h.wv)();const _e={buffer:ce.f,cast:he.p,clone:pe.d,print:me.S};function ge(e){return new Promise((e=>setTimeout(e))).then(e)}(0,fe.Vp)(_e);class ye{constructor(e){if(!(0,f.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(ye.URL_SCHEME)&&(e=e.slice(ye.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelTopologyFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},r=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),s=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor;if(s.download=this.modelTopologyFileName,s.href=r,await ge((()=>s.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await ge((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:D(e)}}}}ye.URL_SCHEME="downloads://";class be{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.files=e}async load(){const e=this.files[0],t=this.files.slice(1);return new Promise(((n,a)=>{const r=new FileReader;r.onload=r=>{const s=JSON.parse(r.target.result),o=s.modelTopology;if(null==o)return void a(new Error(`modelTopology field is missing from file ${e.name}`));0===t.length&&n({modelTopology:o});const i=s.weightsManifest;if(null==i)return void a(new Error(`weightManifest field is missing from file ${e.name}`));let u;try{u=this.checkManifestAndWeightFiles(i,t)}catch(e){return void a(e)}const l=[],d=[],c=[];i.forEach((e=>{e.paths.forEach((e=>{d.push(e),c.push(null)})),l.push(...e.weights)})),i.forEach((e=>{e.paths.forEach((e=>{const t=new FileReader;t.onload=t=>{const a=t.target.result,r=d.indexOf(e);c[r]=a,-1===c.indexOf(null)&&n({modelTopology:o,weightSpecs:l,weightData:L(c),format:s.format,generatedBy:s.generatedBy,convertedBy:s.convertedBy,userDefinedMetadata:s.userDefinedMetadata})},t.onerror=t=>a(`Failed to weights data from file of path '${e}'.`),t.readAsArrayBuffer(u[e])}))}))},r.onerror=t=>a(`Failed to read model topology and weights manifest JSON from file '${e.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(e)}))}checkManifestAndWeightFiles(e,t){const n=[],a=t.map((e=>S(e.name))),r={};for(const s of e)s.paths.forEach((e=>{const s=S(e);if(-1!==n.indexOf(s))throw new Error(`Duplicate file basename found in weights manifest: '${s}'`);if(n.push(s),-1===a.indexOf(s))throw new Error(`Weight file with basename '${s}' is not provided.`);r[e]=t[a.indexOf(s)]}));if(n.length!==t.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${t.length}).`);return r}}function ve(e){return new be(e)}function xe(e,t,n,a){!function(e){(0,b.hu)(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){(0,b.hu)(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),(0,b.hu)(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),(0,b.hu)(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,a=null==a?1:a);let r=0;return Promise.all(e.map((s=>(s.then((s=>{const o=n+ ++r/e.length*(a-n);return t(o),s})),s))))}async function ke(e,t){null==t&&(t={});const n=null==t.fetchFunc?(0,f.OB)().platform.fetch:t.fetchFunc,a=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),r=(null==t.onProgress?await Promise.all(a):await xe(a,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(r):await xe(r,t.onProgress,.5,1)}async function Me(e,t="",n,a){return we((e=>ke(e,{requestInit:a})))(e,t,n)}function we(e){return async(t,n="",a)=>{const r=t.map((()=>!1)),s={},o=null!=a?a.map((()=>!1)):[],i=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const u="quantization"in e?e.quantization.dtype:e.dtype,l=v[u]*b.NA(e.shape),d=()=>{r[t]=!0,null==s[t]&&(s[t]=[]),s[t].push({manifestEntry:e,groupOffset:n,sizeBytes:l})};null!=a?a.forEach(((t,n)=>{t===e.name&&(d(),o[n]=!0)})):d(),i.push(e.name),n+=l}))})),!o.every((e=>e))){const e=a.filter(((e,t)=>!o[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${i.join(", ")}.`)}const u=r.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),l=[];u.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;l.push(t)}))}));const d=await e(l),c={};let h=0;return u.forEach((e=>{const n=t[e].paths.length;let a=0;for(let e=0;e<n;e++)a+=d[h+e].byteLength;const r=new ArrayBuffer(a),o=new Uint8Array(r);let i=0;for(let e=0;e<n;e++){const t=new Uint8Array(d[h+e]);o.set(t,i),i+=t.byteLength}s[e].forEach((e=>{const t=k(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const e in t)c[e]=t[e]})),h+=n})),c}}N.registerSaveRouter((e=>(0,f.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ye.URL_SCHEME)?function(e="model"){return new ye(e)}(e.slice(ye.URL_SCHEME.length)):null));class Te{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?((0,b.hu)("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=(0,f.OB)().platform.fetch,(0,b.hu)(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&(0,b.hu)(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n};t.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:D(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,a=t.weightsManifest,r=t.generatedBy,s=t.convertedBy,o=t.format,i=t.userDefinedMetadata;if(null==n&&null==a)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);let u,l;if(null!=a){const e=await this.loadWeights(a);[u,l]=e}const d={modelTopology:n,weightSpecs:u,weightData:l,userDefinedMetadata:i,generatedBy:r,convertedBy:s,format:o},c=t.modelInitializer;return c&&(d.modelInitializer=c),d}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,a]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=this.weightPathPrefix||n,s=[];for(const t of e)s.push(...t.weights);const o=[],i=[];for(const t of e)for(const e of t.paths)null!=this.weightUrlConverter?i.push(this.weightUrlConverter(e)):o.push(r+e+a);return this.weightUrlConverter&&o.push(...await Promise.all(i)),[s,L(await ke(o,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress}))]}}function Le(e){return null!=e.match(Te.URL_SCHEME_REGEX)}Te.URL_SCHEME_REGEX=/^https?:\/\//;const Se=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>Le(e))):Le(e),n)return De(e,t)}return null};function De(e,t){return new Te(e,t)}function Ie(e,t){return De(e,t)}N.registerSaveRouter(Se),N.registerLoadRouter(Se);class Ne{constructor(e){this.modelArtifacts=e}async load(){return this.modelArtifacts}}class Ce{constructor(e){this.saveHandler=e}async save(e){return this.saveHandler(e)}}function Ee(e,t,n,a){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new Ne(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ne({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ne({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:a}))}function Ae(e){return new Ce(e)}var Ye=n(3740),Fe=n(8687),Re=n(6708),Oe=n(2668),$e=n(9065);const Pe=(0,Oe.op)({confusionMatrix_:function(e,t,n){const a=(0,Ye._1)(e,"labels","confusionMatrix"),r=(0,Ye._1)(t,"predictions","confusionMatrix");b.hu(null==n||n>0&&Number.isInteger(n),(()=>`If provided, numClasses must be a positive integer, but got ${n}`)),b.hu(1===a.rank,(()=>`Expected the rank of labels to be 1, but got ${a.rank}`)),b.hu(1===r.rank,(()=>`Expected the rank of predictions to be 1, but got ${r.rank}`)),b.hu(a.shape[0]===r.shape[0],(()=>`Mismatch in the number of examples: ${a.shape[0]} vs. ${r.shape[0]}. Labels and predictions should have the same number of elements.`)),b.hu(n>0&&Number.isInteger(n),(()=>`numClasses is required to be a positive integer, but got ${n}`));const s=(0,Re.l)((0,he.p)(a,"int32"),n),o=(0,Re.l)((0,he.p)(r,"int32"),n),i=(0,$e.p)(s),u=(0,Fe.O)(i,o);return(0,he.p)(u,"int32")}});var He=n(9121),Be=n(6151),We=n(9906);let ze;async function je(e,t){let n=(0,Ye._1)(e,"img","toPixels");if(!(e instanceof fe.es)){const e=n;n=(0,he.p)(e,"int32"),e.dispose()}if(2!==n.rank&&3!==n.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[a,r]=n.shape.slice(0,2),s=2===n.rank?1:n.shape[2];if(s>4||2===s)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${s}`);if("float32"!==n.dtype&&"int32"!==n.dtype)throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`);const o=await n.data(),i="float32"===n.dtype?255:1,u=new Uint8ClampedArray(r*a*4);for(let e=0;e<a*r;++e){const t=[0,0,0,255];for(let a=0;a<s;a++){const r=o[e*s+a];if("float32"===n.dtype){if(r<0||r>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${r}.`)}else if("int32"===n.dtype&&(r<0||r>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${r}.`);1===s?(t[0]=r*i,t[1]=r*i,t[2]=r*i):t[a]=r*i}const a=4*e;u[a+0]=Math.round(t[0]),u[a+1]=Math.round(t[1]),u[a+2]=Math.round(t[2]),u[a+3]=Math.round(t[3])}if(null!=t){t.width=r,t.height=a;const e=t.getContext("2d"),n=new ImageData(u,r,a);e.putImageData(n,0,0)}return n!==e&&n.dispose(),u}const Ve=(0,Oe.op)({fromPixels_:function(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,a=!1,r=!1,s=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)a=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)r=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)s=!0;else{if(null==e.getContext)throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);o=!0}if(r){const t=2;if(r&&e.readyState<t)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=(0,Be.pI)(He.eB,h.BV.backendName)){const n={pixels:e},a={numChannels:t};return h.BV.runKernel(He.eB,n,a)}const[i,u]=r?[e.videoWidth,e.videoHeight]:[e.width,e.height];let l,d;if(o?l=e.getContext("2d").getImageData(0,0,i,u).data:a||n?l=e.data:(s||r)&&(null==ze&&(ze=document.createElement("canvas").getContext("2d")),ze.canvas.width=i,ze.canvas.height=u,ze.drawImage(e,0,0,i,u),l=ze.getImageData(0,0,i,u).data),4===t)d=new Int32Array(l);else{const e=i*u;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=l[4*n+e]}const c=[u,i,t];return(0,We.w)(d,c,"int32")}});function Ue(e,t){if(e.rank<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[t.rank-1]>e.rank)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[t.rank-1]} vs. ${e.rank}`);if(0===e.size)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const n=t.shape,a=n[n.length-1];let r=1;for(let e=0;e<n.length-1;++e)r*=n[e];const s=e.shape,o=n.slice();o.pop();let i=1;for(let t=a;t<e.rank;++t)i*=s[t],o.push(s[t]);const u=[...(0,b.e3)(e.shape).map((e=>e/i)),1].slice(0,a);return[o,r,i,u]}var Ge=n(3028),qe=n(7650);class Xe{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class Ke{constructor(){this.classNameMap={}}static getMap(){return null==Ke.instance&&(Ke.instance=new Ke),Ke.instance}static register(e){Ke.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Je(e){(0,b.hu)(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),(0,b.hu)("string"==typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),(0,b.hu)(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),Ke.register(e)}var Qe=n(747);const Ze=.1;function et(e,t,n){return null==n&&(n=tt()),nt(e,t,((e,t)=>ot(e,t,n)))}function tt(){return 32===h.BV.backend.floatPrecision()?.001:Ze}function nt(e,t,n){let a=!0;if(((0,b.fU)(e)||(0,b.fU)(t))&&(a=!1),(0,b.fU)(e)&&(0,b.fU)(t)&&(a=!0),a){const n=e.constructor.name,a=t.constructor.name;if(n!==a)throw new Error(`Arrays are of different type. Actual: ${n}. Expected: ${a}`)}if(Array.isArray(e)&&Array.isArray(t)){const n=(0,Ye.C)(e),a=(0,Ye.C)(t);if(!(0,b.cO)(n,a))throw new Error(`Arrays have different shapes. Actual: [${n}]. Expected: [${a}]`)}const r=(0,b.fU)(e)?e:(0,b.xH)(e),s=(0,b.fU)(t)?t:(0,b.xH)(t);if(r.length!==s.length)throw new Error(`Arrays have different lengths actual: ${r.length} vs expected: ${s.length}.\nActual:   ${r}.\nExpected: ${s}.`);for(let e=0;e<s.length;++e){const t=r[e],a=s[e];if(!n(t,a))throw new Error(`Arrays differ: actual[${e}] = ${t}, expected[${e}] = ${a}.\nActual:   ${r}.\nExpected: ${s}.`)}}function at(e,t){e().then((()=>t.fail()),(()=>t()))}function rt(e,t){const n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return(0,b.HD)(e)||(0,b.HD)(e[0])||(0,b.HD)(t)||(0,b.HD)(t[0])?nt(e,n,((e,t)=>e==t)):nt(e,t,((e,t)=>ot(e,t,0)))}function st(e,t,n){if(null==n&&(n=tt()),!ot(e,t,n))throw new Error(`Numbers differ: actual === ${e}, expected === ${t}`)}function ot(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function it(e,t,n){for(let a=0;a<e.length;a++)if(e[a]<t||e[a]>n)throw new Error(`Value out of range:${e[a]} low: ${t}, high: ${n}`)}function ut(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}var lt=n(9155);const dt="2.7.0";var ct=n(4368),ht=n(6407),pt=n(1274),mt=n(4841),ft=n(3261),_t=n(248),gt=n(6577),yt=n(633),bt=n(9494);class vt extends Xe{minimize(e,t=!1,n){const{value:a,grads:r}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:r[e.name]})));this.applyGradients(e)}else this.applyGradients(r);return(0,ct.B9)(r),t?a:(a.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return(0,yt.pn)(e,t)}dispose(){null!=this.iterations_&&(0,ct.B9)(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:(0,bt.i)(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(vt,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class xt extends vt{constructor(e,t,n=null){super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=h.BV.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=h.BV.registeredVariables[t];null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:(0,ct.lu)((()=>(0,gt.P)(a).variable(!1)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:(0,ct.lu)((()=>(0,gt.P)(a).variable(!1)))});const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const s=this.accumulatedGrads[n].variable,o=this.accumulatedUpdates[n].variable;(0,ct.lu)((()=>{const e=(0,ht.I)((0,mt.d)(s,this.rho),(0,mt.d)((0,_t.h)(r),1-this.rho)),t=(0,mt.d)((0,pt.h)((0,ft._)((0,ht.I)(o,this.epsilon)),(0,ft._)((0,ht.I)(s,this.epsilon))),r),n=(0,ht.I)((0,mt.d)(o,this.rho),(0,mt.d)((0,_t.h)(t),1-this.rho));s.assign(e),o.assign(n);const i=(0,ht.I)((0,mt.d)(t,-this.learningRate),a);a.assign(i)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&((0,ct.B9)(this.accumulatedGrads.map((e=>e.variable))),(0,ct.B9)(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(!1)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(!1)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}xt.className="Adadelta",Je(xt);var kt=n(4006);class Mt extends vt{constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=h.BV.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:(0,ct.lu)((()=>(0,kt.h)(a.shape,this.initialAccumulatorValue).variable(e)))}}const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const s=this.accumulatedGrads[n].variable;(0,ct.lu)((()=>{const e=(0,ht.I)(s,(0,_t.h)(r));s.assign(e);const t=(0,ht.I)((0,mt.d)((0,pt.h)(r,(0,ft._)((0,ht.I)(e,h.BV.backend.epsilon()))),-this.learningRate),a);a.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&(0,ct.B9)(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(!1)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}Mt.className="Adagrad",Je(Mt);var wt=n(3453),Tt=n(827);class Lt extends vt{constructor(e,t,n,a=null){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=a,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],(0,ct.lu)((()=>{this.accBeta1=(0,bt.i)(t).variable(),this.accBeta2=(0,bt.i)(n).variable()})),null==a&&(this.epsilon=h.BV.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);(0,ct.lu)((()=>{const n=(0,Tt.l)(1,this.accBeta1),a=(0,Tt.l)(1,this.accBeta2);t.forEach(((t,r)=>{const s=h.BV.registeredVariables[t];null==this.accumulatedFirstMoment[r]&&(this.accumulatedFirstMoment[r]={originalName:`${t}/m`,variable:(0,ct.lu)((()=>(0,gt.P)(s).variable(!1)))}),null==this.accumulatedSecondMoment[r]&&(this.accumulatedSecondMoment[r]={originalName:`${t}/v`,variable:(0,ct.lu)((()=>(0,gt.P)(s).variable(!1)))});const o=Array.isArray(e)?e[r].tensor:e[t];if(null==o)return;const i=this.accumulatedFirstMoment[r].variable,u=this.accumulatedSecondMoment[r].variable,l=(0,ht.I)((0,mt.d)(i,this.beta1),(0,mt.d)(o,1-this.beta1)),d=(0,ht.I)((0,mt.d)(u,this.beta2),(0,mt.d)((0,_t.h)(o),1-this.beta2)),c=(0,pt.h)(l,n),p=(0,pt.h)(d,a);i.assign(l),u.assign(d);const m=(0,ht.I)((0,mt.d)((0,pt.h)(c,(0,ht.I)((0,ft._)(p),this.epsilon)),-this.learningRate),s);s.assign(m)})),this.accBeta1.assign((0,mt.d)(this.accBeta1,this.beta1)),this.accBeta2.assign((0,mt.d)(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,ct.B9)(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&(0,ct.B9)(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),(0,ct.lu)((()=>{this.accBeta1.assign((0,wt.s)(this.beta1,this.iterations_+1)),this.accBeta2.assign((0,wt.s)(this.beta2,this.iterations_+1))}));const t=e.length/2;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(!1)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(!1)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}Lt.className="Adam",Je(Lt);var St=n(6235),Dt=n(632);class It extends vt{constructor(e,t,n,a=null,r=0){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=a,this.decay=r,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],(0,ct.lu)((()=>{this.iteration=(0,bt.i)(0).variable(),this.accBeta1=(0,bt.i)(t).variable()})),null==a&&(this.epsilon=h.BV.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);(0,ct.lu)((()=>{const n=(0,Tt.l)(1,this.accBeta1),a=(0,pt.h)(-this.learningRate,(0,ht.I)((0,mt.d)(this.iteration,this.decay),1));t.forEach(((t,r)=>{const s=h.BV.registeredVariables[t];null==this.accumulatedFirstMoment[r]&&(this.accumulatedFirstMoment[r]={originalName:`${t}/m`,variable:(0,gt.P)(s).variable(!1)}),null==this.accumulatedWeightedInfNorm[r]&&(this.accumulatedWeightedInfNorm[r]={originalName:`${t}/v`,variable:(0,gt.P)(s).variable(!1)});const o=Array.isArray(e)?e[r].tensor:e[t];if(null==o)return;const i=this.accumulatedFirstMoment[r].variable,u=this.accumulatedWeightedInfNorm[r].variable,l=(0,ht.I)((0,mt.d)(i,this.beta1),(0,mt.d)(o,1-this.beta1)),d=(0,mt.d)(u,this.beta2),c=(0,St.W)(o),p=(0,Dt.g)(d,c);i.assign(l),u.assign(p);const m=(0,ht.I)((0,mt.d)((0,pt.h)(a,n),(0,pt.h)(l,(0,ht.I)(p,this.epsilon))),s);s.assign(m)})),this.iteration.assign((0,ht.I)(this.iteration,1)),this.accBeta1.assign((0,mt.d)(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,ct.B9)(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&(0,ct.B9)(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}It.className="Adamax",Je(It);class Nt extends vt{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const r=h.BV.registeredVariables[t];(0,ct.lu)((()=>{const e=(0,ht.I)((0,mt.d)(this.c,a),r);r.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=(0,ct.Cn)((0,bt.i)(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}Nt.className="SGD",Je(Nt);class Ct extends Nt{constructor(e,t,n=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=(0,bt.i)(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=h.BV.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:(0,ct.lu)((()=>(0,gt.P)(a).variable(e)))}}const r=this.accumulations[n].variable,s=Array.isArray(e)?e[n].tensor:e[t];null!=s&&(0,ct.lu)((()=>{let e;const t=(0,ht.I)((0,mt.d)(this.m,r),s);e=this.useNesterov?(0,ht.I)((0,mt.d)(this.c,(0,ht.I)(s,(0,mt.d)(t,this.m))),a):(0,ht.I)((0,mt.d)(this.c,t),a),r.assign(t),a.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&(0,ct.B9)(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(!1)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}Ct.className="Momentum",Je(Ct);class Et extends vt{constructor(e,t=.9,n=0,a=null,r=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=a,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=r,null==a&&(this.epsilon=h.BV.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=h.BV.registeredVariables[t],r=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:(0,ct.lu)((()=>(0,gt.P)(a).variable(r)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:(0,ct.lu)((()=>(0,gt.P)(a).variable(r)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:(0,ct.lu)((()=>(0,gt.P)(a).variable(r)))});const s=Array.isArray(e)?e[n].tensor:e[t];if(null==s)return;const o=this.accumulatedMeanSquares[n].variable,i=this.accumulatedMoments[n].variable;(0,ct.lu)((()=>{const e=(0,ht.I)((0,mt.d)(o,this.decay),(0,mt.d)((0,_t.h)(s),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,r=(0,ht.I)((0,mt.d)(t,this.decay),(0,mt.d)(s,1-this.decay)),u=(0,pt.h)((0,mt.d)(s,this.learningRate),(0,ft._)((0,Tt.l)(e,(0,ht.I)((0,_t.h)(r),this.epsilon)))),l=(0,ht.I)((0,mt.d)(i,this.momentum),u);o.assign(e),t.assign(r),i.assign(l);const d=(0,Tt.l)(a,l);a.assign(d)}else{const e=(0,ht.I)((0,mt.d)(o,this.decay),(0,mt.d)((0,_t.h)(s),1-this.decay)),t=(0,ht.I)((0,mt.d)(i,this.momentum),(0,pt.h)((0,mt.d)(s,this.learningRate),(0,ft._)((0,ht.I)(e,this.epsilon))));o.assign(e),i.assign(t);const n=(0,Tt.l)(a,t);a.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&(0,ct.B9)(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&(0,ct.B9)(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&(0,ct.B9)(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}Et.className="RMSProp",Je(Et);var At=n(1221),Yt=n(1395),Ft=n(9876);class Rt{static sgd(e){return new Nt(e)}static momentum(e,t,n=!1){return new Ct(e,t,n)}static rmsprop(e,t=.9,n=0,a=null,r=!1){return new Et(e,t,n,a,r)}static adam(e=.001,t=.9,n=.999,a=null){return new Lt(e,t,n,a)}static adadelta(e=.001,t=.95,n=null){return new xt(e,t,n)}static adamax(e=.002,t=.9,n=.999,a=null,r=0){return new It(e,t,n,a,r)}static adagrad(e,t=.1){return new Mt(e,t)}}const Ot={sgd:Rt.sgd,momentum:Rt.momentum,adadelta:Rt.adadelta,adagrad:Rt.adagrad,rmsprop:Rt.rmsprop,adamax:Rt.adamax,adam:Rt.adam},$t="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();function Pt(){return new Promise((e=>$t((()=>e()))))}var Ht=n(6092),Bt=n(9640),Wt=n(3591),zt=n(2200),jt=n(398),Vt=n(2582),Ut=n(9323),Gt=n(5466);function qt(e,t,n){return[n*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}function Xt(e,t,n,a=!0){let r=[];if(a)r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let a=0;a<n;++a)r=r.concat([e[a+1]/t[a],t[a]]);r=r.concat(e.slice(n+1))}return r}function Kt(e,t,n=!0){const a=[];if(n){a.push(t);for(let n=t+1;n<e;++n)n<=2*t?(a.push(n),a.push(n-(t+1))):a.push(n)}else{const n=[],r=[];for(let a=1;a<e;++a)a>=2*t+1||a%2==1?r.push(a):n.push(a);a.push(...n),a.push(0),a.push(...r)}return a}function Jt(e,t,n,a=!0){const r=[];a?r.push(e[0]/n):r.push(e[0]*n);for(let n=1;n<e.length;++n)n<=t.length?a?r.push(t[n-1]*e[n]):r.push(e[n]/t[n-1]):r.push(e[n]);return r}function Qt(e,t){const n=[0];for(let a=0;a<t;++a)n.push(e[a][0]);return n}function Zt(e,t,n){const a=e.slice(0,1);for(let r=0;r<n;++r)a.push(e[r+1]-t[r][0]-t[r][1]);return a}const en=1.7580993408473768,tn=1.0507009873554805,nn=.3275911,an=.254829592,rn=-.284496736,sn=1.421413741,on=-1.453152027,un=1.061405429;function ln(...e){(0,f.OB)().getBool("IS_TEST")||console.warn(...e)}function dn(...e){(0,f.OB)().getBool("IS_TEST")||console.log(...e)}function cn(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let a=0;a<n.length;a+=2)n[a]=e[a/2],n[a+1]=t[a/2];return n}function hn(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let a=0;a<e.length;a+=2)t[a/2]=e[a],n[a/2]=e[a+1];return{real:t,imag:n}}function pn(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),a=new Float32Array(t);for(let t=0;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],a[Math.floor(t/4)]=e[t+1];return{real:n,imag:a}}function mn(e){const t=Math.floor(e.length/4),n=new Float32Array(t),a=new Float32Array(t);for(let t=2;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],a[Math.floor(t/4)]=e[t+1];return{real:n,imag:a}}function fn(e,t){return{real:e[2*t],imag:e[2*t+1]}}function _n(e,t,n,a){e[2*a]=t,e[2*a+1]=n}function gn(e,t){const n=new Float32Array(e/2),a=new Float32Array(e/2);for(let r=0;r<Math.ceil(e/2);r++){const s=(t?2:-2)*Math.PI*(r/e);n[r]=Math.cos(s),a[r]=Math.sin(s)}return{real:n,imag:a}}function yn(e,t,n){const a=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(a),imag:Math.sin(a)}}var bn=n(4099),vn=n(4931);function xn(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();const t=(0,Bt.l)(e.shape),a=(0,he.p)(e,"float32"),r=n.complex(a,t);return t.dispose(),a.dispose(),r}if(!(0,b.QB)(e.dtype,t))return h.BV.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){const a=n.real(e),r=(0,he.p)(a,t);return a.dispose(),r}if("int32"===t)return n.int(e);if("bool"===t){const t=(0,bt.i)(0,e.dtype),a=n.notEqual(e,t);return t.dispose(),a}throw new Error(`Error in Cast: failed to cast ${e.dtype} to ${t}`)}function kn(e,t){return h.BV.makeTensorFromDataId(e.dataId,t,e.dtype)}function Mn(e,t,n){const a=(t-e)/(n-1),r=(0,b.wT)(n,"float32");r[0]=e;for(let e=1;e<r.length;e++)r[e]=r[e-1]+a;return(0,Ht.R)(r,"float32")}var wn=n(2055),Tn=n(2676);function Ln(e,t,n){const a=new Array(e.rank).fill(0),r=e.shape.slice();return t.map((t=>{const s=[...r];s[n]=t;const o=(0,Tn.t)(e,a,s);return a[n]+=t,o}))}function Sn(e,t){const n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];const a=(0,ce.f)(n,e.dtype);for(let t=0;t<a.values.length;++t){const n=a.indexToLoc(t),r=new Array(e.rank);for(let t=0;t<r.length;t++)r[t]=n[t]%e.shape[t];const s=e.locToIndex(r);a.values[t]=e.values[s]}return a.toTensor()}function Dn(e,t,n,a,r){const s=t[t.length-1],[o,i]=[e.length/s,s],u=(0,b.WP)(n,o*a),l=(0,b.WP)("int32",o*a);for(let t=0;t<o;t++){const n=t*i,r=e.subarray(n,n+i),s=[];for(let e=0;e<r.length;e++)s.push({value:r[e],index:e});s.sort(((e,t)=>t.value-e.value));const o=t*a,d=u.subarray(o,o+a),c=l.subarray(o,o+a);for(let e=0;e<a;e++)d[e]=s[e].value,c[e]=s[e].index}const d=t.slice();return d[d.length-1]=a,[(0,y.X)(u,d,n),(0,y.X)(l,d,"int32")]}var In=n(8333),Nn=n(8713),Cn=n(1901);const En={kernelName:He.SY,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,mt.d)(e,(0,Cn.N)((0,he.p)(n,"float32"),-1))}}};var An=n(7370);const Yn={kernelName:He.VG,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,_t.h)((0,he.p)(n,"float32")),a=(0,ft._)((0,Tt.l)((0,bt.i)(1),t));return(0,An.W)((0,pt.h)(e,a))}}}},Fn={kernelName:He.Sp,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,ft._)((0,Tt.l)((0,_t.h)((0,he.p)(n,"float32")),1));return(0,pt.h)(e,t)}}}};var Rn=n(4968),On=n(5475);const $n={kernelName:He.mm,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=zt.$N(n.shape,a.shape);return{a:()=>{let t=e;const a=zt.RR(n.shape,r);return a.length>0&&(t=(0,On.S)(t,a)),(0,Rn.X)(t,n.shape)},b:()=>{let t=e;const n=zt.RR(a.shape,r);return n.length>0&&(t=(0,On.S)(t,n)),(0,Rn.X)(t,a.shape)}}}},Pn={kernelName:He.Xz,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,a)=>{n[a]=()=>e.clone()})),n}},Hn={kernelName:He.sJ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,gt.P)(n)}}},Bn={kernelName:He.aJ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,gt.P)(n)}}},Wn={kernelName:He.M2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,pt.h)(e,(0,ft._)((0,Tt.l)((0,bt.i)(1),(0,_t.h)((0,he.p)(n,"float32")))))}}},zn={kernelName:He.qw,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,ft._)((0,ht.I)((0,bt.i)(1),(0,_t.h)((0,he.p)(n,"float32"))));return(0,pt.h)(e,t)}}}},jn={kernelName:He.QC,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=(0,zt.$N)(n.shape,a.shape);return{a:()=>{const t=(0,ht.I)((0,_t.h)(n),(0,_t.h)(a));let s=(0,mt.d)(e,(0,pt.h)(a,t));const o=(0,zt.RR)(n.shape,r);return o.length>0&&(s=(0,On.S)(s,o)),(0,Rn.X)(s,n.shape)},b:()=>{const t=(0,ht.I)((0,_t.h)(n),(0,_t.h)(a));let s=(0,An.W)((0,mt.d)(e,(0,pt.h)(n,t)));const o=(0,zt.RR)(a.shape,r);return o.length>0&&(s=(0,On.S)(s,o)),(0,Rn.X)(s,a.shape)}}}},Vn={kernelName:He.jM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,pt.h)(e,(0,ht.I)((0,_t.h)((0,he.p)(n,"float32")),1))}}},Un={kernelName:He.Oy,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,pt.h)(e,(0,Tt.l)((0,bt.i)(1),(0,_t.h)((0,he.p)(n,"float32"))))}}},Gn=(0,Oe.op)({avgPool3dBackprop_:function(e,t,n,a,r=[1,1,1],s,o){const i=(0,Ye._1)(e,"dy","avgPool3dBackprop"),u=(0,Ye._1)(t,"input","avgPool3dBackprop");let l=i,d=u,c=!1;4===u.rank&&(c=!0,l=(0,Rn.X)(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),d=(0,Rn.X)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),b.hu(5===l.rank,(()=>`Error in avgPool3dBackprop: dy must be rank 5 but got rank ${l.rank}.`)),b.hu(5===d.rank,(()=>`Error in avgPool3dBackprop: input must be rank 5 but got rank ${d.rank}.`)),b.hu(Vt.jT(a,r),(()=>`Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides ${a} and dilations '${r}'`)),null!=o&&b.hu(b.GN(s),(()=>`Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode ${o} but got pad ${s}.`));const p={dy:l,input:d},m={filterSize:n,strides:a,dilations:r,pad:s,dimRoundingMode:o},f=h.BV.runKernelFunc((e=>{const t=Vt.pl(d.shape,n,a,r,s,o);return e.avgPool3dBackprop(l,d,t)}),p,null,He.DC,m);return c?(0,Rn.X)(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}}),qn={kernelName:He._k,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{filterSize:r,strides:s,dilations:o,pad:i,dimRoundingMode:u}=n,l=null==o?[1,1,1]:o;return{x:()=>Gn(e,a,r,s,l,i,u)}}},Xn=(0,Oe.op)({avgPoolBackprop_:function(e,t,n,a,r){const s=(0,Ye._1)(e,"dy","avgPoolBackprop"),o=(0,Ye._1)(t,"input","avgPoolBackprop");b.hu(o.rank===s.rank,(()=>`Rank of input (${o.rank}) does not match rank of dy (${s.rank})`));let i=o,u=s,l=!1;3===o.rank&&(l=!0,i=(0,Rn.X)(o,[1,o.shape[0],o.shape[1],o.shape[2]]),u=(0,Rn.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]])),b.hu(4===u.rank,(()=>`Error in avgPoolBackprop: dy must be rank 4 but got rank ${u.rank}.`)),b.hu(4===i.rank,(()=>`Error in avgPoolBackprop: input must be rank 4 but got rank ${i.rank}.`));const d={dy:u,input:i},c={filterSize:n,strides:a,pad:r},p=h.BV.runKernelFunc((e=>{const t=Vt.Xw(i.shape,n,a,1,r);return e.avgPoolBackprop(u,i,t)}),d,null,He.xt,c);return l?(0,Rn.X)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),Kn={kernelName:He.Jh,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{filterSize:r,strides:s,pad:o}=n;return{x:()=>Xn(e,a,r,s,o)}}},Jn={kernelName:He.XL,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[a,r]=t,{transposeA:s,transposeB:o}=n;return s||o?!s&&o?{a:()=>(0,Fe.O)(e,r,!1,!1),b:()=>(0,Fe.O)(e,a,!0,!1)}:s&&!o?{a:()=>(0,Fe.O)(r,e,!1,!0),b:()=>(0,Fe.O)(a,e,!1,!1)}:{a:()=>(0,Fe.O)(r,e,!0,!0),b:()=>(0,Fe.O)(e,a,!0,!0)}:{a:()=>(0,Fe.O)(e,r,!1,!0),b:()=>(0,Fe.O)(a,e,!0,!1)}}};var Qn=n(7918);const Zn={kernelName:He.zw,gradFunc:(e,t,n)=>{const{blockShape:a,crops:r}=n;return{x:()=>(0,Qn.f)(e,a,r)}}},ea={kernelName:He.Ly,gradFunc:(e,t,n)=>{const a=n,r=a.inputShape,s=a.shape,o=Array.from(s);for(let e=r.length-1;e>=0;e--)if(r[e]===s[e])o[e]=1;else if(1!==r[e])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${s}].`);const i=[];for(let e=0;e<o.length;e++)o[e]>1&&i.push(e);return{x:()=>(0,On.S)(e,i,!0)}}},ta={kernelName:He.RF,gradFunc:e=>({x:()=>e.clone()})},na={kernelName:He.gJ,gradFunc:e=>({x:()=>(0,gt.P)(e)})};var aa=n(7630),ra=n(624),sa=n(2856),oa=n(5912);const ia={kernelName:He.xn,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{clipValueMin:r,clipValueMax:s}=n;return{x:()=>(0,oa.a)((0,sa.H)((0,aa.b)(a,r),(0,ra.z)(a,s)),e,(0,gt.P)(e))}}};var ua=n(8644);const la={kernelName:He.Eh,saveAllInputs:!0,gradFunc:(e,t,n)=>{const a=t.map((e=>e.shape)),{axis:r}=n,s=(0,b.EC)(r,t[0].shape)[0],o=a.map((e=>e[s]));return(0,ua.V)(e,o,s).map((e=>()=>e))}};var da=n(6013),ca=n(9832);const ha={kernelName:He.mh,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[a,r]=t,{dilations:s,strides:o,pad:i,dataFormat:u}=n;return b.hu(Vt.I0(s),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`)),{x:()=>(0,ca._)(a.shape,e,r,o,i,u),filter:()=>(0,da.p)(a,e,r.shape,o,i,u)}}};var pa=n(4794);const ma={kernelName:He.wm,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[a,r]=t,{strides:s,pad:o,dataFormat:i,dimRoundingMode:u}=n;return{dy:()=>(0,pa.T)(e,r,s,o,i,1,u),filter:()=>(0,da.p)(e,a,r.shape,s,o,i,u)}}},fa=(0,Oe.op)({conv3DBackpropFilter_:function(e,t,n,a,r){let s=e;4===e.rank&&(s=(0,Rn.X)(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let o=t;4===o.rank&&(o=(0,Rn.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),b.hu(5===s.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${s.shape}.`)),b.hu(5===o.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${o.shape}.`)),b.hu(5===n.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`)),b.hu(s.shape[4]===n[3],(()=>`Error in conv3dDerFilter: depth of input ${s.shape[4]}) must match input depth in filter (${n[3]}.`)),b.hu(o.shape[4]===n[4],(()=>`Error in conv3dDerFilter: depth of dy (${o.shape[4]}) must match output depth for filter (${n[4]}).`));const i={x:s,dy:o},u={strides:a,pad:r,filterShape:n};return h.BV.runKernelFunc((e=>{const t=Vt.jw(s.shape,n,a,1,r);return e.conv3dDerFilter(s,o,t)}),i,null,He.o2,u)}});var _a=n(7594);const ga={kernelName:He.x1,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:a,strides:r,pad:s}=n;b.hu((0,Vt.I0)(a),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`));const[o,i]=t;return{x:()=>(0,_a._)(o.shape,e,i,r,s),filter:()=>fa(o,e,i.shape,r,s)}}};var ya=n(9331);const ba={kernelName:He.mc,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,mt.d)((0,An.W)((0,ya.O)((0,he.p)(n,"float32"))),e)}}};var va=n(3254);const xa={kernelName:He.TR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,mt.d)((0,va.R)((0,he.p)(n,"float32")),e)}}};var ka=n(7405);const Ma={kernelName:He.iH,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{axis:r,exclusive:s,reverse:o}=n;return{x:()=>{const t=(0,Wt.Q3)([r],a.rank);let n=(0,ka.z)(e,r,s,!o);return null!=t&&(n=(0,$e.p)(n,t)),n}}}};var wa=n(8098),Ta=n(4375);const La={kernelName:He.ci,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:a,strides:r,pad:s,dimRoundingMode:o}=n,i=null==a?[1,1]:a;b.hu(Vt.I0(i),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${i}'`));const[u,l]=t;return b.hu(4===u.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${u.rank}.`)),b.hu(4===l.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${l.rank}.`)),b.hu(u.shape[3]===l.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${u.shape[3]}) must match the inChannels dimension in filter ${l.shape[2]}.`)),b.hu(Vt.jT(r,i),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${r} and dilations '${i}'.`)),null!=o&&b.hu(b.GN(s),(()=>`Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode ${o} but got pad ${s}.`)),{x:()=>(0,Ta.v)(u.shape,e,l,r,s,a,o),filter:()=>(0,wa.z)(u,e,l.shape,r,s,a,o)}}},Sa={kernelName:He.p4,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[a,r]=t,s={x:a,filter:r,dy:e},o={x:a,filter:r,dy:e};return{x:()=>h.BV.runKernel(He.ek,s,n),filter:()=>h.BV.runKernel(He.Vn,o,n)}}},Da={kernelName:He.ZC,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=zt.$N(n.shape,a.shape);return{a:()=>{const t=(0,pt.h)(e,(0,he.p)(a,"float32")),s=zt.RR(n.shape,r);return s.length>0?(0,Rn.X)((0,On.S)(t,s),n.shape):t},b:()=>{let t=(0,mt.d)(e,(0,he.p)(n,"float32"));const s=zt.RR(a.shape,r);s.length>0&&(t=(0,Rn.X)((0,On.S)(t,s),a.shape));const o=(0,_t.h)(a);return(0,An.W)((0,pt.h)(t,(0,he.p)(o,"float32")))}}}},Ia={kernelName:He.SX,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,a=t=>t.eluDer(e,n),r={dy:e,y:n};return{x:()=>h.BV.runKernelFunc(a,r,null,He.HE)}}};var Na=n(4842);const Ca={kernelName:He.Om,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,a=(0,mt.d)((0,Na.Q)((0,An.W)((0,_t.h)(n))),2/Math.sqrt(Math.PI));return{x:()=>(0,mt.d)(e,a)}}},Ea={kernelName:He.NE,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,mt.d)(e,n)}}},Aa={kernelName:He.Y0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,mt.d)(e,(0,Na.Q)(n))}}},Ya={kernelName:He.OR,gradFunc:e=>({x:()=>(0,gt.P)(e)})},Fa={kernelName:He.je,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=(0,zt.$N)(n.shape,a.shape);return{a:()=>{const t=(0,pt.h)(e,(0,he.p)(a,"float32")),s=(0,zt.RR)(n.shape,r);return s.length>0?(0,Rn.X)((0,On.S)(t,s),n.shape):t},b:()=>{let t=(0,mt.d)(e,(0,he.p)(n,"float32"));const s=(0,zt.RR)(a.shape,r);s.length>0&&(t=(0,Rn.X)((0,On.S)(t,s),a.shape));const o=(0,_t.h)(a);return(0,An.W)((0,pt.h)(t,(0,he.p)(o,"float32")))}}}};var Ra=n(2634),Oa=n(7501);const $a={kernelName:He.sH,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:a}=n,[r,s,o,i]=t,u=null==i?(0,bt.i)(1):i,l=(0,zt.RR)(s.shape,r.shape),d=[];if(1===s.rank){for(let e=0;e<r.shape.length-1;++e)d.push(r.shape[e]);d.push(1)}const c=(0,Tt.l)(r,s),h=(0,mt.d)(e,u),p=(0,Ra.b)((0,ht.I)(o,(0,bt.i)(a))),m=(0,mt.d)((0,mt.d)((0,mt.d)(p,p),p),(0,bt.i)(-.5));return{x:()=>1===s.rank?(0,Rn.X)((0,mt.d)((0,mt.d)(e,(0,Oa.G)((0,Rn.X)(p,[1,1,1,s.shape[0]]),d)),u),r.shape):(0,Rn.X)((0,mt.d)((0,mt.d)(e,p),u),r.shape),mean:()=>{let e=(0,mt.d)((0,mt.d)(p,(0,bt.i)(-1)),h);return 1===s.rank&&(e=(0,On.S)(e,l)),(0,Rn.X)(e,s.shape)},variance:()=>{let e=(0,mt.d)((0,mt.d)(m,c),h);return 1===s.rank&&(e=(0,On.S)(e,l)),(0,Rn.X)(e,s.shape)},scale:()=>{const t=(0,mt.d)(c,p);let n=(0,mt.d)(e,t);return 1===s.rank&&(n=(0,On.S)(n,l)),(0,Rn.X)(n,s.shape)},offset:()=>{let t=e;return 1===s.rank&&(t=(0,On.S)(t,l)),(0,Rn.X)(t,s.shape)}}}};var Pa=n(8749);const Ha={kernelName:He.qi,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[a,r]=t,{axis:s}=n,o=(0,b.EC)(s,a.shape)[0];return{x:()=>{const t=a.shape,n=r.size,i=t.slice(0,o),u=i.length,l=t.slice(s,t.length).slice(1),d=l.length,c=Ba(0,u),h=Ba(u+1,u+1+d),p=Wa([i,[n],l]),m=(0,Rn.X)(e,p),f=(0,Rn.X)(r,[n]),_=Wa([[u],c,h]),g=(0,$e.p)(m,_);let y=(0,Pa.p)(g,f,a.shape[o]);const b=(0,Wt.LJ)(_);return y=(0,$e.p)(y,b),y},indices:()=>r}}};function Ba(e,t){const n=[];for(let a=e;a<t;++a)n.push(a);return n}function Wa(e){const t=[];for(let n=0;n<e.length;++n)for(let a=0;a<e[n].length;++a)t.push(e[n][a]);return t}const za={kernelName:He.Ac,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t;return{a:()=>(0,gt.P)(n),b:()=>(0,gt.P)(a)}}},ja={kernelName:He.iJ,gradFunc:e=>({x:()=>(0,he.p)(e,"float32")})},Va={kernelName:He.av,gradFunc:e=>({x:()=>(0,gt.P)(e)})},Ua={kernelName:He.iW,gradFunc:e=>({x:()=>(0,gt.P)(e)})},Ga={kernelName:He.r7,gradFunc:e=>({x:()=>(0,gt.P)(e)})},qa={kernelName:He.kU,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,pt.h)(e,(0,ht.I)(n,1))}}},Xa={kernelName:He.Zb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,pt.h)(e,(0,he.p)(n,"float32"))}}},Ka={kernelName:He.qC,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a]=t,{axis:r}=n;return{logits:()=>{const t=(0,Na.Q)(a);return(0,Tt.l)(e,(0,mt.d)((0,On.S)(e,r,!0),t))}}}},Ja=(0,Oe.op)({localResponseNormalizationBackprop_:function(e,t,n,a=5,r=1,s=1,o=.5){const i={x:e,y:t,dy:n},u={depthRadius:a,bias:r,alpha:s,beta:o};return h.BV.runKernelFunc((i=>i.LRNGrad(n,e,t,a,r,s,o)),i,null,He.vI,u)}}),Qa={kernelName:He.eZ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a,r]=t,{depthRadius:s,bias:o,alpha:i,beta:u}=n;return{x:()=>Ja(a,r,e,s,o,i,u)}}};var Za=n(6477);function er(e,t,n,a){return t.rank<n.rank&&(t=(0,Rn.X)(t,Wt.rv(t.shape,a))),e.rank<n.rank&&(e=(0,Rn.X)(e,Wt.rv(e.shape,a))),{x:()=>(0,mt.d)(e,(0,he.p)((0,Za.D)(n,t),e.dtype))}}const tr={kernelName:He.Yo,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const a=n,{reductionIndices:r}=a,s=t[0],o=er(e,t[1],s,b.EC(r,s.shape));return{x:()=>o.x()}}};var nr=n(6573);const ar={kernelName:He.BM,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t;return{a:()=>(0,mt.d)(e,(0,he.p)((0,aa.b)(n,a),"float32")),b:()=>(0,mt.d)(e,(0,he.p)((0,nr.d)(n,a),"float32"))}}},rr=(0,Oe.op)({maxPool3dBackprop_:function(e,t,n,a,r,s=[1,1,1],o,i){const u=(0,Ye._1)(e,"dy","maxPool3dBackprop"),l=(0,Ye._1)(t,"input","maxPool3dBackprop"),d=(0,Ye._1)(n,"output","maxPool3dBackprop");let c=u,p=l,m=d,f=!1;4===l.rank&&(f=!0,c=(0,Rn.X)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),p=(0,Rn.X)(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),m=(0,Rn.X)(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]])),b.hu(5===c.rank,(()=>`Error in maxPool3dBackprop: dy must be rank 5 but got rank ${c.rank}.`)),b.hu(5===p.rank,(()=>`Error in maxPool3dBackprop: input must be rank 5 but got rank ${p.rank}.`)),b.hu(5===m.rank,(()=>`Error in maxPool3dBackprop: output must be rank 5 but got rank ${m.rank}.`)),b.hu(Vt.jT(r,s),(()=>`Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides ${r} and dilations '${s}'`)),null!=i&&b.hu(b.GN(o),(()=>`Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode ${i} but got pad ${o}.`));const _={dy:c,input:p,output:m},g={filterSize:a,strides:r,dilations:s,pad:o,dimRoundingMode:i},y=h.BV.runKernelFunc((e=>{const t=Vt.pl(p.shape,a,r,s,o,i);return e.maxPool3dBackprop(c,p,m,t)}),_,null,He.f,g);return f?(0,Rn.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}}),sr={kernelName:He.OA,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a,r]=t,{filterSize:s,strides:o,dilations:i,pad:u,dimRoundingMode:l}=n,d=null==i?[1,1,1]:i;return{x:()=>rr(e,a,r,s,o,d,u,l)}}},or=(0,Oe.op)({maxPoolBackprop_:function(e,t,n,a,r,s,o){const i=(0,Ye._1)(e,"dy","maxPoolBackprop"),u=(0,Ye._1)(t,"input","maxPoolBackprop"),l=(0,Ye._1)(n,"output","maxPoolBackprop");b.hu(u.rank===i.rank,(()=>`Rank of input (${u.rank}) does not match rank of dy (${i.rank})`)),b.hu(4===i.rank,(()=>`Error in maxPoolBackprop: dy must be rank 4 but got rank ${i.rank}.`)),b.hu(4===u.rank,(()=>`Error in maxPoolBackprop: input must be rank 4 but got rank ${u.rank}.`)),null!=o&&b.hu(b.GN(s),(()=>`Error in maxPoolBackprop: pad must be an integer when using, dimRoundingMode ${o} but got pad ${s}.`));const d={dy:i,input:u,output:l},c={filterSize:a,strides:r,pad:s,dimRoundingMode:o};return h.BV.runKernelFunc((e=>{const t=Vt.Xw(u.shape,a,r,1,s,o);return e.maxPoolBackprop(i,u,l,t)}),d,null,He.Gv,c)}}),ir={kernelName:He.mT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a,r]=t,{filterSize:s,strides:o,pad:i}=n;return{x:()=>or(e,a,r,s,o,i)}}},ur={kernelName:He.c1,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const a=n,{axis:r}=a,[s,o]=t,i=er(e,o,s,b.EC(r,s.shape));return{x:()=>i.x()}}};var lr=n(636);const dr={kernelName:He.q8,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t;return{a:()=>(0,mt.d)(e,(0,he.p)((0,ra.z)(n,a),"float32")),b:()=>(0,mt.d)(e,(0,he.p)((0,lr.p)(n,a),"float32"))}}},cr={kernelName:He.jQ,inputsToSave:["x"],gradFunc:(e,t,n)=>{const a=t[0],{paddings:r}=n,s=r.map((e=>e[0]));return{x:()=>(0,Tn.t)(e,s,a.shape)}}};var hr=n(6943);const pr={kernelName:He.Vb,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=(0,zt.$N)(n.shape,a.shape);return{a:()=>{const t=(0,zt.RR)(n.shape,r);return t.length>0?(0,Rn.X)((0,On.S)(e,t),n.shape):e},b:()=>{const t=(0,mt.d)(e,(0,An.W)((0,hr.G)((0,pt.h)(n,a)))),s=(0,zt.RR)(a.shape,r);return s.length>0?(0,Rn.X)((0,On.S)(t,s),a.shape):t}}}},mr={kernelName:He.wY,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=(0,zt.$N)(n.shape,a.shape);return{a:()=>{const t=(0,mt.d)(e,(0,he.p)(a,"float32")),s=(0,zt.RR)(n.shape,r);return s.length>0?(0,Rn.X)((0,On.S)(t,s),n.shape):t},b:()=>{const t=(0,mt.d)(e,(0,he.p)(n,"float32")),s=(0,zt.RR)(a.shape,r);return s.length>0?(0,Rn.X)((0,On.S)(t,s),a.shape):t}}}},fr={kernelName:He.L0,gradFunc:e=>({x:()=>(0,An.W)(e)})},_r={kernelName:He.we,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>(0,Bt.l)(n.shape,"float32")}}},gr={kernelName:He.qW,gradFunc:e=>({x:()=>(0,gt.P)(e)})},yr={kernelName:He.ly,inputsToSave:["x"],gradFunc:(e,t,n)=>{const a=t[0],{paddings:r}=n,s=r.map((e=>e[0]));return{x:()=>(0,Tn.t)(e,s,a.shape)}}};var br=n(2597);const vr={kernelName:He.pe,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,a,r]=t,s=n,o=a,i=zt.$N(s.shape,o.shape);return{a:()=>{const t=(0,he.p)(o,"float32");let n=(0,mt.d)(e,(0,mt.d)(t,(0,wt.s)(s,(0,Tt.l)(t,(0,bt.i)(1)))));const a=zt.RR(s.shape,i);return a.length>0&&(n=(0,On.S)(n,a)),(0,Rn.X)(n,s.shape)},b:()=>{const t=(0,lr.p)(s,0),n=(0,oa.a)(t,(0,br.c)(s),(0,gt.P)(s));let a=(0,mt.d)(e,(0,mt.d)(r,n));const u=zt.RR(o.shape,i);return u.length>0&&(a=(0,On.S)(a,u)),(0,Rn.X)(a,o.shape)}}}},xr={kernelName:He.o0,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,a]=t,r=(0,lr.p)(n,0);return{x:()=>(0,oa.a)(r,e,(0,mt.d)(e,a)),alpha:()=>{let t=(0,oa.a)(r,(0,gt.P)(e),(0,mt.d)(e,n));const s=(0,zt.RR)(a.shape,e.shape);return s.length>0&&(t=(0,On.S)(t,s)),(0,Rn.X)(t,a.shape)}}}},kr={kernelName:He.$H,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,pt.h)(e,(0,An.W)((0,_t.h)(n)))}}},Mr={kernelName:He.Sb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,a=(0,mt.d)((0,ra.z)(n,6),(0,Cn.N)(n));return{x:()=>(0,mt.d)(e,(0,he.p)(a,"float32"))}}},wr={kernelName:He.qk,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,mt.d)(e,(0,he.p)((0,Cn.N)(n),"float32"))}}},Tr={kernelName:He.HZ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,Rn.X)(e,n.shape)}}},Lr={kernelName:He._Y,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[a]=t,r=t=>{const{alignCorners:r}=n;return t.resizeBilinearBackprop(e,a,r)},s={images:a};return{images:()=>h.BV.runKernelFunc(r,s,null,He.zb,n)}}},Sr={kernelName:He.dp,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[a]=t,r=t=>{const{alignCorners:r}=n;return t.resizeNearestNeighborBackprop(e,a,r)},s={images:a};return{images:()=>h.BV.runKernelFunc(r,s,null,He.Hm,n)}}};var Dr=n(7486);const Ir={kernelName:He.mK,gradFunc:(e,t,n)=>{const{dims:a}=n,r=(0,b.EC)(a,e.shape);return{x:()=>(0,Dr.G)(e,r)}}},Nr={kernelName:He.e0,gradFunc:e=>({x:()=>(0,gt.P)(e)})},Cr={kernelName:He.bV,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,An.W)((0,pt.h)(e,(0,mt.d)((0,wt.s)(n,1.5),2)))}}};var Er=n(8651);const Ar={kernelName:He.xc,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>(0,he.p)((0,gt.P)(n),"float32"),t:()=>(0,mt.d)(e,(0,he.p)(n,e.dtype)),e:()=>(0,mt.d)(e,(0,he.p)((0,Er.h)(n),e.dtype))}}},Yr={kernelName:He.oF,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,lr.p)(n,(0,bt.i)(0)),a=(0,bt.i)(en),r=(0,bt.i)(tn),s=(0,mt.d)(e,r),o=(0,mt.d)((0,mt.d)(e,a),(0,Na.Q)((0,he.p)(n,"float32")));return(0,oa.a)(t,s,o)}}}},Fr={kernelName:He.a5,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,mt.d)(e,(0,mt.d)(n,(0,Tt.l)((0,bt.i)(1),n)))}}},Rr={kernelName:He.i5,gradFunc:e=>({x:()=>(0,gt.P)(e)})};var Or=n(173);const $r={kernelName:He.RQ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,mt.d)((0,Or.m)((0,he.p)(n,"float32")),e)}}};var Pr=n(2699);const Hr={kernelName:He.w3,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,mt.d)((0,Pr.f)((0,he.p)(n,"float32")),e)}}};var Br=n(9682);const Wr={kernelName:He.p2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{begin:r,size:s}=n,o=a.shape,[i,u]=(0,qe.parseSliceParams)(a,r,s),l=[];for(let t=0;t<e.rank;t++)l.push([i[t],o[t]-i[t]-u[t]]);return{x:()=>(0,Br.v)(e,l)}}},zr={kernelName:He.Gc,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a]=t,{dim:r}=n,s=(0,mt.d)(e,a);return{logits:()=>(0,Tt.l)(s,(0,mt.d)((0,On.S)(s,[r],!0),a))}}};var jr=n(625);const Vr={kernelName:He.MR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,mt.d)(e,(0,jr.X)(n))}}};var Ur=n(8441);const Gr={kernelName:He.TQ,gradFunc:(e,t,n)=>{const{blockShape:a,paddings:r}=n;return{x:()=>(0,Ur.E)(e,a,r)}}};var qr=n(6884);const Xr={kernelName:He.L8,gradFunc:(e,t,n)=>{const{axis:a}=n;return{x:()=>(0,qr.z)(e,a)}}},Kr={kernelName:He.FK,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,pt.h)(e,(0,mt.d)((0,ft._)((0,he.p)(n,"float32")),2))}}},Jr={kernelName:He.bK,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,mt.d)(e,(0,mt.d)((0,he.p)(n,"float32"),2))}}},Qr={kernelName:He._t,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=(0,bt.i)(2);return{a:()=>(0,mt.d)(e,(0,mt.d)(r,(0,Tt.l)(n,a))),b:()=>(0,mt.d)(e,(0,mt.d)(r,(0,Tt.l)(a,n)))}}},Zr={kernelName:He.h8,gradFunc:e=>({x:()=>(0,gt.P)(e)})},es={kernelName:He.Tr,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=zt.$N(n.shape,a.shape);return{a:()=>{let t=e;const a=zt.RR(n.shape,r);return a.length>0&&(t=(0,On.S)(t,a)),(0,Rn.X)(t,n.shape)},b:()=>{let t=e;const n=zt.RR(a.shape,r);return n.length>0&&(t=(0,On.S)(t,n)),(0,Rn.X)((0,An.W)(t),a.shape)}}}};var ts=n(4917);const ns={kernelName:He.GB,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,r=a.shape.slice(),{axis:s}=n;(0,b.EC)(s,a.shape).forEach((e=>{r[e]=1}));const o=(0,Rn.X)(e,r),i=(0,mt.d)(o,(0,ts.i)(a.shape,"float32"));return{x:()=>i}}},as={kernelName:He.sE,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,pt.h)(e,(0,_t.h)((0,Or.m)(n)))}}},rs={kernelName:He.MI,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,mt.d)((0,Tt.l)((0,bt.i)(1),(0,_t.h)(n)),e)}}},ss={kernelName:He.n9,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{reps:r}=n;return{x:()=>{let t=(0,gt.P)(a);if(1===a.rank)for(let n=0;n<r[0];++n)t=(0,ht.I)(t,(0,Tn.t)(e,[n*a.shape[0]],[a.shape[0]]));else if(2===a.rank)for(let n=0;n<r[0];++n)for(let s=0;s<r[1];++s)t=(0,ht.I)(t,(0,Tn.t)(e,[n*a.shape[0],s*a.shape[1]],[a.shape[0],a.shape[1]]));else if(3===a.rank)for(let n=0;n<r[0];++n)for(let s=0;s<r[1];++s)for(let o=0;o<r[2];++o)t=(0,ht.I)(t,(0,Tn.t)(e,[n*a.shape[0],s*a.shape[1],o*a.shape[2]],[a.shape[0],a.shape[1],a.shape[2]]));else{if(4!==a.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${a.rank} tensors yet.`);for(let n=0;n<r[0];++n)for(let s=0;s<r[1];++s)for(let o=0;o<r[2];++o)for(let i=0;i<r[3];++i)t=(0,ht.I)(t,(0,Tn.t)(e,[n*a.shape[0],s*a.shape[1],o*a.shape[2],i*a.shape[3]],[a.shape[0],a.shape[1],a.shape[2],a.shape[3]]))}return t}}}},os={kernelName:He.G3,gradFunc:(e,t,n)=>{const a=n,{perm:r}=a,s=Wt.LJ(r);return{x:()=>(0,$e.p)(e,s)}}};var is=n(2991);const us={kernelName:He.To,gradFunc:(e,t,n)=>{const a=n,{axis:r}=a;return{value:()=>(0,is.k)(e,r)}}};var ls=n(1300),ds=n(4926);const cs=[En,Yn,Fn,$n,Pn,Hn,Bn,Wn,zn,jn,Vn,Un,qn,Kn,Jn,Zn,ea,ta,na,ia,la,ma,ha,ga,ba,xa,Ma,La,Sa,Da,Ia,Ca,Ea,Aa,Fa,Ya,$a,Ha,za,ja,Va,Ua,Ga,qa,Xa,Ka,Qa,tr,tr,ar,sr,ir,ur,dr,cr,pr,mr,fr,_r,gr,yr,yr,vr,xr,kr,Mr,wr,Tr,Lr,Sr,Ir,Nr,Cr,Ar,Yr,Fr,Rr,$r,Hr,Wr,zr,Vr,Gr,Gr,Xr,Xr,Kr,Qr,Jr,Zr,es,ns,as,rs,ss,os,us,{kernelName:He.Qv,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=(0,Dt.g)(t,(0,gt.P)(t)),a=(0,ds.I)(e,n);let r=(0,aa.b)(t,(0,bt.i)(0,"int32"));const s=a.rank-r.rank;for(let e=0;e<s;++e)r=(0,ls.d)(r,e+1);r=(0,sa.H)(r,(0,ts.i)(a.shape,"bool"));const o=(0,gt.P)(a);return(0,oa.a)(r,a,o)}(e,n)}}},{kernelName:He.Ru,gradFunc:e=>({x:()=>(0,gt.P)(e)})}];for(const e of cs)(0,Be.Li)(e);fe.es.prototype.abs=function(){return this.throwIfDisposed(),(0,St.W)(this)};var hs=n(7839);fe.es.prototype.acos=function(){return this.throwIfDisposed(),(0,hs.K)(this)};var ps=n(1470);fe.es.prototype.acosh=function(){return this.throwIfDisposed(),(0,ps._)(this)};var ms=n(7536);fe.es.prototype.addStrict=function(e){return this.throwIfDisposed(),(0,ms.zq)(this,e)},fe.es.prototype.add=function(e){return this.throwIfDisposed(),(0,ht.I)(this,e)};var fs=n(781);fe.es.prototype.all=function(e,t){return this.throwIfDisposed(),(0,fs.$)(this,e,t)};var _s=n(2998);fe.es.prototype.any=function(e,t){return this.throwIfDisposed(),(0,_s.Y)(this,e,t)};var gs=n(47);fe.es.prototype.argMax=function(e){return this.throwIfDisposed(),(0,gs.N)(this,e)};var ys=n(7394);fe.es.prototype.argMin=function(e){return this.throwIfDisposed(),(0,ys.v)(this,e)},fe.es.prototype.asScalar=function(){return this.throwIfDisposed(),(0,b.hu)(1===this.size,(()=>"The array must have only 1 element.")),(0,Rn.X)(this,[])},fe.es.prototype.asType=function(e){return this.throwIfDisposed(),(0,he.p)(this,e)},fe.es.prototype.as1D=function(){return this.throwIfDisposed(),(0,Rn.X)(this,[this.size])},fe.es.prototype.as2D=function(e,t){return this.throwIfDisposed(),(0,Rn.X)(this,[e,t])},fe.es.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),(0,Rn.X)(this,[e,t,n])},fe.es.prototype.as4D=function(e,t,n,a){return this.throwIfDisposed(),(0,Rn.X)(this,[e,t,n,a])},fe.es.prototype.as5D=function(e,t,n,a,r){return this.throwIfDisposed(),(0,Rn.X)(this,[e,t,n,a,r])};var bs=n(2421);fe.es.prototype.asin=function(){return this.throwIfDisposed(),(0,bs.Z)(this)};var vs=n(1891);fe.es.prototype.asinh=function(){return this.throwIfDisposed(),(0,vs.V)(this)};var xs=n(7037);fe.es.prototype.atan=function(){return this.throwIfDisposed(),(0,xs.z)(this)};var ks=n(9812);fe.es.prototype.atan2=function(e){return this.throwIfDisposed(),(0,ks.f)(this,e)};var Ms=n(369);fe.es.prototype.atanh=function(){return this.throwIfDisposed(),(0,Ms.C)(this)};var ws=n(5176);fe.es.prototype.avgPool=function(e,t,n,a){return this.throwIfDisposed(),(0,ws.w)(this,e,t,n,a)},fe.es.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),(0,Ur.E)(this,e,t)};var Ts=n(7505);fe.es.prototype.batchNorm=function(e,t,n,a,r){return this.throwIfDisposed(),(0,Ts.t)(this,e,t,n,a,r)};var Ls=n(8247);fe.es.prototype.broadcastTo=function(e){return this.throwIfDisposed(),(0,Ls.U)(this,e)},fe.es.prototype.cast=function(e){return this.throwIfDisposed(),(0,he.p)(this,e)};var Ss=n(6825);fe.es.prototype.ceil=function(){return this.throwIfDisposed(),(0,Ss.m)(this)};var Ds=n(2279);fe.es.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),(0,Ds.i)(this,e,t)},fe.es.prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof fe.es&&(e=[e]),(0,qr.z)([this,...e],t)};var Is=n(1355);fe.es.prototype.conv1d=function(e,t,n,a,r,s){return this.throwIfDisposed(),(0,Is.P)(this,e,t,n,a,r,s)};var Ns=n(1405);fe.es.prototype.conv2dTranspose=function(e,t,n,a,r){return this.throwIfDisposed(),(0,Ns.b)(this,e,t,n,a,r)},fe.es.prototype.conv2d=function(e,t,n,a,r,s){return this.throwIfDisposed(),(0,pa.T)(this,e,t,n,a,r,s)},fe.es.prototype.cos=function(){return this.throwIfDisposed(),(0,Or.m)(this)},fe.es.prototype.cosh=function(){return this.throwIfDisposed(),(0,Pr.f)(this)},fe.es.prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),(0,ka.z)(this,e,t,n)};var Cs=n(9112);fe.es.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),(0,Cs.n)(this,e,t)};var Es=n(4718);fe.es.prototype.depthwiseConv2D=function(e,t,n,a,r,s){return(0,ct.MX)("depthwiseConv2D is deprecated, use depthwiseConv2d instead"),this.throwIfDisposed(),(0,Es.B)(this,e,t,n,a,r,s)},fe.es.prototype.depthwiseConv2d=function(e,t,n,a,r,s){return this.throwIfDisposed(),(0,Es.B)(this,e,t,n,a,r,s)};var As=n(557);fe.es.prototype.dilation2d=function(e,t,n,a,r){return this.throwIfDisposed(),(0,As.W)(this,e,t,n,a,r)};var Ys=n(9322);fe.es.prototype.divNoNan=function(e){return this.throwIfDisposed(),(0,Ys.N)(this,e)},fe.es.prototype.divStrict=function(e){return this.throwIfDisposed(),(0,ms.sz)(this,e)},fe.es.prototype.div=function(e){return this.throwIfDisposed(),(0,pt.h)(this,e)};var Fs=n(548);fe.es.prototype.dot=function(e){return this.throwIfDisposed(),(0,Fs.A)(this,e)};var Rs=n(3233);fe.es.prototype.elu=function(){return this.throwIfDisposed(),(0,Rs.p)(this)};var Os=n(3334);fe.es.prototype.equalStrict=function(e){return this.throwIfDisposed(),(0,Os.zV)(this,e)},fe.es.prototype.equal=function(e){return this.throwIfDisposed(),(0,Za.D)(this,e)};var $s=n(4650);fe.es.prototype.erf=function(){return this.throwIfDisposed(),(0,$s.q)(this)},fe.es.prototype.exp=function(){return this.throwIfDisposed(),(0,Na.Q)(this)},fe.es.prototype.expandDims=function(e){return this.throwIfDisposed(),(0,ls.d)(this,e)};var Ps=n(3426);fe.es.prototype.expm1=function(){return this.throwIfDisposed(),(0,Ps.t)(this)};var Hs=n(7020);fe.es.prototype.fft=function(){return this.throwIfDisposed(),(0,Hs.k)(this)},fe.es.prototype.flatten=function(){return this.throwIfDisposed(),(0,Rn.X)(this,[this.size])},fe.es.prototype.floor=function(){return this.throwIfDisposed(),(0,hr.G)(this)};var Bs=n(9165);fe.es.prototype.floorDiv=function(e){return this.throwIfDisposed(),(0,Bs.q)(this,e)},fe.es.prototype.gather=function(e,t){return this.throwIfDisposed(),(0,ds.I)(this,e,t)},fe.es.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),(0,Os.bZ)(this,e)},fe.es.prototype.greaterEqual=function(e){return this.throwIfDisposed(),(0,aa.b)(this,e)},fe.es.prototype.greaterStrict=function(e){return this.throwIfDisposed(),(0,Os.g1)(this,e)},fe.es.prototype.greater=function(e){return this.throwIfDisposed(),(0,lr.p)(this,e)};var Ws=n(8447);fe.es.prototype.ifft=function(){return this.throwIfDisposed(),(0,Ws.S)(this)};var zs=n(4415);fe.es.prototype.irfft=function(){return this.throwIfDisposed(),(0,zs.w)(this)};var js=n(3963);fe.es.prototype.isFinite=function(){return this.throwIfDisposed(),(0,js.x)(this)};var Vs=n(4365);fe.es.prototype.isInf=function(){return this.throwIfDisposed(),(0,Vs.U)(this)};var Us=n(6230);fe.es.prototype.isNaN=function(){return this.throwIfDisposed(),(0,Us.i)(this)};var Gs=n(9133);fe.es.prototype.leakyRelu=function(e){return this.throwIfDisposed(),(0,Gs.h)(this,e)},fe.es.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),(0,Os.SF)(this,e)},fe.es.prototype.lessEqual=function(e){return this.throwIfDisposed(),(0,ra.z)(this,e)},fe.es.prototype.lessStrict=function(e){return this.throwIfDisposed(),(0,Os.O_)(this,e)},fe.es.prototype.less=function(e){return this.throwIfDisposed(),(0,nr.d)(this,e)};var qs=n(9648);fe.es.prototype.localResponseNormalization=function(e,t,n,a){return this.throwIfDisposed(),(0,qs.G)(this,e,t,n,a)};var Xs=n(3888);fe.es.prototype.logSigmoid=function(){return this.throwIfDisposed(),(0,Xs.e)(this)};var Ks=n(1510);fe.es.prototype.logSoftmax=function(e){return this.throwIfDisposed(),(0,Ks.C)(this,e)};var Js=n(1391);fe.es.prototype.logSumExp=function(e,t){return this.throwIfDisposed(),(0,Js.l)(this,e,t)},fe.es.prototype.log=function(){return this.throwIfDisposed(),(0,br.c)(this)};var Qs=n(7474);fe.es.prototype.log1p=function(){return this.throwIfDisposed(),(0,Qs.K)(this)},fe.es.prototype.logicalAnd=function(e){return this.throwIfDisposed(),(0,sa.H)(this,e)},fe.es.prototype.logicalNot=function(){return this.throwIfDisposed(),(0,Er.h)(this)};var Zs=n(5750);fe.es.prototype.logicalOr=function(e){return this.throwIfDisposed(),(0,Zs.K)(this,e)};var eo=n(596);fe.es.prototype.logicalXor=function(e){return this.throwIfDisposed(),(0,eo.e)(this,e)},fe.es.prototype.matMul=function(e,t,n){return this.throwIfDisposed(),(0,Fe.O)(this,e,t,n)};var to=n(1174);fe.es.prototype.maxPool=function(e,t,n,a){return this.throwIfDisposed(),(0,to._)(this,e,t,n,a)};var no=n(3307);fe.es.prototype.max=function(e,t){return this.throwIfDisposed(),(0,no.F)(this,e,t)},fe.es.prototype.maximumStrict=function(e){return this.throwIfDisposed(),(0,ms._j)(this,e)},fe.es.prototype.maximum=function(e){return this.throwIfDisposed(),(0,Dt.g)(this,e)};var ao=n(5130);fe.es.prototype.mean=function(e,t){return this.throwIfDisposed(),(0,ao.J)(this,e,t)};var ro=n(5735);fe.es.prototype.min=function(e,t){return this.throwIfDisposed(),(0,ro.V)(this,e,t)},fe.es.prototype.minimumStrict=function(e){return this.throwIfDisposed(),(0,ms.Wz)(this,e)};var so=n(4513);fe.es.prototype.minimum=function(e){return this.throwIfDisposed(),(0,so.L)(this,e)};var oo=n(1483);fe.es.prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),(0,oo.V)(this,e,t)},fe.es.prototype.modStrict=function(e){return this.throwIfDisposed(),(0,ms.Ir)(this,e)};var io=n(5228);fe.es.prototype.mod=function(e){return this.throwIfDisposed(),(0,io.w)(this,e)},fe.es.prototype.mulStrict=function(e){return this.throwIfDisposed(),(0,ms.NT)(this,e)},fe.es.prototype.mul=function(e){return this.throwIfDisposed(),(0,mt.d)(this,e)},fe.es.prototype.neg=function(){return this.throwIfDisposed(),(0,An.W)(this)};var uo=n(3561);fe.es.prototype.norm=function(e,t,n){return this.throwIfDisposed(),(0,uo.K)(this,e,t,n)},fe.es.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),(0,Os.FG)(this,e)};var lo=n(6500);fe.es.prototype.notEqual=function(e){return this.throwIfDisposed(),(0,lo.Q)(this,e)},fe.es.prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),(0,Re.l)(this,e,t,n)};var co=n(7846);fe.es.prototype.onesLike=function(){return this.throwIfDisposed(),(0,co.J)(this)},fe.es.prototype.pad=function(e,t){return this.throwIfDisposed(),(0,Br.v)(this,e,t)};var ho=n(5860);fe.es.prototype.pool=function(e,t,n,a,r){return this.throwIfDisposed(),(0,ho.d)(this,e,t,n,a,r)},fe.es.prototype.powStrict=function(e){return this.throwIfDisposed(),(0,ms.Lf)(this,e)},fe.es.prototype.pow=function(e){return this.throwIfDisposed(),(0,wt.s)(this,e)};var po=n(8151);fe.es.prototype.prelu=function(e){return this.throwIfDisposed(),(0,po.A)(this,e)};var mo=n(9451);fe.es.prototype.prod=function(e,t){return this.throwIfDisposed(),(0,mo.W)(this,e,t)};var fo=n(9036);fe.es.prototype.reciprocal=function(){return this.throwIfDisposed(),(0,fo.M)(this)};var _o=n(7409);fe.es.prototype.relu=function(){return this.throwIfDisposed(),(0,_o.U)(this)};var go=n(3582);fe.es.prototype.relu6=function(){return this.throwIfDisposed(),(0,go.b)(this)},fe.es.prototype.reshapeAs=function(e){return this.throwIfDisposed(),(0,Rn.X)(this,e.shape)},fe.es.prototype.reshape=function(e){return this.throwIfDisposed(),(0,Rn.X)(this,e)};var yo=n(3305);fe.es.prototype.resizeBilinear=function(e,t){return this.throwIfDisposed(),(0,yo.I)(this,e,t)};var bo=n(5098);fe.es.prototype.resizeNearestNeighbor=function(e,t){return this.throwIfDisposed(),(0,bo.j)(this,e,t)},fe.es.prototype.reverse=function(e){return this.throwIfDisposed(),(0,Dr.G)(this,e)};var vo=n(3710);fe.es.prototype.rfft=function(){return this.throwIfDisposed(),(0,vo.Q)(this)};var xo=n(7809);fe.es.prototype.round=function(){return this.throwIfDisposed(),(0,xo.N)(this)},fe.es.prototype.rsqrt=function(){return this.throwIfDisposed(),(0,Ra.b)(this)};var ko=n(5503);fe.es.prototype.selu=function(){return this.throwIfDisposed(),(0,ko.U)(this)};var Mo=n(8678);fe.es.prototype.separableConv2d=function(e,t,n,a,r,s){return this.throwIfDisposed(),(0,Mo.U)(this,e,t,n,a,r,s)},fe.es.prototype.sigmoid=function(){return this.throwIfDisposed(),(0,jr.X)(this)};var wo=n(4434);fe.es.prototype.sign=function(){return this.throwIfDisposed(),(0,wo.X)(this)},fe.es.prototype.sin=function(){return this.throwIfDisposed(),(0,ya.O)(this)},fe.es.prototype.sinh=function(){return this.throwIfDisposed(),(0,va.R)(this)},fe.es.prototype.slice=function(e,t){return this.throwIfDisposed(),(0,Tn.t)(this,e,t)};var To=n(682);fe.es.prototype.softmax=function(e){return this.throwIfDisposed(),(0,To.X)(this,e)};var Lo=n(3694);fe.es.prototype.softplus=function(){return this.throwIfDisposed(),(0,Lo.W)(this)},fe.es.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),(0,Qn.f)(this,e,t)},fe.es.prototype.split=function(e,t){return this.throwIfDisposed(),(0,ua.V)(this,e,t)},fe.es.prototype.sqrt=function(){return this.throwIfDisposed(),(0,ft._)(this)},fe.es.prototype.square=function(){return this.throwIfDisposed(),(0,_t.h)(this)};var So=n(5265);fe.es.prototype.squaredDifference=function(e){return this.throwIfDisposed(),(0,So.$)(this,e)},fe.es.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),(0,ms.r7)(this,e)};var Do=n(9590);fe.es.prototype.squeeze=function(e){return this.throwIfDisposed(),(0,Do.L)(this,e)},fe.es.prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof fe.es?[this,e]:[this,...e];return(0,is.k)(n,t)},fe.es.prototype.step=function(e){return this.throwIfDisposed(),(0,Cn.N)(this,e)};var Io=n(5158);fe.es.prototype.stridedSlice=function(e,t,n,a,r,s,o,i){return this.throwIfDisposed(),(0,Io.N)(this,e,t,n,a,r,s,o,i)},fe.es.prototype.subStrict=function(e){return this.throwIfDisposed(),(0,ms.UL)(this,e)},fe.es.prototype.sub=function(e){return this.throwIfDisposed(),(0,Tt.l)(this,e)},fe.es.prototype.sum=function(e,t){return this.throwIfDisposed(),(0,On.S)(this,e,t)};var No=n(1173);fe.es.prototype.tan=function(){return this.throwIfDisposed(),(0,No.O)(this)};var Co=n(1869);fe.es.prototype.tanh=function(){return this.throwIfDisposed(),(0,Co.A)(this)},fe.es.prototype.tile=function(e){return this.throwIfDisposed(),(0,Oa.G)(this,e)},fe.es.prototype.toBool=function(){return this.throwIfDisposed(),(0,he.p)(this,"bool")},fe.es.prototype.toFloat=function(){return this.throwIfDisposed(),(0,he.p)(this,"float32")},fe.es.prototype.toInt=function(){return this.throwIfDisposed(),(0,he.p)(this,"int32")};var Eo=n(3243);fe.es.prototype.topk=function(e,t){return this.throwIfDisposed(),(0,Eo.h)(this,e,t)},fe.es.prototype.transpose=function(e){return this.throwIfDisposed(),(0,$e.p)(this,e)};var Ao=n(9608);fe.es.prototype.unique=function(e){return this.throwIfDisposed(),(0,Ao.T)(this,e)},fe.es.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),(0,Pa.p)(this,e,t)};var Yo=n(4136);fe.es.prototype.unstack=function(e){return this.throwIfDisposed(),(0,Yo.H)(this,e)},fe.es.prototype.where=function(e,t){return this.throwIfDisposed(),(0,oa.a)(e,this,t)},fe.es.prototype.zerosLike=function(){return this.throwIfDisposed(),(0,gt.P)(this)}},9121:(e,t,n)=>{"use strict";n.d(t,{SY:()=>a,VG:()=>r,Sp:()=>s,mm:()=>o,Xz:()=>i,oT:()=>u,IK:()=>l,sJ:()=>d,aJ:()=>c,M2:()=>h,qw:()=>p,jM:()=>m,Oy:()=>f,QC:()=>_,Jh:()=>g,xt:()=>y,_k:()=>b,DC:()=>v,XL:()=>x,zw:()=>k,Ly:()=>M,RF:()=>w,gJ:()=>T,xn:()=>L,Zz:()=>S,Eh:()=>D,mh:()=>I,wU:()=>N,wm:()=>C,x1:()=>E,o2:()=>A,ik:()=>Y,mc:()=>F,TR:()=>R,iH:()=>O,Vc:()=>$,T0:()=>P,ci:()=>H,sL:()=>B,y7:()=>W,$w:()=>z,p4:()=>j,ek:()=>V,Vn:()=>U,ZC:()=>G,SX:()=>q,HE:()=>X,Om:()=>K,hd:()=>J,NE:()=>Q,Y0:()=>Z,vw:()=>ee,de:()=>te,Uy:()=>ne,OR:()=>ae,je:()=>re,sH:()=>se,qi:()=>oe,q1:()=>ie,iZ:()=>ue,Ac:()=>le,iJ:()=>de,Qg:()=>ce,J_:()=>he,av:()=>pe,iW:()=>me,r7:()=>fe,vt:()=>_e,CA:()=>ge,e7:()=>ye,Zb:()=>be,kU:()=>ve,PY:()=>xe,Vf:()=>ke,MZ:()=>Me,qC:()=>we,eZ:()=>Te,vI:()=>Le,Yo:()=>Se,BM:()=>De,mT:()=>Ie,Gv:()=>Ne,OA:()=>Ce,f:()=>Ee,vF:()=>Ae,q2:()=>Ye,c1:()=>Fe,q8:()=>Re,jQ:()=>Oe,Vb:()=>$e,wY:()=>Pe,L0:()=>He,yQ:()=>Be,uv:()=>We,cy:()=>ze,W0:()=>je,qW:()=>Ve,we:()=>Ue,ly:()=>Ge,Kg:()=>qe,pe:()=>Xe,o0:()=>Ke,Dl:()=>Je,e6:()=>Qe,xJ:()=>Ze,$H:()=>et,qk:()=>tt,HZ:()=>nt,dp:()=>at,Hm:()=>rt,_Y:()=>st,zb:()=>ot,Sb:()=>it,mK:()=>ut,e0:()=>lt,bV:()=>dt,xQ:()=>ct,xc:()=>ht,oF:()=>pt,p2:()=>mt,RQ:()=>ft,w3:()=>_t,i5:()=>gt,a5:()=>yt,MR:()=>bt,FK:()=>vt,GB:()=>xt,TQ:()=>kt,L8:()=>Mt,Gc:()=>wt,_t:()=>Tt,bK:()=>Lt,Tr:()=>St,D2:()=>Dt,m2:()=>It,sE:()=>Nt,MI:()=>Ct,n9:()=>Et,cW:()=>At,G3:()=>Yt,kp:()=>Ft,To:()=>Rt,Qv:()=>Ot,Ru:()=>$t,h8:()=>Pt,eB:()=>Ht,b9:()=>Bt,us:()=>Wt,_V:()=>zt,lu:()=>jt});const a="Abs",r="Acos",s="Acosh",o="Add",i="AddN",u="All",l="Any",d="ArgMax",c="ArgMin",h="Asin",p="Asinh",m="Atan",f="Atanh",_="Atan2",g="AvgPool",y="AvgPoolBackprop",b="AvgPool3D",v="AvgPool3DBackprop",x="BatchMatMul",k="BatchToSpaceND",M="BroadcastTo",w="Cast",T="Ceil",L="ClipByValue",S="Complex",D="Concat",I="Conv2D",N="Conv2DBackpropFilter",C="Conv2DBackpropInput",E="Conv3D",A="Conv3DBackpropFilterV2",Y="Conv3DBackpropInputV2",F="Cos",R="Cosh",O="Cumsum",$="CropAndResize",P="DepthToSpace",H="DepthwiseConv2dNative",B="DepthwiseConv2dNativeBackpropFilter",W="DepthwiseConv2dNativeBackpropInput",z="Diag",j="Dilation2D",V="Dilation2DBackpropInput",U="Dilation2DBackpropFilter",G="Div",q="Elu",X="EluGrad",K="Erf",J="Equal",Q="Exp",Z="Expm1",ee="FFT",te="Fill",ne="FlipLeftRight",ae="Floor",re="FloorDiv",se="FusedBatchNorm",oe="GatherV2",ie="GatherNd",ue="Greater",le="GreaterEqual",de="Identity",ce="IFFT",he="Imag",pe="IsFinite",me="IsInf",fe="IsNan",_e="Less",ge="LessEqual",ye="LinSpace",be="Log",ve="Log1p",xe="LogicalAnd",ke="LogicalNot",Me="LogicalOr",we="LogSoftmax",Te="LRN",Le="LRNBackprop",Se="Max",De="Maximum",Ie="MaxPool",Ne="MaxPoolBackprop",Ce="MaxPool3D",Ee="MaxPool3DBackprop",Ae="MaxPoolWithArgmax",Ye="Mean",Fe="Min",Re="Minimum",Oe="MirrorPad",$e="Mod",Pe="Multiply",He="Negate",Be="NotEqual",We="NonMaxSuppressionV3",ze="NonMaxSuppressionV4",je="NonMaxSuppressionV5",Ve="OnesLike",Ue="OneHot",Ge="PadV2",qe="Pool",Xe="Pow",Ke="Prelu",Je="Prod",Qe="Range",Ze="Real",et="Reciprocal",tt="Relu",nt="Reshape",at="ResizeNearestNeighbor",rt="ResizeNearestNeighborGrad",st="ResizeBilinear",ot="ResizeBilinearGrad",it="Relu6",ut="Reverse",lt="Round",dt="Rsqrt",ct="ScatterNd",ht="SelectV2",pt="Selu",mt="Slice",ft="Sin",_t="Sinh",gt="Sign",yt="Sigmoid",bt="Softplus",vt="Sqrt",xt="Sum",kt="SpaceToBatchND",Mt="SplitV",wt="Softmax",Tt="SquaredDifference",Lt="Square",St="Sub",Dt="SparseToDense",It="StridedSlice",Nt="Tan",Ct="Tanh",Et="Tile",At="TopK",Yt="Transpose",Ft="Unique",Rt="Unpack",Ot="UnsortedSegmentSum",$t="ZerosLike",Pt="Step",Ht="FromPixels",Bt="RotateWithOffset",Wt="_FusedMatMul",zt="FusedConv2D",jt="FusedDepthwiseConv2D"},6151:(e,t,n)=>{"use strict";n.d(t,{pI:()=>i,uk:()=>u,tr:()=>l,wC:()=>d,Li:()=>c,nE:()=>h,bt:()=>p,T3:()=>m});var a=n(2885),r=n(5938);const s=(0,r.R)("kernelRegistry",(()=>new Map)),o=(0,r.R)("gradRegistry",(()=>new Map));function i(e,t){const n=f(e,t);return s.get(n)}function u(e){return o.get(e)}function l(e){const t=s.entries(),n=[];for(;;){const{done:a,value:r}=t.next();if(a)break;const[s,o]=r,[i]=s.split("_");i===e&&n.push(o)}return n}function d(e){const{kernelName:t,backendName:n}=e,a=f(t,n);s.has(a)&&console.warn(`The kernel '${t}' for backend '${n}' is already registered`),s.set(a,e)}function c(e){const{kernelName:t}=e;o.has(t)&&(0,a.OB)().getBool("DEBUG")&&console.warn(`Overriding the gradient for '${t}'`),o.set(t,e)}function h(e,t){const n=f(e,t);if(!s.has(n))throw new Error(`The kernel '${e}' for backend '${t}' is not registered`);s.delete(n)}function p(e){if(!o.has(e))throw new Error(`The gradient '${e}' for backend is not registered`);o.delete(e)}function m(e,t){l(e).forEach((e=>{d(Object.assign({},e,{backendName:t}))}))}function f(e,t){return`${t}_${e}`}},6235:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({abs_:function(e){const t=(0,s._1)(e,"x","abs"),n={x:t};return a.BV.runKernelFunc(((e,n)=>(n([t]),"complex64"===t.dtype?e.complexAbs(t):e.abs(t))),n,null,r.SY)}})},7839:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({acos_:function(e){const t=(0,s._1)(e,"x","acos"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.acos(t);return n([t]),a}),n,null,r.VG)}})},1470:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({acosh_:function(e){const t=(0,s._1)(e,"x","acosh"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.acosh(t);return n([t]),a}),n,null,r.Sp)}})},6407:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var a=n(7097),r=n(9121),s=n(747),o=n(3740);const i=(0,n(2668).op)({add_:function(e,t){let n=(0,o._1)(e,"a","add"),i=(0,o._1)(t,"b","add");[n,i]=(0,s.makeTypesMatch)(n,i);const u={a:n,b:i};return a.BV.runKernelFunc(((e,t)=>{const a=e.add(n,i);return t([n,i]),a}),u,null,r.mm)}})},3135:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({addN_:function(e){o.hu(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),o.hu(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>(0,s._1)(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!o.cO(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const i=t;return a.BV.runKernelFunc(((e,n)=>{const a=e.addN(t);return n(t),a}),i,null,r.Xz)}})},781:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(3591),u=n(2668),l=n(4968),d=n(9065);const c=(0,u.op)({all_:function(e,t=null,n=!1){let u=(0,s._1)(e,"x","all","bool");const c={x:u},h={axis:t,keepDims:n};return a.BV.runKernelFunc((e=>{const a=(0,o.EC)(t,u.shape);let r=a;const s=(0,i.Q3)(r,u.rank);null!=s&&(u=(0,d.p)(u,s),r=(0,i.sY)(r.length,u.rank));const c=e.all(u,r);if(n){const e=(0,i.rv)(c.shape,a);return(0,l.X)(c,e)}return c}),c,null,r.oT,h)}})},2998:(e,t,n)=>{"use strict";n.d(t,{Y:()=>c});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(3591),u=n(2668),l=n(4968),d=n(9065);const c=(0,u.op)({any_:function(e,t=null,n=!1){let u=(0,s._1)(e,"x","any","bool");const c={x:u},h={axis:t,keepDims:n};return a.BV.runKernelFunc((e=>{const a=(0,o.EC)(t,u.shape);let r=a;const s=(0,i.Q3)(r,u.rank);null!=s&&(u=(0,d.p)(u,s),r=(0,i.sY)(r.length,u.rank));const c=e.any(u,r);if(n){const e=(0,i.rv)(c.shape,a);return(0,l.X)(c,e)}return c}),c,null,r.IK,h)}})},47:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(3591),u=n(2668),l=n(9065);const d=(0,u.op)({argMax_:function(e,t=0){let n=(0,s._1)(e,"x","argMax");const u={x:n},d={axis:t};return a.BV.runKernelFunc(((e,a)=>{a([n]);let r=o.EC(t,n.shape);const s=i.Q3(r,n.rank);return null!=s&&(n=(0,l.p)(n,s),r=i.sY(r.length,n.rank)),e.argMax(n,r[0])}),u,null,r.sJ,d)}})},7394:(e,t,n)=>{"use strict";n.d(t,{v:()=>d});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(3591),u=n(2668),l=n(9065);const d=(0,u.op)({argMin_:function(e,t=0){let n=(0,s._1)(e,"x","argMin");const u={x:n},d={axis:t};return a.BV.runKernelFunc(((e,a)=>{a([n]),null==t&&(t=0);let r=o.EC(t,n.shape);const s=i.Q3(r,n.rank);return null!=s&&(n=(0,l.p)(n,s),r=i.sY(r.length,n.rank)),e.argMin(n,r[0])}),u,null,r.aJ,d)}})},2421:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({asin_:function(e){const t=(0,s._1)(e,"x","asin"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.asin(t);return n([t]),a}),n,null,r.M2)}})},1891:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({asinh_:function(e){const t=(0,s._1)(e,"x","asinh"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.asinh(t);return n([t]),a}),n,null,r.qw)}})},7037:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({atan_:function(e){const t=(0,s._1)(e,"x","atan"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.atan(t);return n([t]),a}),n,null,r.jM)}})},9812:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var a=n(7097),r=n(9121),s=n(747),o=n(3740);const i=(0,n(2668).op)({atan2_:function(e,t){let n=(0,o._1)(e,"a","atan2"),i=(0,o._1)(t,"b","atan2");[n,i]=(0,s.makeTypesMatch)(n,i);const u={a:n,b:i};return a.BV.runKernelFunc(((e,t)=>{const a=e.atan2(n,i);return t([n,i]),a}),u,null,r.QC)}})},369:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({atanh_:function(e){const t=(0,s._1)(e,"x","atanh"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.atanh(t);return n([t]),a}),n,null,r.Oy)}})},5176:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(2271),u=n(2582),l=n(2668),d=n(4968);const c=(0,l.op)({avgPool_:function(e,t,n,l,c){const h=(0,s._1)(e,"x","avgPool","float32");o.hu(u.jT(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let p=h,m=!1;3===h.rank&&(m=!0,p=(0,d.X)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),o.hu(4===p.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${p.rank}.`)),null!=c&&o.hu(o.GN(l),(()=>`Error in avgPool: pad must be an integer when using, dimRoundingMode ${c} but got pad ${l}.`));const f={x:p},_={filterSize:t,strides:n,pad:l,dimRoundingMode:c};let g=a.BV.runKernelFunc(((e,a)=>{const r=u.Xw(p.shape,t,n,1,l,c);return a([p]),1===r.filterWidth&&1===r.filterHeight&&o.cO(r.inShape,r.outShape)?p.clone():e.avgPool(p,r)}),f,null,r.Jh,_);return g=(0,i.p)(g,h.dtype),m?(0,d.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},1749:(e,t,n)=>{"use strict";n.d(t,{u:()=>h});var a=n(7097),r=n(4368),s=n(9121),o=n(3740),i=n(569),u=n(2271),l=n(2582),d=n(2668),c=n(4968);const h=(0,d.op)({avgPool3d_:function(e,t,n,d,h,p="NDHWC",m){null==m?m=[1,1,1]:(0,r.MX)("dilations is deprecated, this field will be gone in v3.0.0.");const f=(0,o._1)(e,"x","avgPool3d","float32");let _=f,g=!1;4===f.rank&&(g=!0,_=(0,c.X)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),i.hu(5===_.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${_.rank}.`)),i.hu("NDHWC"===p,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${p}`)),i.hu(l.jT(n,m),(()=>`Error in avgPool3d: Either strides or dilations must be 1. Got strides ${n} and dilations '${m}'`)),null!=h&&i.hu(i.GN(d),(()=>`Error in avgPool3d: pad must be an integer when using, dimRoundingMode ${h} but got pad ${d}.`));const y={x:_},b={filterSize:t,strides:n,pad:d,dimRoundingMode:h,dataFormat:p,dilations:m};let v=a.BV.runKernelFunc(((e,a)=>{null==m&&(m=[1,1,1]);const r=l.pl(_.shape,t,n,m,d,h,p);return a([_]),e.avgPool3d(_,r)}),y,null,s._k,b);return v=(0,u.p)(v,_.dtype),g?(0,c.X)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}})},3591:(e,t,n)=>{"use strict";n.d(t,{YB:()=>r,Vh:()=>s,kz:()=>o,rv:()=>i,lB:()=>u,Q3:()=>l,LJ:()=>d,sY:()=>c});var a=n(569);function r(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function s(e,t,n){const a=e.length+t.length,r=[];let s=0,o=0;for(let i=0;i<a;i++)-1===n.indexOf(i)?r.push(e[s++]):r.push(t[o++]);return r}function o(e,t){const n=[],a=e.length;for(let r=0;r<a;r++)-1===t.indexOf(r)&&n.push(e[r]);return[n,t.map((t=>e[t]))]}function i(e,t){return s(e,t.map((e=>1)),t)}function u(e,t,n){a.hu(r(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function l(e,t){if(r(e,t))return null;const n=[];for(let a=0;a<t;++a)-1===e.indexOf(a)&&n.push(a);return e.forEach((e=>n.push(e))),n}function d(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function c(e,t){const n=[];for(let a=t-e;a<t;++a)n.push(a);return n}},8441:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({batchToSpaceND_:function(e,t,n){const i=(0,s._1)(e,"x","batchToSpaceND"),u=t.reduce(((e,t)=>e*t));o.hu(i.rank>=1+t.length,(()=>`input rank is ${i.rank} but should be > than blockShape.length ${t.length}`)),o.hu(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),o.hu(i.shape[0]%u==0,(()=>`input tensor batch is ${i.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${u}`));const l={x:i},d={blockShape:t,crops:n};return a.BV.runKernelFunc((e=>e.batchToSpaceND(i,t,n)),l,null,r.zw,d)}})},7505:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(4968);function u(e){return null==e?null:0===e.rank?(0,i.X)(e,[e.size]):1===e.rank?e:2===e.rank?(0,i.X)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,i.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}const l=(0,n(2668).op)({batchNorm_:function(e,t,n,l,d,c){null==c&&(c=.001);const h=(0,s._1)(e,"x","batchNorm"),p=(0,s._1)(t,"mean","batchNorm"),m=(0,s._1)(n,"variance","batchNorm");let f,_;null!=d&&(f=(0,s._1)(d,"scale","batchNorm")),null!=l&&(_=(0,s._1)(l,"offset","batchNorm")),o.hu(p.rank===m.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),o.hu(null==_||p.rank===_.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),o.hu(null==f||p.rank===f.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const g=function(e){let t;return t=0===e.rank||1===e.rank?(0,i.X)(e,[1,1,1,e.size]):2===e.rank?(0,i.X)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,i.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(h),y={x:g,scale:f,offset:_,mean:p,variance:m},b={varianceEpsilon:c},v=a.BV.runKernelFunc(((e,t)=>(t([g,p,m,f]),e.batchNorm(g,u(p),u(m),u(_),u(f),c))),y,null,r.sH,b);return(0,i.X)(v,h.shape)}})},7536:(e,t,n)=>{"use strict";n.d(t,{zq:()=>_,sz:()=>g,_j:()=>y,Wz:()=>b,Ir:()=>v,NT:()=>x,Lf:()=>k,r7:()=>M,UL:()=>w});var a=n(4368),r=n(3740),s=n(569),o=n(6407),i=n(1274),u=n(632),l=n(4513),d=n(5228),c=n(4841),h=n(2668),p=n(3453),m=n(5265),f=n(827);const _=(0,h.op)({addStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","addStrict"),i=(0,r._1)(t,"b","addStrict");return s.k5(n.shape,i.shape,"Error in addStrict: "),(0,o.I)(n,i)}}),g=(0,h.op)({divStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","div"),o=(0,r._1)(t,"b","div");return s.k5(n.shape,o.shape,"Error in divideStrict: "),(0,i.h)(n,o)}}),y=(0,h.op)({maximumStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","maximumStrict"),o=(0,r._1)(t,"b","maximumStrict");return s.k5(n.shape,o.shape,"Error in maximumStrict: "),(0,u.g)(n,o)}}),b=(0,h.op)({minimumStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","minimumStrict"),o=(0,r._1)(t,"b","minimumStrict");return s.k5(n.shape,o.shape,"Error in minimumStrict: "),(0,l.L)(n,o)}}),v=(0,h.op)({modStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","modStrict"),o=(0,r._1)(t,"b","modStrict");return s.k5(n.shape,o.shape,"Error in modStrict: "),(0,d.w)(n,o)}}),x=(0,h.op)({mulStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","mul"),o=(0,r._1)(t,"b","mul");return s.k5(n.shape,o.shape,"Error in multiplyStrict: "),(0,c.d)(n,o)}}),k=(0,h.op)({powStrict_:function(e,t){return(0,a.MX)("strict variants of ops have been deprecated and will be removed in future"),s.k5(e.shape,t.shape,"Error in powStrict: "),(0,p.s)(e,t)}}),M=(0,h.op)({squaredDifferenceStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","squaredDifferenceStrict"),o=(0,r._1)(t,"b","squaredDifferenceStrict");return s.k5(n.shape,o.shape,"Error in squaredDifferenceStrict: "),(0,m.$)(n,o)}}),w=(0,h.op)({subStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","subStrict"),o=(0,r._1)(t,"b","subStrict");return s.k5(n.shape,o.shape,"Error in subStrict: "),(0,f.l)(n,o)}})},8247:(e,t,n)=>{"use strict";n.d(t,{U:()=>l});var a=n(7097),r=n(9121),s=n(3740),o=n(8723),i=n(2668),u=n(4968);const l=(0,i.op)({broadcastTo_:function(e,t){let n=(0,s._1)(e,"broadcastTo","x");const i=n.shape;if(t.some((e=>!(e>0)||e%1!=0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=(0,u.X)(n,e)}const l=n.shape,d=Array.from(t);for(let e=t.length-1;e>=0;e--)if(l[e]===t[e])d[e]=1;else if(1!==n.shape[e])throw new Error(`broadcastTo(): [${i}] cannot be broadcast to [${t}].`);if(0===d.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return(0,o.d)(n);const c={x:n},h={shape:t,inputShape:l};return a.BV.runKernelFunc((e=>e.tile(n,d)),c,null,r.Ly,h)}})},2200:(e,t,n)=>{"use strict";function a(e,t){const n=e.length,a=[];for(let r=0;r<n;r++){const s=n-1-r,o=e[s]||1;(t[t.length-1-r]||1)>1&&1===o&&a.unshift(s)}return a}function r(e,t){const n=[];for(let a=0;a<t.length;a++){const r=e[e.length-a-1],s=t.length-a-1,o=t[s];(null==r||1===r&&o>1)&&n.unshift(s)}return n}function s(e,t){const n=[],a=Math.max(e.length,t.length);for(let r=0;r<a;r++){let a=e[e.length-r-1];null==a&&(a=1);let s=t[t.length-r-1];if(null==s&&(s=1),1===a)n.unshift(s);else if(1===s)n.unshift(a);else{if(a!==s)throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`);n.unshift(a)}}return n}n.d(t,{XF:()=>a,RR:()=>r,$N:()=>s})},2657:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var a=n(4077),r=n(569);function s(e,t="float32",n){return t=t||"float32",r.Mu(e),new a.YD(e,t,n)}},2271:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({cast_:function(e,t){const n=(0,s._1)(e,"x","cast");if(!o.LP(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const i={x:n},u={dtype:t};return a.BV.runKernelFunc((e=>e.cast(n,t)),i,null,r.RF,u)}})},6825:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({ceil_:function(e){const t=(0,s._1)(e,"x","ceil"),n={x:t};return a.BV.runKernelFunc((e=>e.ceil(t)),n,null,r.gJ)}})},2279:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({clipByValue_:function(e,t,n){const i=(0,s._1)(e,"x","clipByValue");o.hu(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`));const u={x:i},l={clipValueMin:t,clipValueMax:n};return a.BV.runKernelFunc(((e,a)=>{const r=e.clip(i,t,n);return a([i]),r}),u,null,r.xn,l)}})},8723:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({clone_:function(e){const t=(0,s._1)(e,"x","clone",null),n={x:t};return a.BV.runKernelFunc((()=>a.BV.makeTensorFromDataId(t.dataId,t.shape,t.dtype)),n,null,r.iJ)}})},3334:(e,t,n)=>{"use strict";n.d(t,{zV:()=>p,bZ:()=>m,g1:()=>f,SF:()=>_,O_:()=>g,FG:()=>y});var a=n(4368),r=n(3740),s=n(569),o=n(6477),i=n(636),u=n(7630),l=n(6573),d=n(624),c=n(6500),h=n(2668);const p=(0,h.op)({equalStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","equalStrict"),i=(0,r._1)(t,"b","equalStrict");return(0,s.k5)(n.shape,i.shape,"Error in equalStrict: "),(0,o.D)(n,i)}}),m=(0,h.op)({greaterEqualStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","greaterEqualStrict"),o=(0,r._1)(t,"b","greaterEqualStrict");return(0,s.k5)(n.shape,o.shape,"Error in greaterEqualStrict: "),(0,u.b)(n,o)}}),f=(0,h.op)({greaterStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","greaterStrict"),o=(0,r._1)(t,"b","greaterStrict");return(0,s.k5)(n.shape,o.shape,"Error in greaterStrict: "),(0,i.p)(n,o)}}),_=(0,h.op)({lessEqualStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","lessEqualStrict"),o=(0,r._1)(t,"b","lessEqualStrict");return(0,s.k5)(n.shape,o.shape,"Error in lessEqualStrict: "),(0,d.z)(n,o)}}),g=(0,h.op)({lessStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","lessStrict"),o=(0,r._1)(t,"b","lessStrict");return(0,s.k5)(n.shape,o.shape,"Error in lessStrict: "),(0,l.d)(n,o)}}),y=(0,h.op)({notEqualStrict_:function(e,t){(0,a.MX)("strict variants of ops have been deprecated and will be removed in future");const n=(0,r._1)(e,"a","notEqualStrict"),o=(0,r._1)(t,"b","notEqualStrict");return(0,s.k5)(n.shape,o.shape,"Error in notEqualStrict: "),(0,c.Q)(n,o)}})},1661:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({complex_:function(e,t){const n=(0,s._1)(e,"real","complex"),i=(0,s._1)(t,"imag","complex");o.k5(n.shape,i.shape,`real and imag shapes, ${n.shape} and ${i.shape}, must match in call to tf.complex().`);const u={real:n,imag:i};return a.BV.runKernelFunc((e=>e.complex(n,i)),u,null,r.Zz)}})},6884:(e,t,n)=>{"use strict";n.d(t,{z:()=>d});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(398),u=n(2668),l=n(701);const d=(0,u.op)({concat_:function(e,t=0){(0,o.hu)(e.length>=1,(()=>"Pass at least one tensor to concat"));let n=(0,s.sI)(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)}));const u=n,d={axis:t};return a.BV.runKernelFunc(((e,a)=>{const r=(0,o.EC)(t,n[0].shape)[0],s=(0,i.N)(n.map((e=>e.shape)),r);if(0===(0,o.NA)(s))return(0,l.X)([],s);if(n=n.filter((e=>e.size>0)),1===n.length)return n[0];const u=n.map((e=>e.shape));(0,i.o)(u,r);const d=e.concat(n,r);return a(n),d}),u,null,r.Eh,d)}})},398:(e,t,n)=>{"use strict";n.d(t,{o:()=>r,N:()=>s});var a=n(569);function r(e,t){const n=e[0].length;e.forEach(((e,t)=>{a.hu(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),a.hu(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const r=e[0];e.forEach(((e,s)=>{for(let o=0;o<n;o++)a.hu(o===t||e[o]===r[o],(()=>`Error in concat${n}D: Shape of tensors[${s}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${s}.`))}))}function s(e,t){const n=e[0].slice();for(let a=1;a<e.length;a++)n[t]+=e[a][t];return n}},1355:(e,t,n)=>{"use strict";n.d(t,{P:()=>l});var a=n(3740),r=n(569),s=n(4794),o=n(2582),i=n(2668),u=n(4968);const l=(0,i.op)({conv1d_:function(e,t,n,i,l="NWC",d=1,c){const h=(0,a._1)(e,"x","conv1d"),p=(0,a._1)(t,"filter","conv1d");let m=h,f=!1;2===h.rank&&(f=!0,m=(0,u.X)(h,[1,h.shape[0],h.shape[1]])),r.hu(3===m.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${m.rank}.`)),r.hu(3===p.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${p.rank}.`)),null!=c&&r.hu(r.GN(i),(()=>`Error in conv1d: pad must be an integer when using, dimRoundingMode ${c} but got pad ${i}.`)),r.hu(m.shape[2]===p.shape[1],(()=>`Error in conv1d: depth of input (${m.shape[2]}) must match input depth for filter ${p.shape[1]}.`)),r.hu(o.jT(n,d),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${d}'`)),r.hu("NWC"===l,(()=>`Error in conv1d: got dataFormat of ${l} but only NWC is currently supported.`));const _=(0,u.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]]),g=(0,u.X)(m,[m.shape[0],1,m.shape[1],m.shape[2]]),y=[1,n],b=[1,d],v=(0,s.T)(g,_,y,i,"NHWC",b,c);return f?(0,u.X)(v,[v.shape[2],v.shape[3]]):(0,u.X)(v,[v.shape[0],v.shape[2],v.shape[3]])}})},4794:(e,t,n)=>{"use strict";n.d(t,{T:()=>d});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(2582),u=n(2668),l=n(4968);const d=(0,u.op)({conv2d_:function(e,t,n,u,d="NHWC",c=[1,1],h){const p=(0,s._1)(e,"x","conv2d"),m=(0,s._1)(t,"filter","conv2d");let f=p,_=!1;3===p.rank&&(_=!0,f=(0,l.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),o.hu(4===f.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${f.rank}.`)),o.hu(4===m.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${m.rank}.`)),null!=h&&o.hu(o.GN(u),(()=>`Error in conv2d: pad must be an integer when using, dimRoundingMode ${h} but got pad ${u}.`));const g="NHWC"===d?f.shape[3]:f.shape[1];o.hu(g===m.shape[2],(()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${m.shape[2]}.`)),o.hu(i.jT(n,c),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${c}'`));const y={x:f,filter:m},b={strides:n,pad:u,dataFormat:d,dilations:c,dimRoundingMode:h},v=a.BV.runKernelFunc(((e,t)=>{const a=i.sl(d),r=i.Ix(f.shape,m.shape,n,c,u,h,!1,a),s=e.conv2d(f,m,r);return t([f,m]),s}),y,null,r.mh,b);return _?(0,l.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},6013:(e,t,n)=>{"use strict";n.d(t,{p:()=>l});var a=n(7097),r=n(9121),s=n(569),o=n(2582),i=n(2668),u=n(4968);const l=(0,i.op)({conv2DBackpropFilter_:function(e,t,n,i,l,d="NHWC",c){let h=e;3===e.rank&&(h=(0,u.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let p=t;3===p.rank&&(p=(0,u.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),s.hu(4===h.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${h.shape}.`)),s.hu(4===p.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${p.shape}.`)),s.hu(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const m="NHWC"===d?h.shape[3]:h.shape[1],f="NHWC"===d?p.shape[3]:p.shape[1];s.hu(m===n[2],(()=>`Error in conv2dDerFilter: depth of input ${m}) must match input depth in filter (${n[2]}.`)),s.hu(f===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${f}) must match output depth for filter (${n[3]}).`)),null!=c&&s.hu(s.GN(l),(()=>`Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode ${c} but got pad ${l}.`));const _={x:h,dy:p},g={strides:i,pad:l,dataFormat:d,dimRoundingMode:c,filterShape:n};return a.BV.runKernelFunc((e=>{const t=o.sl(d),a=o.Ix(h.shape,n,i,1,l,c,!1,t);return e.conv2dDerFilter(h,p,a)}),_,null,r.wU,g)}})},9832:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var a=n(7097),r=n(9121),s=n(569),o=n(2582),i=n(2668),u=n(4968);const l=(0,i.op)({conv2DBackpropInput_:function(e,t,n,i,l,d="NHWC",c){s.hu(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let h=e,p=t,m=!1;3===t.rank&&(m=!0,p=(0,u.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),h=[1,e[0],e[1],e[2]]),s.hu(4===h.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${h.length}.`)),s.hu(4===p.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${p.rank}`)),s.hu(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const f="NHWC"===d?h[3]:h[1],_="NHWC"===d?p.shape[3]:p.shape[1];s.hu(f===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${f}) must match input depth for filter ${n.shape[2]}.`)),s.hu(_===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${_}) must match output depth for filter ${n.shape[3]}.`)),null!=c&&s.hu(s.GN(l),(()=>`Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode ${c} but got pad ${l}.`));const g={dy:p,filter:n},y={strides:i,pad:l,dataFormat:d,dimRoundingMode:c,inputShape:h},b=a.BV.runKernelFunc(((e,t)=>{const a=o.sl(d),r=o.Ix(h,n.shape,i,1,l,c,!1,a),s=e.conv2dDerInput(p,n,r);return t([p,n]),s}),g,null,r.wm,y);return m?(0,u.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},1405:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var a=n(3740),r=n(9832);const s=(0,n(2668).op)({conv2dTranspose_:function(e,t,n,s,o,i){const u=(0,a._1)(e,"x","conv2dTranspose"),l=(0,a._1)(t,"filter","conv2dTranspose");return(0,r._)(n,u,l,s,o,"NHWC",i)}})},473:(e,t,n)=>{"use strict";n.d(t,{p:()=>d});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(2582),u=n(2668),l=n(4968);const d=(0,u.op)({conv3d_:function(e,t,n,u,d="NDHWC",c=[1,1,1]){const h=(0,s._1)(e,"x","conv3d"),p=(0,s._1)(t,"filter","conv3d");let m=h,f=!1;4===h.rank&&(f=!0,m=(0,l.X)(h,[1,h.shape[0],h.shape[1],h.shape[2],h.shape[3]])),o.hu(5===m.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${m.rank}.`)),o.hu(5===p.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${p.rank}.`)),o.hu(m.shape[4]===p.shape[3],(()=>`Error in conv3d: depth of input (${m.shape[4]}) must match input depth for filter ${p.shape[3]}.`)),o.hu((0,i.jT)(n,c),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${c}'`)),o.hu("NDHWC"===d,(()=>`Error in conv3d: got dataFormat of ${d} but only NDHWC is currently supported.`));const _={x:m,filter:p},g={strides:n,pad:u,dataFormat:d,dilations:c},y=a.BV.runKernelFunc(((e,t)=>{const a=i.jw(m.shape,p.shape,n,c,u),r=e.conv3d(m,p,a);return t([m,p]),r}),_,null,r.x1,g);return f?(0,l.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},7594:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var a=n(7097),r=n(9121),s=n(569),o=n(2582),i=n(2668),u=n(4968);const l=(0,i.op)({conv3DBackpropInput_:function(e,t,n,i,l){s.hu(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let d=e,c=t,h=!1;4===t.rank&&(h=!0,c=(0,u.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),d=[1,e[0],e[1],e[2],e[3]]);const p=d[4],m=c.shape[4];s.hu(5===d.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${d.length}.`)),s.hu(5===c.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${c.rank}`)),s.hu(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),s.hu(p===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${p}) must match input depth for filter ${n.shape[3]}.`)),s.hu(m===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${m}) must match output depth for filter ${n.shape[4]}.`));const f={dy:c,filter:n},_={pad:l,strides:i,inputShape:d},g=a.BV.runKernelFunc((e=>{const t=o.jw(d,n.shape,i,1,l);return e.conv3dDerInput(c,n,t)}),f,null,r.ik,_);return h?(0,u.X)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},2582:(e,t,n)=>{"use strict";n.d(t,{Rf:()=>r,Xw:()=>s,pl:()=>o,Ix:()=>i,jw:()=>u,aO:()=>l,I0:()=>m,jT:()=>f,sl:()=>_});var a=n(569);function r(e,t,n,a,r="NHWC",s){return i(e,[...t,e[3]],n,s,a,null,null,_(r))}function s(e,t,n,a,r,s,o="channelsLast"){const[u,l]=d(t);let c;if("channelsLast"===o)c=[u,l,e[3],e[3]];else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);c=[u,l,e[1],e[1]]}return i(e,c,n,a,r,s,!1,o)}function o(e,t,n,a,r,s,o="NDHWC"){const[i,l,d]=c(t);let h,p;if("NDHWC"===o)p="channelsLast",h=[i,l,d,e[4],e[4]];else{if("NCDHW"!==o)throw new Error(`Unknown dataFormat ${o}`);p="channelsFirst",h=[i,l,d,e[1],e[1]]}return u(e,h,n,a,r,!1,p,s)}function i(e,t,n,r,s,o,i=!1,u="channelsLast"){let[c,m,f,_]=[-1,-1,-1,-1];if("channelsLast"===u)[c,m,f,_]=e;else{if("channelsFirst"!==u)throw new Error(`Unknown dataFormat ${u}`);[c,_,m,f]=e}const[g,y,,b]=t,[v,x]=d(n),[k,M]=d(r),w=h(g,k),T=h(y,M),{padInfo:L,outHeight:S,outWidth:D}=function(e,t,n,r,s,o,i,u,d){let c,h,m;if("number"==typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const s=function(e,t,n,r,s){null==r&&(r=l(e,t,n));const o=e[1],i=p((e[0]-t+2*r)/n+1,s);a.hu(a.GN(i),(()=>`The output # of rows (${i}) must be an integer. Change the stride and/or zero pad parameters`));const u=p((o-t+2*r)/n+1,s);return a.hu(a.GN(u),(()=>`The output # of columns (${u}) must be an integer. Change the stride and/or zero pad parameters`)),[i,u]}([t,n],o,r,e,u);h=s[0],m=s[1]}else if("same"===e){h=Math.ceil(t/r),m=Math.ceil(n/s);const e=Math.max(0,(h-1)*r+o-t),a=Math.max(0,(m-1)*s+i-n),u=Math.floor(e/2),l=e-u,d=Math.floor(a/2);c={top:u,bottom:l,left:d,right:a-d,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},h=Math.ceil((t-o+1)/r),m=Math.ceil((n-i+1)/s);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const a="channelsLast"===d?e[1][0]:e[2][0],l="channelsLast"===d?e[1][1]:e[2][1],f="channelsLast"===d?e[2][0]:e[3][0],_="channelsLast"===d?e[2][1]:e[3][1];c={top:a,bottom:l,left:f,right:_,type:0===a&&0===l&&0===f&&0===_?"VALID":"EXPLICIT"},h=p((t-o+a+l)/r+1,u),m=p((n-i+f+_)/s+1,u)}}return{padInfo:c,outHeight:h,outWidth:m}}(s,m,f,v,x,w,T,o,u),I=i?b*_:b;let N;return"channelsFirst"===u?N=[c,I,S,D]:"channelsLast"===u&&(N=[c,S,D,I]),{batchSize:c,dataFormat:u,inHeight:m,inWidth:f,inChannels:_,outHeight:S,outWidth:D,outChannels:I,padInfo:L,strideHeight:v,strideWidth:x,filterHeight:g,filterWidth:y,effectiveFilterHeight:w,effectiveFilterWidth:T,dilationHeight:k,dilationWidth:M,inShape:e,outShape:N,filterShape:t}}function u(e,t,n,r,s,o=!1,i="channelsLast",u){let[d,m,f,_,g]=[-1,-1,-1,-1,-1];if("channelsLast"===i)[d,m,f,_,g]=e;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[d,g,m,f,_]=e}const[y,b,v,,x]=t,[k,M,w]=c(n),[T,L,S]=c(r),D=h(y,T),I=h(b,L),N=h(v,S),{padInfo:C,outDepth:E,outHeight:A,outWidth:Y}=function(e,t,n,r,s,o,i,u,d,c,h){let m,f,_,g;if("number"==typeof e){m={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const o=function(e,t,n,r,s,o){null==s&&(s=l(e,t,r));const i=e[1],u=e[2],d=p((e[0]-t+2*s)/r+1,o);a.hu(a.GN(d),(()=>`The output # of depths (${d}) must be an integer. Change the stride and/or zero pad parameters`));const c=p((i-t+2*s)/r+1,o);a.hu(a.GN(c),(()=>`The output # of rows (${c}) must be an integer. Change the stride and/or zero pad parameters`));const h=p((u-t+2*s)/r+1,o);return a.hu(a.GN(h),(()=>`The output # of columns (${h}) must be an integer. Change the stride and/or zero pad parameters`)),[d,c,h,1]}([t,n,r,1],u,0,s,e,h);f=o[0],_=o[1],g=o[2]}else if("same"===e){f=Math.ceil(t/s),_=Math.ceil(n/o),g=Math.ceil(r/i);const e=(f-1)*s+u-t,a=(_-1)*o+d-n,l=(g-1)*i+c-r,h=Math.floor(e/2),p=e-h,y=Math.floor(a/2),b=a-y,v=Math.floor(l/2);m={top:y,bottom:b,left:v,right:l-v,front:h,back:p,type:"SAME"}}else{if("valid"!==e)throw Error(`Unknown padding parameter: ${e}`);m={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((t-u+1)/s),_=Math.ceil((n-d+1)/o),g=Math.ceil((r-c+1)/i)}return{padInfo:m,outDepth:f,outHeight:_,outWidth:g}}(s,m,f,_,k,M,w,D,I,N,u),F=o?x*g:x;let R;return"channelsFirst"===i?R=[d,F,E,A,Y]:"channelsLast"===i&&(R=[d,E,A,Y,F]),{batchSize:d,dataFormat:i,inDepth:m,inHeight:f,inWidth:_,inChannels:g,outDepth:E,outHeight:A,outWidth:Y,outChannels:F,padInfo:C,strideDepth:k,strideHeight:M,strideWidth:w,filterDepth:y,filterHeight:b,filterWidth:v,effectiveFilterDepth:D,effectiveFilterHeight:I,effectiveFilterWidth:N,dilationDepth:T,dilationHeight:L,dilationWidth:S,inShape:e,outShape:R,filterShape:t}}function l(e,t,n,a=1){const r=h(t,a);return Math.floor((e[0]*(n-1)-n+r)/2)}function d(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function c(e){return"number"==typeof e?[e,e,e]:e}function h(e,t){return t<=1?e:e+(e-1)*(t-1)}function p(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function m(e){const[t,n,a]=d(e);return 1===t&&1===n&&1===a}function f(e,t){return m(e)||m(t)}function _(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}},173:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({cos_:function(e){const t=(0,s._1)(e,"x","cos"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.cos(t);return n([t]),a}),n,null,r.mc)}})},2699:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({cosh_:function(e){const t=(0,s._1)(e,"x","cosh"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.cosh(t);return n([t]),a}),n,null,r.TR)}})},7405:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var a=n(7097),r=n(9121),s=n(3740),o=n(3591),i=n(2668),u=n(9065);const l=(0,i.op)({cumsum_:function(e,t=0,n=!1,i=!1){const l=(0,s._1)(e,"x","cumsum"),d={x:l},c={axis:t,exclusive:n,reverse:i};return a.BV.runKernelFunc(((e,a)=>{const r=(0,o.Q3)([t],l.rank);let s=l;null!=r&&(s=(0,u.p)(l,r));const d=(0,o.sY)(1,l.rank)[0];let c=e.cumsum(s,d,n,i);if(a([l]),null!=r){const e=(0,o.LJ)(r);c=(0,u.p)(c,e)}return c}),d,null,r.iH,c)}})},9112:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({depthToSpace_:function(e,t,n="NHWC"){const i=(0,s._1)(e,"x","depthToSpace"),u="NHWC"===n?i.shape[1]:i.shape[2],l="NHWC"===n?i.shape[2]:i.shape[3],d="NHWC"===n?i.shape[3]:i.shape[1];o.hu(u*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${u} and ${t}  for depthToSpace with input shape\n    ${i.shape}`)),o.hu(l*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${l} and ${t} for depthToSpace with input shape\n        ${i.shape}`)),o.hu(d%(t*t)==0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${d} for depthToSpace with input shape ${i.shape}`));const c={x:i},h={blockSize:t,dataFormat:n};return a.BV.runKernelFunc((e=>e.depthToSpace(i,t,n)),c,null,r.T0,h)}})},4718:(e,t,n)=>{"use strict";n.d(t,{B:()=>d});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(2582),u=n(2668),l=n(4968);const d=(0,u.op)({depthwiseConv2d_:function(e,t,n,u,d="NHWC",c=[1,1],h){const p=(0,s._1)(e,"x","depthwiseConv2d"),m=(0,s._1)(t,"filter","depthwiseConv2d");let f=p,_=!1;3===p.rank&&(_=!0,f=(0,l.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),o.hu(4===f.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${f.rank}.`)),o.hu(4===m.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${m.rank}.`)),o.hu(f.shape[3]===m.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${f.shape[3]}) must match the inChannels dimension in filter ${m.shape[2]}.`)),null!=h&&o.hu(o.GN(u),(()=>`Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode ${h} but got pad ${u}.`));const g={x:f,filter:m},y={strides:n,pad:u,dataFormat:d,dilations:c,dimRoundingMode:h},b=a.BV.runKernelFunc(((e,t)=>{null==c&&(c=[1,1]),o.hu(i.jT(n,c),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${c}'`));const a=i.Ix(f.shape,m.shape,n,c,u,h,!0),r=e.depthwiseConv2D(f,m,a);return t([f,m]),r}),g,null,r.ci,y);return _?(0,l.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},8098:(e,t,n)=>{"use strict";n.d(t,{z:()=>u});var a=n(7097),r=n(9121),s=n(2582),o=n(2668),i=n(4968);const u=(0,o.op)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,o,u,l=[1,1],d){let c=e;3===e.rank&&(c=(0,i.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let h=t;3===h.rank&&(h=(0,i.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const p={x:c,dy:h},m={strides:o,pad:u,dimRoundingMode:d,dilations:l,filterShape:n};return a.BV.runKernelFunc((t=>{const a=s.Ix(e.shape,n,o,l,u,d,!0);return t.depthwiseConv2DDerFilter(c,h,a)}),p,null,r.sL,m)}})},4375:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var a=n(7097),r=n(9121),s=n(2582),o=n(2668),i=n(4968);const u=(0,o.op)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,o,u,l=[1,1],d){let c=t,h=!1;3===t.rank&&(h=!0,c=(0,i.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const p={dy:c,filter:n},m={strides:o,pad:u,dimRoundingMode:d,dilations:l,inputShape:e},f=a.BV.runKernelFunc((t=>{const a=s.Ix(e,n.shape,o,l,u,d,!0);return t.depthwiseConv2DDerInput(c,n,a)}),p,null,r.y7,m);return h?(0,i.X)(f,[f.shape[1],f.shape[2],f.shape[3]]):f}})},557:(e,t,n)=>{"use strict";n.d(t,{W:()=>l});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(2668),u=n(4968);const l=(0,i.op)({dilation2d_:function(e,t,n,i,l=[1,1],d="NHWC"){const c=(0,s._1)(e,"x","dilation2d"),h=(0,s._1)(t,"filter","dilation2d");o.hu(3===c.rank||4===c.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${c.rank}.`)),o.hu(3===h.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${h.rank}.`)),o.hu("NHWC"===d,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${d}`));let p=c,m=!1;3===c.rank&&(p=(0,u.X)(c,[1,c.shape[0],c.shape[1],c.shape[2]]),m=!0);const f={x:p,filter:h},_={strides:n,pad:i,dilations:l},g=a.BV.runKernel(r.p4,f,_);return m?(0,u.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},1274:(e,t,n)=>{"use strict";n.d(t,{h:()=>u});var a=n(7097),r=n(9121),s=n(747),o=n(3740),i=n(9165);const u=(0,n(2668).op)({div_:function(e,t){let n=(0,o._1)(e,"a","div"),u=(0,o._1)(t,"b","div");if([n,u]=(0,s.makeTypesMatch)(n,u),"int32"===n.dtype&&"int32"===u.dtype)return(0,i.q)(n,u);const l={a:n,b:u};return a.BV.runKernelFunc(((e,t)=>{const a=e.realDivide(n,u);return t([n,u]),a}),l,null,r.ZC,{})}})},9322:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var a=n(747),r=n(3740),s=n(1274),o=n(6477),i=n(2668),u=n(5912),l=n(6577);const d=(0,i.op)({divNoNan_:function(e,t){let n=(0,r._1)(e,"a","div"),i=(0,r._1)(t,"b","div");[n,i]=(0,a.makeTypesMatch)(n,i);const d=(0,s.h)(n,i),c=(0,l.P)(d),h=(0,o.D)(i,c);return(0,u.a)(h,c,d)}})},548:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(3740),r=n(569),s=n(8687),o=n(2668),i=n(4968);const u=(0,o.op)({dot_:function(e,t){const n=(0,a._1)(e,"t1","dot"),o=(0,a._1)(t,"t2","dot");r.hu(!(1!==n.rank&&2!==n.rank||1!==o.rank&&2!==o.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${o.rank}.`));const u=1===n.rank?n.size:n.shape[1],l=1===o.rank?o.size:o.shape[0];if(r.hu(u===l,(()=>`Error in dot: inner dimensions of inputs must match, but got ${u} and ${l}.`)),1===n.rank&&1===o.rank){const e=(0,i.X)(n,[1,-1]),t=(0,i.X)(o,[-1,1]),a=(0,s.O)(e,t);return(0,i.X)(a,[])}if(1===n.rank&&2===o.rank){const e=(0,i.X)(n,[1,-1]),t=(0,i.X)(o,[o.shape[0],o.shape[1]]),a=(0,s.O)(e,t);return(0,i.X)(a,[a.size])}if(2===n.rank&&1===o.rank){const e=(0,i.X)(o,[-1,1]),t=(0,s.O)(n,e);return(0,i.X)(t,[t.size])}{const e=(0,i.X)(o,[o.shape[0],o.shape[1]]);return(0,s.O)(n,e)}}})},3233:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({elu_:function(e){const t=(0,s._1)(e,"x","elu"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.elu(t);return n([a]),a}),n,null,r.SX)}})},6477:(e,t,n)=>{"use strict";n.d(t,{D:()=>u});var a=n(7097),r=n(9121),s=n(747),o=n(3740),i=n(2200);const u=(0,n(2668).op)({equal_:function(e,t){let n=(0,o._1)(e,"a","equal"),u=(0,o._1)(t,"b","equal");[n,u]=(0,s.makeTypesMatch)(n,u),(0,i.$N)(n.shape,u.shape);const l={a:n,b:u};return a.BV.runKernelFunc((e=>e.equal(n,u)),l,null,r.hd)}})},4650:(e,t,n)=>{"use strict";n.d(t,{q:()=>u});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(2271);const u=(0,n(2668).op)({erf_:function(e){let t=(0,s._1)(e,"x","erf");o.hu("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=(0,i.p)(t,"float32"));const n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.erf(t);return n([t]),a}),n,null,r.Om)}})},4842:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({exp_:function(e){const t=(0,s._1)(e,"x","exp"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.exp(t);return n([a]),a}),n,null,r.NE)}})},1300:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var a=n(3740),r=n(569),s=n(2668),o=n(4968);const i=(0,s.op)({expandDims_:function(e,t=0){const n=(0,a._1)(e,"x","expandDims",null);r.hu(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const s=n.shape.slice();return t<0&&(r.hu(-(n.rank+1)<=t,(()=>`Axis must be in the interval [${-(n.rank+1)}, ${n.rank}]`)),t=n.rank+t+1),s.splice(t,0,1),(0,o.X)(n,s)}})},3426:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({expm1_:function(e){const t=(0,s._1)(e,"x","expm1"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.expm1(t);return n([t]),a}),n,null,r.Y0)}})},4006:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var a=n(7097),r=n(9121);function s(e,t,n){const s={shape:e,value:t,dtype:n};return a.BV.runKernelFunc((a=>a.fill(e,t,n)),{},null,r.de,s)}},6943:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({floor_:function(e){const t=(0,s._1)(e,"x","floor"),n={x:t};return a.BV.runKernelFunc((e=>e.floor(t)),n,null,r.OR)}})},9165:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});var a=n(7097),r=n(9121),s=n(747),o=n(3740);const i=(0,n(2668).op)({floorDiv_:function(e,t){let n=(0,o._1)(e,"a","floorDiv"),i=(0,o._1)(t,"b","floorDiv");[n,i]=(0,s.makeTypesMatch)(n,i);const u={a:n,b:i};return a.BV.runKernelFunc(((e,t)=>{const a=e.floorDiv(n,i);return t([n,i]),a}),u,null,r.je)}})},4624:(e,t,n)=>{"use strict";n.r(t),n.d(t,{conv2d:()=>y,depthwiseConv2d:()=>k,matMul:()=>w});var a=n(7097),r=n(633),s=n(9121),o=n(747),i=n(3740),u=n(569),l=n(6407),d=n(2200),c=n(4794),h=n(6013),p=n(9832),m=n(2582),f=n(9323),_=n(2668),g=n(4968);const y=(0,_.op)({fusedConv2d_:function({x:e,filter:t,strides:n,pad:_,dataFormat:y="NHWC",dilations:b=[1,1],dimRoundingMode:v,bias:x,activation:k="linear",preluActivationWeights:M}){if(k=k||"linear",!1===(0,f.uy)(a.BV.state.gradientDepth,k)){let a=(0,c.T)(e,t,n,_,y,b,v);return null!=x&&(a=(0,l.I)(a,x)),(0,f.QH)(a,k,M)}const w=(0,i._1)(e,"x","conv2d"),T=(0,i._1)(t,"filter","conv2d");let L=w,S=!1;3===w.rank&&(S=!0,L=(0,g.X)(w,[1,w.shape[0],w.shape[1],w.shape[2]])),u.hu(4===L.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${L.rank}.`)),u.hu(4===T.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${T.rank}.`)),null!=v&&u.hu(u.GN(_),(()=>`Error in fused conv2d: pad must be an integer when using, dimRoundingMode ${v} but got pad ${_}.`)),u.hu(L.shape[3]===T.shape[2],(()=>`Error in conv2d: depth of input (${L.shape[3]}) must match input depth for filter ${T.shape[2]}.`)),u.hu(m.jT(n,b),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${b}'`)),u.hu("NHWC"===y,(()=>`Error in conv2d: got dataFormat of ${y} but only NHWC is currently supported.`));const D=m.Ix(L.shape,T.shape,n,b,_,v);let I,N;null!=x&&(I=(0,i._1)(x,"bias","fused conv2d"),[I]=(0,o.makeTypesMatch)(I,w),d.$N(D.outShape,I.shape)),null!=M&&(N=(0,i._1)(M,"prelu weights","fused conv2d"));const C=(e,t)=>{const[a,r,s,o]=t,i=(0,f.Fr)(e,s,k);u.hu(m.I0(b),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${b}'`));const l=[(0,p._)(r.shape,i,a,n,_),(0,h.p)(r,i,a.shape,n,_)];if(null!=o){const e=(0,f.pf)(o,i);l.push(e)}return l},E=e=>e.fusedConv2d({input:L,filter:T,convInfo:D,bias:I,activation:k,preluActivationWeights:N}),A={x:L,filter:T,bias:I,preluActivationWeights:N},Y={strides:n,pad:_,dataFormat:y,dilations:b,dimRoundingMode:v,activation:k};return null==x?(0,r.cb)(((e,t,n)=>{let r=a.BV.runKernelFunc(E,A,null,s._V,Y);return n([t,e,r]),S&&(r=(0,g.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:C}}))(L,T):(0,r.cb)(((e,t,n,r)=>{let o=a.BV.runKernelFunc(E,A,null,s._V,Y);return r([t,e,o,n]),S&&(o=(0,g.X)(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:C}}))(L,T,I)}});var b=n(4718),v=n(8098),x=n(4375);const k=(0,_.op)({fusedDepthwiseConv2d_:function({x:e,filter:t,strides:n,pad:c,dataFormat:h="NHWC",dilations:p=[1,1],dimRoundingMode:_,bias:y,activation:k="linear",preluActivationWeights:M}){if(!1===(0,f.uy)(a.BV.state.gradientDepth,k)){let a=(0,b.B)(e,t,n,c,h,p,_);return null!=y&&(a=(0,l.I)(a,y)),(0,f.QH)(a,k,M)}const w=(0,i._1)(e,"x","depthwiseConv2d"),T=(0,i._1)(t,"filter","depthwiseConv2d");let L=w,S=!1;3===w.rank&&(S=!0,L=(0,g.X)(w,[1,w.shape[0],w.shape[1],w.shape[2]])),u.hu(4===L.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${L.rank}.`)),u.hu(4===T.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${T.rank}.`)),u.hu(L.shape[3]===T.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${L.shape[3]}) must match the inChannels dimension in filter ${T.shape[2]}.`)),null==p&&(p=[1,1]),u.hu(m.jT(n,p),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${p}'`)),null!=_&&u.hu(u.GN(c),(()=>`Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode ${_} but got pad ${c}.`));const D=m.Ix(L.shape,T.shape,n,p,c,_,!0);let I,N;null!=y&&(I=(0,i._1)(y,"bias","fused conv2d"),[I]=(0,o.makeTypesMatch)(I,w),d.$N(D.outShape,I.shape)),null!=M&&(N=(0,i._1)(M,"prelu weights","fused depthwiseConv2d"));const C=(e,t)=>{u.hu(m.I0(p),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${p}'`));const[a,r,s,o]=t,i=(0,f.Fr)(e,s,k),l=(0,x.v)(r.shape,i,a,n,c,p,_),d=(0,v.z)(r,i,a.shape,n,c,p,_);return null!=o?[l,d,(0,f.pf)(I,i)]:[l,d]},E=e=>e.fusedDepthwiseConv2D({input:L,filter:T,convInfo:D,bias:I,activation:k,preluActivationWeights:N}),A={x:L,filter:T,bias:I,preluActivationWeights:N},Y={strides:n,pad:c,dataFormat:h,dilations:p,dimRoundingMode:_,activation:k};return null==y?(0,r.cb)(((e,t,n)=>{let r=a.BV.runKernelFunc(E,A,null,s.lu,Y);return n([t,e,r]),S&&(r=(0,g.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:C}}))(L,T):(0,r.cb)(((e,t,n,r)=>{let o=a.BV.runKernelFunc(E,A,null,s.lu,Y);return r([t,e,o,n]),S&&(o=(0,g.X)(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:C}}))(L,T,I)}});var M=n(8687);const w=(0,_.op)({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:c=!1,bias:h,activation:p="linear",preluActivationWeights:m}){if(!1===(0,f.uy)(a.BV.state.gradientDepth,p)){let a=(0,M.O)(e,t,n,c);return null!=h&&(a=(0,l.I)(a,h)),(0,f.QH)(a,p,m)}let _=(0,i._1)(e,"a","fused matMul"),y=(0,i._1)(t,"b","fused matMul");[_,y]=(0,o.makeTypesMatch)(_,y);const b=n?_.shape[_.rank-2]:_.shape[_.rank-1],v=c?y.shape[y.rank-1]:y.shape[y.rank-2],x=n?_.shape[_.rank-1]:_.shape[_.rank-2],k=c?y.shape[y.rank-2]:y.shape[y.rank-1],w=_.shape.slice(0,-2),T=y.shape.slice(0,-2),L=u.NA(w),S=u.NA(T);u.hu(_.rank>=2&&y.rank>=2&&_.rank===y.rank,(()=>`Error in fused matMul: inputs must have the same rank of at least 2, got ranks ${_.rank} and ${y.rank}.`)),u.hu(u.cO(w,T),(()=>`Error in fused matMul: outer dimensions (${w}) and (${T}) of Tensors with shapes ${_.shape} and ${y.shape} must match.`)),u.hu(b===v,(()=>`Error in fused matMul: inner shapes (${b}) and (${v}) of Tensors with shapes ${_.shape} and ${y.shape} and transposeA=${n} and transposeB=${c} must match.`));const D=_.shape.slice(0,-2).concat([x,k]),I=n?(0,g.X)(_,[L,b,x]):(0,g.X)(_,[L,x,b]),N=c?(0,g.X)(y,[S,k,v]):(0,g.X)(y,[S,v,k]);let C,E;null!=h&&(C=(0,i._1)(h,"bias","fused matMul"),[C]=(0,o.makeTypesMatch)(C,_),d.$N(D,C.shape)),null!=m&&(E=(0,i._1)(m,"prelu weights","fused matMul"));const A=(e,t)=>{const[a,r,s,o]=t,i=(0,f.Fr)((0,g.X)(e,s.shape),s,p);let u,l;return n||c?!n&&c?(u=(0,M.O)(i,r,!1,!1),l=(0,M.O)(i,a,!0,!1)):n&&!c?(u=(0,M.O)(r,i,!1,!0),l=(0,M.O)(a,i,!1,!1)):(u=(0,M.O)(r,i,!0,!0),l=(0,M.O)(i,a,!0,!0)):(u=(0,M.O)(i,r,!1,!0),l=(0,M.O)(a,i,!0,!1)),null!=h?[u,l,(0,f.pf)(o,i)]:[u,l]},Y=e=>e.fusedBatchMatMul({a:I,b:N,transposeA:n,transposeB:c,bias:C,activation:p,preluActivationWeights:E}),F={a:I,b:N,bias:C,preluActivationWeights:E},R={transposeA:n,transposeB:c,activation:p};return null==h?(0,r.cb)(((e,t,n)=>{const r=a.BV.runKernelFunc(Y,F,null,s.us,R);return n([e,t,r]),{value:(0,g.X)(r,D),gradFunc:A}}))(I,N):(0,r.cb)(((e,t,n,r)=>{const o=a.BV.runKernelFunc(Y,F,null,s.us,R);return r([e,t,o,n]),{value:(0,g.X)(o,D),gradFunc:A}}))(I,N,C)}})},9323:(e,t,n)=>{"use strict";n.d(t,{Fr:()=>h,pf:()=>p,QH:()=>m,uy:()=>f});var a=n(2200),r=n(3233),s=n(4841),o=n(8151),i=n(7409),u=n(3582),l=n(4968),d=n(1901),c=n(5475);function h(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return(0,s.d)(e,(0,d.N)(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function p(e,t){let n=t;const r=a.RR(e.shape,t.shape);return r.length>0&&(n=(0,c.S)(n,r)),(0,l.X)(n,e.shape)}function m(e,t,n){if("linear"===t)return e;if("relu"===t)return(0,i.U)(e);if("elu"===t)return(0,r.p)(e);if("relu6"===t)return(0,u.b)(e);if("prelu"===t)return(0,o.A)(e,n);throw new Error(`Unknown fused activation ${t}.`)}const f=(e,t)=>!(e>0)||"linear"===t},4926:(e,t,n)=>{"use strict";n.d(t,{I:()=>d});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(2668),u=n(4968),l=n(4931);const d=(0,i.op)({gather_:function(e,t,n=0){const i=(0,s._1)(e,"x","gather"),d=(0,s._1)(t,"indices","gather","int32"),c={x:i,indices:d},h={axis:n};return a.BV.runKernelFunc(((e,t)=>{const a=(0,o.EC)(n,i.shape)[0],r=(0,l.collectGatherOpShapeInfo)(i,d,a),s=e.gather(i,(0,u.X)(d,[d.size]),a);return t([i,d]),(0,u.X)(s,r.outputShape)}),c,null,r.qi,h)}})},7494:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({gatherND_:function(e,t){const n=(0,s._1)(t,"indices","gatherND","int32"),o=(0,s._1)(e,"x","gatherND"),i={params:o,indices:n};return a.BV.runKernelFunc((e=>e.gatherND(o,n)),i,null,r.q1)}})},636:(e,t,n)=>{"use strict";n.d(t,{p:()=>u});var a=n(7097),r=n(9121),s=n(747),o=n(3740),i=n(2200);const u=(0,n(2668).op)({greater_:function(e,t){let n=(0,o._1)(e,"a","greater"),u=(0,o._1)(t,"b","greater");[n,u]=(0,s.makeTypesMatch)(n,u),(0,i.$N)(n.shape,u.shape);const l={a:n,b:u};return a.BV.runKernelFunc((e=>e.greater(n,u)),l,null,r.iZ)}})},7630:(e,t,n)=>{"use strict";n.d(t,{b:()=>u});var a=n(7097),r=n(9121),s=n(747),o=n(3740),i=n(2200);const u=(0,n(2668).op)({greaterEqual_:function(e,t){let n=(0,o._1)(e,"a","greaterEqual"),u=(0,o._1)(t,"b","greaterEqual");[n,u]=(0,s.makeTypesMatch)(n,u),(0,i.$N)(n.shape,u.shape);const l={a:n,b:u};return a.BV.runKernelFunc(((e,t)=>{const a=e.greaterEqual(n,u);return t([n,u]),a}),l,null,r.Ac)}})},4386:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({imag_:function(e){const t=(0,s._1)(e,"input","imag"),n={input:t};return a.BV.runKernelFunc((e=>e.imag(t)),n,null,r.J_)}})},3305:(e,t,n)=>{"use strict";n.d(t,{I:()=>l});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(2668),u=n(4968);const l=(0,i.op)({resizeBilinear_:function(e,t,n=!1){const i=(0,s._1)(e,"images","resizeBilinear");o.hu(3===i.rank||4===i.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${i.rank}.`)),o.hu(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`));let l=i,d=!1;3===i.rank&&(d=!0,l=(0,u.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const[c,h]=t,p={images:l},m={alignCorners:n,size:t},f=a.BV.runKernelFunc(((e,t)=>(t([l]),e.resizeBilinear(l,c,h,n))),p,null,r._Y,m);return d?(0,u.X)(f,[f.shape[1],f.shape[2],f.shape[3]]):f}})},5098:(e,t,n)=>{"use strict";n.d(t,{j:()=>l});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(2668),u=n(4968);const l=(0,i.op)({resizeNearestNeighbor_:function(e,t,n=!1){const i=(0,s._1)(e,"images","resizeNearestNeighbor");o.hu(3===i.rank||4===i.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${i.rank}.`)),o.hu(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),o.hu("float32"===i.dtype||"int32"===i.dtype,(()=>"`images` must have `int32` or `float32` as dtype"));let l=i,d=!1;3===i.rank&&(d=!0,l=(0,u.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const[c,h]=t,p={images:l},m={alignCorners:n,size:t},f=a.BV.runKernelFunc(((e,t)=>(t([l]),e.resizeNearestNeighbor(l,c,h,n))),p,null,r.dp,m);return d?(0,u.X)(f,[f.shape[1],f.shape[2],f.shape[3]]):f}})},3963:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({isFinite_:function(e){const t=(0,s._1)(e,"x","isFinite"),n={x:t};return a.BV.runKernelFunc((e=>e.isFinite(t)),n,null,r.av)}})},4365:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({isInf_:function(e){const t=(0,s._1)(e,"x","isInf"),n={x:t};return a.BV.runKernelFunc((e=>e.isInf(t)),n,null,r.iW)}})},6230:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({isNaN_:function(e){const t=(0,s._1)(e,"x","isNaN"),n={x:t};return a.BV.runKernelFunc((e=>e.isNaN(t)),n,null,r.r7)}})},9133:(e,t,n)=>{"use strict";n.d(t,{h:()=>u});var a=n(3740),r=n(632),s=n(4841),o=n(2668),i=n(9494);const u=(0,o.op)({leakyRelu_:function(e,t=.2){const n=(0,a._1)(e,"x","leakyRelu");return(0,r.g)((0,s.d)((0,i.i)(t),n),n)}})},6573:(e,t,n)=>{"use strict";n.d(t,{d:()=>u});var a=n(7097),r=n(9121),s=n(747),o=n(3740),i=n(2200);const u=(0,n(2668).op)({less_:function(e,t){let n=(0,o._1)(e,"a","less"),u=(0,o._1)(t,"b","less");[n,u]=(0,s.makeTypesMatch)(n,u),(0,i.$N)(n.shape,u.shape);const l={a:n,b:u};return a.BV.runKernelFunc((e=>e.less(n,u)),l,null,r.vt)}})},624:(e,t,n)=>{"use strict";n.d(t,{z:()=>u});var a=n(7097),r=n(9121),s=n(747),o=n(3740),i=n(2200);const u=(0,n(2668).op)({lessEqual_:function(e,t){let n=(0,o._1)(e,"a","lessEqual"),u=(0,o._1)(t,"b","lessEqual");[n,u]=(0,s.makeTypesMatch)(n,u),(0,i.$N)(n.shape,u.shape);const l={a:n,b:u};return a.BV.runKernelFunc(((e,t)=>{const a=e.lessEqual(n,u);return t([n,u]),a}),l,null,r.CA)}})},4135:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var a=n(7097),r=n(9121);function s(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const s={start:e,stop:t,num:n};return a.BV.runKernelFunc((a=>a.linspace(e,t,n)),{},null,r.e7,s)}},9648:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(2668),u=n(4968);const l=(0,i.op)({localResponseNormalization_:function(e,t=5,n=1,i=1,l=.5){const d=(0,s._1)(e,"x","localResponseNormalization");o.hu(4===d.rank||3===d.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${d.rank}.`)),o.hu(o.GN(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let c=d,h=!1;3===d.rank&&(h=!0,c=(0,u.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]]));const p={x:c},m={depthRadius:t,bias:n,alpha:i,beta:l},f=a.BV.runKernelFunc(((e,a)=>{const r=e.localResponseNormalization4D(c,t,n,i,l);return a([c,r]),r}),p,null,r.eZ,m);return h?(0,u.X)(f,[f.shape[1],f.shape[2],f.shape[3]]):f}})},2597:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({log_:function(e){const t=(0,s._1)(e,"x","log"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.log(t);return n([t]),a}),n,null,r.Zb)}})},7474:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({log1p_:function(e){const t=(0,s._1)(e,"x","log1p"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.log1p(t);return n([t]),a}),n,null,r.kU)}})},3888:(e,t,n)=>{"use strict";n.d(t,{e:()=>d});var a=n(633),r=n(3740),s=n(4841),o=n(7370),i=n(2668),u=n(625),l=n(3694);const d=(0,i.op)({logSigmoid_:function(e){const t=(0,r._1)(e,"x","logSigmoid");return(0,a.cb)((e=>({value:(0,o.W)((0,l.W)((0,o.W)(e))),gradFunc:t=>(0,s.d)(t,(0,u.X)((0,o.W)(e)))})))(t)}})},1510:(e,t,n)=>{"use strict";n.d(t,{C:()=>p});var a=n(7097),r=n(9121),s=n(3740),o=n(2271),i=n(4842),u=n(2597),l=n(3307),d=n(2668),c=n(827),h=n(5475);const p=(0,d.op)({logSoftmax_:function(e,t=-1){const n=(0,s._1)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const d={logits:n},p={axis:t};return a.BV.runKernelFunc(((n,a)=>{const r=(0,l.F)(e,t,!0),s=(0,c.l)(e,r),d=(0,c.l)((0,o.p)(s,"float32"),(0,u.c)((0,h.S)((0,i.Q)(s),t,!0)));return a([d]),d}),d,null,r.qC,p)}})},1391:(e,t,n)=>{"use strict";n.d(t,{l:()=>m});var a=n(3740),r=n(569),s=n(6407),o=n(3591),i=n(4842),u=n(2597),l=n(3307),d=n(2668),c=n(4968),h=n(827),p=n(5475);const m=(0,d.op)({logSumExp_:function(e,t=null,n=!1){const d=(0,a._1)(e,"x","logSumExp"),m=(0,r.EC)(t,d.shape),f=(0,l.F)(d,m,!0),_=(0,h.l)(d,f),g=(0,i.Q)(_),y=(0,p.S)(g,m),b=(0,u.c)(y),v=(0,s.I)((0,c.X)(f,b.shape),b);if(n){const e=(0,o.rv)(v.shape,m);return(0,c.X)(v,e)}return v}})},2856:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(2200);const i=(0,n(2668).op)({logicalAnd_:function(e,t){const n=(0,s._1)(e,"a","logicalAnd","bool"),i=(0,s._1)(t,"b","logicalAnd","bool");(0,o.$N)(n.shape,i.shape);const u={a:n,b:i};return a.BV.runKernelFunc((e=>e.logicalAnd(n,i)),u,null,r.PY)}})},8651:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({logicalNot_:function(e){const t=(0,s._1)(e,"x","logicalNot","bool"),n={x:t};return a.BV.runKernelFunc((e=>e.logicalNot(t)),n,null,r.Vf)}})},5750:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(2200);const i=(0,n(2668).op)({logicalOr_:function(e,t){const n=(0,s._1)(e,"a","logicalOr","bool"),i=(0,s._1)(t,"b","logicalOr","bool");(0,o.$N)(n.shape,i.shape);const u={a:n,b:i};return a.BV.runKernelFunc((e=>e.logicalOr(n,i)),u,null,r.MZ)}})},596:(e,t,n)=>{"use strict";n.d(t,{e:()=>u});var a=n(3740),r=n(2200),s=n(2856),o=n(8651),i=n(5750);const u=(0,n(2668).op)({logicalXor_:function(e,t){const n=(0,a._1)(e,"a","logicalXor","bool"),u=(0,a._1)(t,"b","logicalXor","bool");return(0,r.$N)(n.shape,u.shape),(0,s.H)((0,i.K)(e,t),(0,o.h)((0,s.H)(e,t)))}})},9876:(e,t,n)=>{"use strict";var a;n.d(t,{I:()=>a}),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(a||(a={}))},8687:(e,t,n)=>{"use strict";n.d(t,{O:()=>d});var a=n(7097),r=n(9121),s=n(747),o=n(3740),i=n(569),u=n(2668),l=n(4968);const d=(0,u.op)({matMul_:function(e,t,n=!1,u=!1){let d=(0,o._1)(e,"a","matMul"),c=(0,o._1)(t,"b","matMul");[d,c]=(0,s.makeTypesMatch)(d,c);const h={a:d,b:c},p={transposeA:n,transposeB:u};return a.BV.runKernelFunc(((e,t)=>{t([d,c]);const a=n?d.shape[d.rank-2]:d.shape[d.rank-1],r=u?c.shape[c.rank-1]:c.shape[c.rank-2],s=n?d.shape[d.rank-1]:d.shape[d.rank-2],o=u?c.shape[c.rank-2]:c.shape[c.rank-1],h=d.shape.slice(0,-2),p=c.shape.slice(0,-2),m=i.NA(h),f=i.NA(p),_=m===f||1===m||1===f;i.hu(d.rank>=2&&c.rank>=2&&_,(()=>`Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input batch dimensions of (${h}) and (${p}).`)),i.hu(a===r,(()=>`Error in matMul: inner shapes (${a}) and (${r}) of Tensors with shapes ${d.shape} and ${c.shape} and transposeA=${n} and transposeB=${u} must match.`));const g=(m>f?h:p).concat([s,o]),y=n?(0,l.X)(d,[m,a,s]):(0,l.X)(d,[m,s,a]),b=u?(0,l.X)(c,[f,o,r]):(0,l.X)(c,[f,r,o]),v=e.batchMatMul(y,b,n,u);return(0,l.X)(v,g)}),h,null,r.XL,p)}})},3307:(e,t,n)=>{"use strict";n.d(t,{F:()=>c});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(3591),u=n(2668),l=n(4968),d=n(9065);const c=(0,u.op)({max_:function(e,t=null,n=!1){const u=(0,s._1)(e,"x","max"),c={x:u},h={reductionIndices:t,keepDims:n};return a.BV.runKernelFunc(((e,a)=>{let r=o.EC(t,u.shape);const s=i.Q3(r,u.rank);let c=u;null!=s&&(c=(0,d.p)(u,s),r=i.sY(r.length,c.rank));const h=e.max(c,r);null!=s&&c.dispose();let p=h;if(n){const e=i.rv(p.shape,o.EC(t,u.shape));p=(0,l.X)(p,e),h.dispose()}return a([u,p]),p}),c,null,r.Yo,h)}})},1174:(e,t,n)=>{"use strict";n.d(t,{_:()=>d});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(2582),u=n(2668),l=n(4968);const d=(0,u.op)({maxPool_:function(e,t,n,u,d){const c=(0,s._1)(e,"x","maxPool");let h=c,p=!1;3===c.rank&&(p=!0,h=(0,l.X)(c,[1,c.shape[0],c.shape[1],c.shape[2]])),o.hu(4===h.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${h.rank}.`)),o.hu(i.jT(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),null!=d&&o.hu(o.GN(u),(()=>`Error in maxPool: pad must be an integer when using, dimRoundingMode ${d} but got pad ${u}.`));const m={x:h},f={filterSize:t,strides:n,pad:u,dimRoundingMode:d},_=a.BV.runKernelFunc(((e,a)=>{const r=i.Xw(h.shape,t,n,1,u,d);let s;return s=1===r.filterWidth&&1===r.filterHeight&&o.cO(r.inShape,r.outShape)?h.clone():e.maxPool(h,r),a([h,s]),s}),m,null,r.mT,f);return p?(0,l.X)(_,[_.shape[1],_.shape[2],_.shape[3]]):_}})},5020:(e,t,n)=>{"use strict";n.d(t,{Y:()=>c});var a=n(7097),r=n(4368),s=n(9121),o=n(3740),i=n(569),u=n(2582),l=n(2668),d=n(4968);const c=(0,l.op)({maxPool3d_:function(e,t=[1,1,1],n,l,c,h="NDHWC",p){null==p?p=[1,1,1]:(0,r.MX)("dilations is deprecated, this field will be gone in v3.0.0.");const m=(0,o._1)(e,"x","maxPool3d");let f=m,_=!1;4===m.rank&&(_=!0,f=(0,d.X)(m,[1,m.shape[0],m.shape[1],m.shape[2],m.shape[3]])),i.hu(5===f.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${f.rank}.`)),i.hu("NDHWC"===h,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${h}`)),i.hu(u.jT(n,p),(()=>`Error in maxPool3d: Either strides or dilations must be 1. Got strides ${n} and dilations '${p}'`)),null!=c&&i.hu(i.GN(l),(()=>`Error in maxPool3d: pad must be an integer when using, dimRoundingMode ${c} but got pad ${l}.`));const g={x:f},y={filterSize:t,strides:n,pad:l,dimRoundingMode:c,dataFormat:h,dilations:p},b=a.BV.runKernelFunc(((e,a)=>{null==p&&(p=[1,1,1]);const r=u.pl(f.shape,t,n,p,l,c,h),s=e.maxPool3d(f,r);return a([f,s]),s}),g,null,s.OA,y);return _?(0,d.X)(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}})},6877:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({maxPoolWithArgmax_:function(e,t,n,o,i=!1){const u={x:(0,s._1)(e,"x","maxPoolWithArgmax")},l={filterSize:t,strides:n,pad:o,includeBatchInIndex:i},d=a.BV.runKernel(r.vF,u,l);return{result:d[0],indexes:d[1]}}})},632:(e,t,n)=>{"use strict";n.d(t,{g:()=>l});var a=n(7097),r=n(9121),s=n(747),o=n(3740),i=n(2200),u=n(2271);const l=(0,n(2668).op)({maximum_:function(e,t){let n=(0,o._1)(e,"a","maximum"),l=(0,o._1)(t,"b","maximum");[n,l]=(0,s.makeTypesMatch)(n,l),"bool"===n.dtype&&(n=(0,u.p)(n,"int32"),l=(0,u.p)(l,"int32")),(0,i.$N)(n.shape,l.shape);const d={a:n,b:l};return a.BV.runKernelFunc(((e,t)=>{const a=e.maximum(n,l);return t([n,l]),a}),d,null,r.BM)}})},5130:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var a=n(7097),r=n(633),s=n(9121),o=n(3740),i=n(569),u=n(3591),l=n(2271),d=n(1274),c=n(4841),h=n(4917),p=n(2668),m=n(4968),f=n(9494),_=n(5475);const g=(0,p.op)({mean_:function(e,t=null,n=!1){const p=(0,o._1)(e,"x","mean"),g=(0,i.EC)(t,p.shape),y=(0,u.kz)(p.shape,g)[1],b=(0,i.NA)(y),v={x:p},x={axis:t,keepDims:n},k=()=>{const e=(0,f.i)(b),a=e.dtype===p.dtype?p:(0,l.p)(p,e.dtype),r=(0,d.h)(a,e);return(0,_.S)(r,t,n)};return(0,r.cb)((e=>({value:a.BV.runKernelFunc(k,v,null,s.q2,x),gradFunc:t=>{const n=e.shape.slice();g.forEach((e=>{n[e]=1}));const a=(0,m.X)(t,n);return(0,d.h)((0,c.d)(a,(0,h.i)(e.shape,"float32")),b)}})))(p)}})},5735:(e,t,n)=>{"use strict";n.d(t,{V:()=>c});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(3591),u=n(2668),l=n(4968),d=n(9065);const c=(0,u.op)({min_:function(e,t=null,n=!1){const u=(0,s._1)(e,"x","min"),c={x:u},h={axis:t,keepDims:n};return a.BV.runKernelFunc(((e,a)=>{const r=(0,o.EC)(t,u.shape);let s=r;const c=i.Q3(s,u.rank);let h=u;null!=c&&(h=(0,d.p)(u,c),s=i.sY(s.length,u.rank));const p=e.min(h,s);null!=c&&h.dispose();let m=p;if(n){const e=i.rv(m.shape,r);m=(0,l.X)(p,e),p.dispose()}return a([u,m]),m}),c,null,r.c1,h)}})},4513:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var a=n(7097),r=n(9121),s=n(747),o=n(3740),i=n(2200),u=n(2271);const l=(0,n(2668).op)({minimum_:function(e,t){let n=(0,o._1)(e,"a","minimum"),l=(0,o._1)(t,"b","minimum");[n,l]=(0,s.makeTypesMatch)(n,l),"bool"===n.dtype&&(n=(0,u.p)(n,"int32"),l=(0,u.p)(l,"int32")),(0,i.$N)(n.shape,l.shape);const d={a:n,b:l};return a.BV.runKernelFunc(((e,t)=>{const a=e.minimum(n,l);return t([n,l]),a}),d,null,r.q8)}})},1483:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({mirrorPad_:function(e,t,n){o.hu("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const i=(0,s._1)(e,"x","mirrorPad");if(0===i.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");o.hu(t.length===i.rank,(()=>`Padding doesn't match input. Must be ${i.rank}. Got ${t.length}.`));const u="reflect"===n?1:0;for(let e=0;e<i.rank;e++)o.hu(2===t[e].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),o.hu(t[e][0]>=0&&t[e][0]<=i.shape[e]-u&&t[e][1]>=0&&t[e][1]<=i.shape[e]-u,(()=>`Padding in dimension ${e} cannot be greater than or equal to ${i.shape[e]-u} or less than 0 for input of shape ${i.shape}`));const l={paddings:t,mode:n},d={x:i};return a.BV.runKernel(r.jQ,d,l)}})},5228:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var a=n(7097),r=n(9121),s=n(747),o=n(3740);const i=(0,n(2668).op)({mod_:function(e,t){let n=(0,o._1)(e,"a","mod"),i=(0,o._1)(t,"b","mod");[n,i]=(0,s.makeTypesMatch)(n,i);const u={a:n,b:i};return a.BV.runKernelFunc(((e,t)=>{const a=e.mod(n,i);return t([n,i]),a}),u,null,r.Vb)}})},4841:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var a=n(7097),r=n(9121),s=n(747),o=n(3740);const i=(0,n(2668).op)({mul_:function(e,t){let n=(0,o._1)(e,"a","mul"),i=(0,o._1)(t,"b","mul");[n,i]=(0,s.makeTypesMatch)(n,i);const u={a:n,b:i};return a.BV.runKernelFunc(((e,t)=>{const a=e.multiply(n,i);return t([n,i]),a}),u,null,r.wY)}})},686:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var a=n(7097),r=n(3740),s=n(2668),o=n(4968);const i=(0,s.op)({multinomial_:function(e,t,n,s=!1){const i=(0,r._1)(e,"logits","multinomial"),u=i.size,l=i.rank;if(u<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${u}.`);if(l>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${l}`);n=n||Math.random();const d=1===l?(0,o.X)(i,[1,-1]):i,c=a.BV.runKernelFunc((e=>e.multinomial(d,s,t,n)),{logits2D:d});return 1===l?(0,o.X)(c,[c.size]):c}})},7370:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({neg_:function(e){const t=(0,s._1)(e,"x","neg"),n={x:t};return a.BV.runKernelFunc((e=>e.neg(t)),n,null,r.L0)}})},3561:(e,t,n)=>{"use strict";n.d(t,{K:()=>g});var a=n(3740),r=n(569),s=n(6235),o=n(3591),i=n(3307),u=n(5735),l=n(2668),d=n(3453),c=n(4968),h=n(9494),p=n(3261),m=n(248),f=n(5475);function _(e,t,n=null){if(0===e.rank)return(0,s.W)(e);if(1!==e.rank&&null===n)return _((0,c.X)(e,[-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return(0,f.S)((0,s.W)(e),n);if(t===1/0)return(0,i.F)((0,s.W)(e),n);if(t===-1/0)return(0,u.V)((0,s.W)(e),n);if("euclidean"===t||2===t)return(0,p._)((0,f.S)((0,d.s)((0,s.W)(e),(0,h.i)(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return(0,i.F)((0,f.S)((0,s.W)(e),n[0]),n[1]-1);if(t===1/0)return(0,i.F)((0,f.S)((0,s.W)(e),n[1]),n[0]);if(t===-1/0)return(0,u.V)((0,f.S)((0,s.W)(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return(0,p._)((0,f.S)((0,m.h)(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const g=(0,l.op)({norm_:function(e,t="euclidean",n=null,s=!1){const i=_(e=(0,a._1)(e,"x","norm"),t,n);let u=i.shape;if(s){const t=(0,r.EC)(n,e.shape);u=o.rv(i.shape,t)}return(0,c.X)(i,u)}})},6500:(e,t,n)=>{"use strict";n.d(t,{Q:()=>u});var a=n(7097),r=n(9121),s=n(747),o=n(3740),i=n(2200);const u=(0,n(2668).op)({notEqual_:function(e,t){let n=(0,o._1)(e,"a","notEqual"),u=(0,o._1)(t,"b","notEqual");[n,u]=(0,s.makeTypesMatch)(n,u),(0,i.$N)(n.shape,u.shape);const l={a:n,b:u};return a.BV.runKernelFunc((e=>e.notEqual(n,u)),l,null,r.yQ)}})},6708:(e,t,n)=>{"use strict";n.d(t,{l:()=>u});var a=n(7097),r=n(9121),s=n(3740),o=n(2668),i=n(4968);const u=(0,o.op)({oneHot_:function(e,t,n=1,o=0){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const u=(0,s._1)(e,"indices","oneHot","int32"),l=[...u.shape,t],d={indices:u},c={depth:t,onValue:n,offValue:o};return a.BV.runKernelFunc(((e,a)=>(a([u]),(0,i.X)(e.oneHot((0,i.X)(u,[u.size]),t,n,o),l))),d,null,r.we,c)}})},4917:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var a=n(7097),r=n(569),s=n(1661),o=n(9640);function i(e,t="float32"){if("complex64"===t){const t=i(e,"float32"),n=(0,o.l)(e,"float32");return(0,s.P)(t,n)}const n=(0,r.p8)((0,r.NA)(e),t);return a.BV.makeTensor(n,e,t)}},7846:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var a=n(7097),r=n(9121),s=n(3740),o=n(1661),i=n(4386),u=n(2668),l=n(766),d=n(6577);const c=(0,u.op)({onesLike_:function(e){const t=(0,s._1)(e,"x","onesLike"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{if("complex64"===t.dtype){const e=c((0,l.k)(t)),n=(0,d.P)((0,i.a)(t));return(0,o.P)(e,n)}return e.onesLike(t)}),n,null,r.qW)}})},2668:(e,t,n)=>{"use strict";n.d(t,{z:()=>s,op:()=>o});var a=n(7097),r=n(569);const s="__op";function o(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const o=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=s;const i=(...e)=>{a.BV.startScope(n);try{const t=o(...e);return(0,r.tI)(t)&&console.error("Cannot return a Promise inside of tidy."),a.BV.endScope(t),t}catch(e){throw a.BV.endScope(null),e}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}},1395:(e,t,n)=>{"use strict";n.d(t,{zvA:()=>M.z,WnP:()=>a.W,Khb:()=>r.K,__u:()=>s._,IHx:()=>o.I,QBD:()=>i.Q,zqr:()=>Cn.zq,$6P:()=>u.$,YjB:()=>l.Y,NqF:()=>d.N,vHJ:()=>c.v,ZRM:()=>h.Z,VfV:()=>p.V,z4N:()=>m.z,fvJ:()=>f.f,C80:()=>_.C,wS1:()=>g.w,uR5:()=>y.u,zEQ:()=>S,tgs:()=>I.t,Dxk:()=>C,JY5:()=>E,p3b:()=>A,E4h:()=>D.E,anm:()=>In,UFq:()=>Y.U,f3b:()=>F.f,pju:()=>R.p,mDi:()=>O.m,iUl:()=>$.i,d9v:()=>P.d,PYB:()=>H.P,zoF:()=>v.z,gME:()=>B,Izb:()=>W,MNy:()=>z,ZaL:()=>j,PAt:()=>V.P,Tek:()=>U.T,bc:()=>G.b,pdZ:()=>q.p,$QV:()=>K,mCk:()=>J.m,f9Y:()=>Q.f,mew:()=>Wn,zbp:()=>Z.z,nTT:()=>ee.n,B10:()=>te.B,Ka3:()=>se,WmZ:()=>oe.W,hiC:()=>ie.h,NTj:()=>ue.N,sz_:()=>Cn.sz,AKD:()=>le.A,rvX:()=>Hn,pyx:()=>de.p,GRh:()=>Bn,DgJ:()=>ce.D,zVC:()=>Nn.zV,qNN:()=>he.q,Qqt:()=>pe.Q,dt4:()=>me.d,t$B:()=>fe.t,iyy:()=>ge,kp_:()=>Jt.k,hlL:()=>ye.h,GWj:()=>be.G,qPi:()=>ve.q,imm:()=>jn,Iqj:()=>xe.I,dbB:()=>$n.d,pjt:()=>ke.p,brS:()=>Me.b,bZ8:()=>Nn.bZ,g1k:()=>Nn.g1,Sxn:()=>Qt.S,asL:()=>we.a,BHj:()=>Ma,V3u:()=>zn,wx0:()=>Zt.w,xVT:()=>Te.x,UWc:()=>Le.U,i2d:()=>Se.i,hi7:()=>De.h,d9m:()=>Ie.d,zN1:()=>Ne.z,SFm:()=>Nn.SF,O_u:()=>Nn.O_,$r2:()=>wa,SX3:()=>Ce.S,G9k:()=>Ee.G,cM7:()=>Ae.c,Krr:()=>Ye.K,e_t:()=>Fe.e,CmS:()=>Re.C,l_t:()=>Oe.l,HvI:()=>$e.H,hJK:()=>Pe.h,K5V:()=>He.K,egP:()=>Be.e,MB5:()=>Ta,OI3:()=>x.O,Fp7:()=>We.F,_sB:()=>ze._,YQQ:()=>je.Y,Ip$:()=>Ve.I,gWQ:()=>Ue.g,_jk:()=>Cn._j,J69:()=>Ge.J,VV$:()=>qe.V,LTh:()=>Xe.L,Wzl:()=>Cn.Wz,VdP:()=>Ke.V,wQq:()=>Je.w,IrJ:()=>Cn.Ir,Gi7:()=>tt,p_:()=>Fn,dC7:()=>k.d,NT4:()=>Cn.NT,rq4:()=>nt,SJ_:()=>at.S,W76:()=>rt.W,KOy:()=>An.K,Quu:()=>st.Q,FGK:()=>Nn.FG,lfX:()=>ot.l,iUs:()=>it.i,JpU:()=>ut.J,op:()=>M.op,N2O:()=>lt,vku:()=>dt.v,pNR:()=>ct,koy:()=>ht,t1L:()=>pt,lGY:()=>mt,d_R:()=>ft.d,sQ3:()=>_t.s,Lfl:()=>Cn.Lf,AL3:()=>gt.A,S0v:()=>yt.S,WVs:()=>bt.W,TN_:()=>vt,wzB:()=>kt,nGf:()=>Mt,LGj:()=>wt.L,w6H:()=>Tt.w,kwC:()=>Lt.k,M25:()=>St.M,UYe:()=>Dt.U,btT:()=>It.b,XLQ:()=>re.X,GYS:()=>Nt.G,SDf:()=>Ct,diP:()=>Et,sx7:()=>At,mG2:()=>Yt,QEs:()=>en.Q,NMM:()=>Ft.N,bp0:()=>Rt.b,iD$:()=>Ot.i,snQ:()=>Rn.s,U8D:()=>$t.U,U_I:()=>Pt.U,ODp:()=>Ht.O,XD2:()=>w.X,Xxe:()=>Bt.X,tdS:()=>ka,O$l:()=>Wt.O,R_K:()=>zt.R,tPi:()=>T.t,jZU:()=>jt,SmN:()=>Vt,CnO:()=>Ut,p0P:()=>Gt,XAC:()=>qt.X,Wvh:()=>Xt.W,fBT:()=>Kt.f,ers:()=>On.e,uN7:()=>xa,Vl2:()=>tn.V,_b3:()=>nn._,h62:()=>Ze.h,$i:()=>an.$,r7z:()=>Cn.r7,L9e:()=>rn.L,knu:()=>sn.k,Nbs:()=>on.N,NXj:()=>un.N,luU:()=>et.l,ULw:()=>Cn.UL,Smz:()=>ln.S,ORZ:()=>dn.O,AEp:()=>L.A,XeE:()=>cn.X,RRF:()=>hn.R,odF:()=>mn,wOQ:()=>fn.w,yXz:()=>_n,Bfx:()=>gn,xZs:()=>yn,Gg6:()=>_e.G,hg7:()=>bn.h,p4s:()=>En.p,Xu6:()=>vn.X,Two:()=>xn.T,pUJ:()=>kn.p,HHK:()=>Mn.H,VD$:()=>wn,arb:()=>Tn.a,itS:()=>Ln.i,lls:()=>Sn.l,P84:()=>Dn.P});var a=n(6235),r=n(7839),s=n(1470),o=n(6407),i=n(3135),u=n(781),l=n(2998),d=n(47),c=n(7394),h=n(2421),p=n(1891),m=n(7037),f=n(9812),_=n(369),g=n(5176),y=n(1749),b=n(3740),v=n(6884),x=n(8687),k=n(4841),M=n(2668),w=n(625),T=n(2676),L=n(1869);const S=(0,M.op)({basicLSTMCell_:function(e,t,n,a,r,s){const i=(0,b._1)(e,"forgetBias","basicLSTMCell"),u=(0,b._1)(t,"lstmKernel","basicLSTMCell"),l=(0,b._1)(n,"lstmBias","basicLSTMCell"),d=(0,b._1)(a,"data","basicLSTMCell"),c=(0,b._1)(r,"c","basicLSTMCell"),h=(0,b._1)(s,"h","basicLSTMCell"),p=(0,v.z)([d,h],1),m=(0,x.O)(p,u),f=(0,o.I)(m,l),_=f.shape[0],g=f.shape[1]/4,y=[_,g],M=(0,T.t)(f,[0,0],y),S=(0,T.t)(f,[0,g],y),D=(0,T.t)(f,[0,2*g],y),I=(0,T.t)(f,[0,3*g],y),N=(0,o.I)((0,k.d)((0,w.X)(M),(0,L.A)(S)),(0,k.d)(c,(0,w.X)((0,o.I)(i,D))));return[N,(0,k.d)((0,L.A)(N),(0,w.X)(I))]}});var D=n(8441),I=n(7505),N=n(569);const C=(0,M.op)({batchNorm2d_:function(e,t,n,a,r,s){const o=(0,b._1)(e,"x","batchNorm"),i=(0,b._1)(t,"mean","batchNorm"),u=(0,b._1)(n,"variance","batchNorm");let l,d;return null!=r&&(l=(0,b._1)(r,"scale","batchNorm")),null!=a&&(d=(0,b._1)(a,"offset","batchNorm")),N.hu(2===o.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${o.rank}.`)),N.hu(2===i.rank||1===i.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${i.rank}.`)),N.hu(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${u.rank}.`)),null!=l&&N.hu(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=d&&N.hu(2===d.rank||1===d.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${d.rank}.`)),(0,I.t)(o,i,u,d,l,s)}}),E=(0,M.op)({batchNorm3d_:function(e,t,n,a,r,s){const o=(0,b._1)(e,"x","batchNorm"),i=(0,b._1)(t,"mean","batchNorm"),u=(0,b._1)(n,"variance","batchNorm");let l,d;return null!=r&&(l=(0,b._1)(r,"scale","batchNorm")),null!=a&&(d=(0,b._1)(a,"offset","batchNorm")),N.hu(3===o.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${o.rank}.`)),N.hu(3===i.rank||1===i.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${i.rank}.`)),N.hu(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${u.rank}.`)),null!=l&&N.hu(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=d&&N.hu(3===d.rank||1===d.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${d.rank}.`)),(0,I.t)(o,i,u,d,l,s)}}),A=(0,M.op)({batchNorm4d_:function(e,t,n,a,r,s){const o=(0,b._1)(e,"x","batchNorm"),i=(0,b._1)(t,"mean","batchNorm"),u=(0,b._1)(n,"variance","batchNorm");let l,d;return null!=r&&(l=(0,b._1)(r,"scale","batchNorm")),null!=a&&(d=(0,b._1)(a,"offset","batchNorm")),N.hu(4===o.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${o.rank}.`)),N.hu(4===i.rank||1===i.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${i.rank}.`)),N.hu(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${u.rank}.`)),null!=l&&N.hu(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=d&&N.hu(4===d.rank||1===d.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${d.rank}.`)),(0,I.t)(o,i,u,d,l,s)}});var Y=n(8247),F=n(2657),R=n(2271),O=n(6825),$=n(2279),P=n(8723),H=n(1661);const B=(0,M.op)({concat1d_:function(e){return(0,v.z)(e,0)}}),W=(0,M.op)({concat2d_:function(e,t){return(0,v.z)(e,t)}}),z=(0,M.op)({concat3d_:function(e,t){return(0,v.z)(e,t)}}),j=(0,M.op)({concat4d_:function(e,t){return(0,v.z)(e,t)}});var V=n(1355),U=n(4794),G=n(1405),q=n(473),X=n(7594);const K=(0,M.op)({conv3dTranspose_:function(e,t,n,a,r){const s=(0,b._1)(e,"x","conv3dTranspose"),o=(0,b._1)(t,"filter","conv3dTranspose");return(0,X._)(n,s,o,a,r)}});var J=n(173),Q=n(2699),Z=n(7405),ee=n(9112),te=n(4718),ne=n(7097),ae=n(9121),re=n(4968);const se=(0,M.op)({diag_:function(e){const t=(0,b._1)(e,"x","diag"),n={x:t};return ne.BV.runKernelFunc((n=>{const a=(0,re.X)(t,[t.size]),r=n.diag(a),s=[...e.shape,...e.shape];return(0,re.X)(r,s)}),n,null,ae.$w)}});var oe=n(557),ie=n(1274),ue=n(9322),le=n(548),de=n(3233),ce=n(6477),he=n(4650),pe=n(4842),me=n(1300),fe=n(3426),_e=n(7501);const ge=(0,M.op)({eye_:function(e,t,n,a="float32"){null==t&&(t=e);const r=(0,F.f)([e,t],a),s=e<=t?e:t;for(let e=0;e<s;++e)r.set(1,e,e);const o=(0,re.X)(r.toTensor(),[e,t]);if(null==n)return o;if(1===n.length)return(0,_e.G)((0,me.d)(o,0),[n[0],1,1]);if(2===n.length)return(0,_e.G)((0,me.d)((0,me.d)(o,0),0),[n[0],n[1],1,1]);if(3===n.length)return(0,_e.G)((0,me.d)((0,me.d)((0,me.d)(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});var ye=n(4006),be=n(6943),ve=n(9165),xe=n(4926),ke=n(636),Me=n(7630),we=n(4386),Te=n(3963),Le=n(4365),Se=n(6230),De=n(9133),Ie=n(6573),Ne=n(624),Ce=n(4135),Ee=n(9648),Ae=n(2597),Ye=n(7474),Fe=n(3888),Re=n(1510),Oe=n(1391),$e=n(2856),Pe=n(8651),He=n(5750),Be=n(596),We=n(3307),ze=n(1174),je=n(5020),Ve=n(6877),Ue=n(632),Ge=n(5130),qe=n(5735),Xe=n(4513),Ke=n(1483),Je=n(5228),Qe=n(3591),Ze=n(248),et=n(827);const tt=(0,M.op)({moments_:function(e,t=null,n=!1){e=(0,b._1)(e,"x","moments");const a=(0,N.EC)(t,e.shape),r=(0,Ge.J)(e,a,n);let s=r.shape;n||(s=(0,Qe.rv)(r.shape,a));const o=(0,Ze.h)((0,et.l)((0,R.p)(e,"float32"),(0,re.X)(r,s)));return{mean:r,variance:(0,Ge.J)(o,a,n)}}}),nt=(0,M.op)({multiRNNCell_:function(e,t,n,a){const r=(0,b._1)(t,"data","multiRNNCell"),s=(0,b.sI)(n,"c","multiRNNCell"),o=(0,b.sI)(a,"h","multiRNNCell");let i=r;const u=[];for(let t=0;t<e.length;t++){const n=e[t](i,s[t],o[t]);u.push(n[0]),u.push(n[1]),i=n[1]}const l=[],d=[];for(let e=0;e<u.length;e+=2)l.push(u[e]),d.push(u[e+1]);return[l,d]}});var at=n(686),rt=n(7370),st=n(6500),ot=n(6708),it=n(4917),ut=n(7846);const lt=(0,M.op)({outerProduct_:function(e,t){const n=(0,b._1)(e,"v1","outerProduct"),a=(0,b._1)(t,"v2","outerProduct");N.hu(1===n.rank&&1===a.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${a.rank}.`));const r=(0,re.X)(n,[-1,1]),s=(0,re.X)(a,[1,-1]);return(0,x.O)(r,s)}});var dt=n(9682);const ct=(0,M.op)({pad1d_:function(e,t,n=0){return(0,N.hu)(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),(0,dt.v)(e,[t],n)}}),ht=(0,M.op)({pad2d_:function(e,t,n=0){return(0,N.hu)(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,dt.v)(e,t,n)}}),pt=(0,M.op)({pad3d_:function(e,t,n=0){return(0,N.hu)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,dt.v)(e,t,n)}}),mt=(0,M.op)({pad4d_:function(e,t,n=0){return(0,N.hu)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,dt.v)(e,t,n)}});var ft=n(5860),_t=n(3453),gt=n(8151),yt=n(9798),bt=n(9451);const vt=(0,M.op)({rand_:function(e,t,n){const a=(0,N.NA)(e);let r=null;if(null==n||"float32"===n)r=new Float32Array(a);else if("int32"===n)r=new Int32Array(a);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);r=new Uint8Array(a)}for(let e=0;e<a;e++)r[e]=t();return ne.BV.makeTensor(r,e,n)}});var xt=n(6845);const kt=(0,M.op)({randomGamma_:function(e,t,n=1,a="float32",r){if(null==n&&(n=1),null==a&&(a="float32"),"float32"!==a&&"int32"!==a)throw new Error(`Unsupported data type ${a}`);const s=new xt.T9(t,n,a,r),o=(0,F.f)(e,a);for(let e=0;e<o.values.length;e++)o.values[e]=s.nextValue();return o.toTensor()}}),Mt=(0,M.op)({randomNormal_:function(e,t=0,n=1,a,r){if(null!=a&&"bool"===a)throw new Error(`Unsupported data type ${a}`);const s=new xt.Yi(t,n,a,!1,r),o=(0,F.f)(e,a);for(let e=0;e<o.values.length;e++)o.values[e]=s.nextValue();return o.toTensor()}});var wt=n(5002),Tt=n(7245),Lt=n(766),St=n(9036),Dt=n(7409),It=n(3582),Nt=n(7486);const Ct=(0,M.op)({reverse1d_:function(e){const t=(0,b._1)(e,"x","reverse");return N.hu(1===t.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`)),(0,Nt.G)(t,0)}}),Et=(0,M.op)({reverse2d_:function(e,t){const n=(0,b._1)(e,"x","reverse");return N.hu(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),(0,Nt.G)(n,t)}}),At=(0,M.op)({reverse3d_:function(e,t){const n=(0,b._1)(e,"x","reverse");return N.hu(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),(0,Nt.G)(n,t)}}),Yt=(0,M.op)({reverse4d_:function(e,t){const n=(0,b._1)(e,"x","reverse");return N.hu(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),(0,Nt.G)(n,t)}});var Ft=n(7809),Rt=n(2634),Ot=n(9494),$t=n(5503),Pt=n(8678),Ht=n(6567),Bt=n(4434),Wt=n(9331),zt=n(3254);const jt=(0,M.op)({slice1d_:function(e,t,n){const a=(0,b._1)(e,"x","slice1d");return N.hu(1===a.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${a.rank} tensor`)),(0,T.t)(a,[t],[n])}}),Vt=(0,M.op)({slice2d_:function(e,t,n){const a=(0,b._1)(e,"x","slice2d");return N.hu(2===a.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${a.rank} tensor`)),(0,T.t)(a,t,n)}}),Ut=(0,M.op)({slice3d_:function(e,t,n){const a=(0,b._1)(e,"x","slice3d");return N.hu(3===a.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${a.rank} tensor`)),(0,T.t)(a,t,n)}}),Gt=(0,M.op)({slice4d_:function(e,t,n){const a=(0,b._1)(e,"x","slice4d");return N.hu(4===a.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${a.rank} tensor`)),(0,T.t)(a,t,n)}});var qt=n(682),Xt=n(3694),Kt=n(7918),Jt=n(7020),Qt=n(8447),Zt=n(4415),en=n(3710),tn=n(8644),nn=n(3261),an=n(5265),rn=n(9590),sn=n(2991),on=n(1901),un=n(5158),ln=n(5475),dn=n(1173),cn=n(701),hn=n(6092),pn=n(7852);function mn(e,t,n){if((0,N.Cq)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const a=(0,b.C)(e,n);if(2!==a.length&&1!==a.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,pn.H)(e,t,a,n)}var fn=n(9906);function _n(e,t,n){if((0,N.Cq)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const a=(0,b.C)(e,n);if(4!==a.length&&1!==a.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,pn.H)(e,t,a,n)}function gn(e,t,n){if((0,N.Cq)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const a=(0,b.C)(e,n);if(5!==a.length&&1!==a.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,pn.H)(e,t,a,n)}function yn(e,t,n){if((0,N.Cq)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const a=(0,b.C)(e,n);if(6!==a.length&&1!==a.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||a,(0,pn.H)(e,t,a,n)}var bn=n(3243),vn=n(3596),xn=n(9608),kn=n(8749),Mn=n(4136);function wn(e,t=!0,n,a){return ne.BV.makeVariable(e,t,n,a)}var Tn=n(5912),Ln=n(6380),Sn=n(9640),Dn=n(6577);const In=async function(e,t,n){const a=(0,b._1)(e,"tensor","boolMask"),r=(0,b._1)(t,"mask","boolMask","bool"),s=null==n?0:n,o=r.rank,i=a.shape;N.hu(o>0,(()=>"mask cannot be scalar")),N.k5(i.slice(s,s+o),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let u=1;for(let e=s;e<s+o;e++)u*=i[e];const l=i.slice(0,s).concat([u],i.slice(s+o)),d=(0,re.X)(a,l),c=(0,re.X)(r,[-1]),h=await(0,Ln.i)(c),p=(0,rn.L)(h,[1]),m=(0,xe.I)(d,p,s);return e!==a&&a.dispose(),t!==r&&r.dispose(),p.dispose(),d.dispose(),c.dispose(),h.dispose(),m};var Nn=n(3334),Cn=n(7536),En=n(9065),An=n(3561),Yn=n(747);const Fn=(0,M.op)({movingAverage_:function(e,t,n,a,r=!0){const s=(0,b._1)(e,"v","movingAverage"),i=(0,b._1)(t,"x","movingAverage"),u=(0,b._1)(n,"decay","movingAverage");(0,Yn.assertTypesMatch)(s,i),N.hu(N.cO(s.shape,i.shape),(()=>"Shape mismatch in v and x"));const l=(0,Ot.i)(1),d=(0,et.l)(l,u);let c=(0,k.d)((0,et.l)(i,s),d);if(r){N.hu(null!=a,(()=>"When using zeroDebias: true, step is required."));const e=(0,b._1)(a,"step","movingAverage");c=(0,ie.h)(c,(0,et.l)(l,(0,_t.s)(u,e)))}return(0,o.I)(s,c)}});var Rn=n(3100),On=n(9758),$n=n(7494),Pn=n(4077);const Hn=(0,M.op)({dropout_:function(e,t,n,a){const r=(0,b._1)(e,"x","dropout");if(N.hu("float32"===r.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${r.dtype} tensor instead.`)),N.hu(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof Pn.es?r.clone():r;const s=function(e,t){if(null==t)return e.shape.slice();if(N.cO(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let a=0;a<e.shape.length;a++)null==t[a]&&null!=e.shape[a]?n.push(e.shape[a]):n.push(t[a]);return n}return t}(r,n),i=1-t,u=(0,ie.h)((0,be.G)((0,o.I)((0,wt.L)(s,0,1,"float32",a),i)),i);return(0,k.d)(r,u)}});function Bn(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function Wn(e,t,n){const a=1-e%2,r=new Float32Array(e);for(let s=0;s<e;++s){const o=2*Math.PI*s/(e+a-1);r[s]=t-n*Math.cos(o)}return(0,hn.R)(r,"float32")}const zn=async function(e,t,n=1){const a=(0,b._1)(e,"predictions","inTopK"),r=(0,b._1)(t,"targets","inTopK");(0,N.hu)(a.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${a.rank}`)),(0,N.hu)(a.rank-1===r.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${a.rank} and targets rank ${r.rank}`)),(0,N.k5)(a.shape.slice(0,a.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const s=a.shape[a.shape.length-1];(0,N.hu)(n>0&&n<=s,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${s}), but got ${n}`));const o=await a.data(),i=await r.data(),[u,l]=[o.length/s,s],d=(0,N.WP)("bool",u);for(let e=0;e<u;e++){const t=e*l,a=o.subarray(t,t+l),r=[];for(let e=0;e<a.length;e++)r.push({value:a[e],index:e});r.sort(((e,t)=>t.value-e.value)),d[e]=0;for(let t=0;t<n;t++)if(r[t].index===i[e]){d[e]=1;break}}return e!==a&&a.dispose(),t!==r&&r.dispose(),(0,cn.X)(d,r.shape,"bool")};var jn=n(4624);const Vn=(0,M.op)({hammingWindow_:function(e){return Wn(e,.54,.46)}}),Un=(0,M.op)({hannWindow_:function(e){return Wn(e,.5,.5)}}),Gn=(0,M.op)({frame_:function(e,t,n,a=!1,r=0){let s=0;const o=[];for(;s+t<=e.size;)o.push((0,T.t)(e,s,t)),s+=n;if(a)for(;s<e.size;){const a=s+t-e.size,i=(0,v.z)([(0,T.t)(e,s,t-a),(0,ye.h)([a],r)]);o.push(i),s+=n}return 0===o.length?mn([],[0,t]):(0,re.X)((0,v.z)(o),[o.length,t])}}),qn=(0,M.op)({stft_:function(e,t,n,a,r=Un){null==a&&(a=Bn(t));const s=Gn(e,t,n),o=(0,k.d)(s,r(t)),i=[];for(let e=0;e<s.shape[0];e++)i.push((0,en.Q)((0,T.t)(o,[e,0],[1,t]),a));return(0,v.z)(i)}}),Xn=(0,M.op)({cropAndResize_:function(e,t,n,a,r,s){const o=(0,b._1)(e,"image","cropAndResize"),i=(0,b._1)(t,"boxes","cropAndResize","float32"),u=(0,b._1)(n,"boxInd","cropAndResize","int32");r=r||"bilinear",s=s||0;const l=i.shape[0];N.hu(4===o.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`)),N.hu(2===i.rank&&4===i.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${l},4] but had shape ${i.shape}.`)),N.hu(1===u.rank&&u.shape[0]===l,(()=>`Error in cropAndResize: boxInd must be have size [${l}] but had shape ${i.shape}.`)),N.hu(2===a.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${a.length}.`)),N.hu(a[0]>=1&&a[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${a}`)),N.hu("bilinear"===r||"nearest"===r,(()=>`method must be bilinear or nearest, but was ${r}`));const d={image:o,boxes:i,boxInd:u},c={method:r,extrapolationValue:s,cropSize:a};return ne.BV.runKernelFunc((e=>e.cropAndResize(o,i,u,a,r,s)),d,null,ae.Vc,c)}}),Kn=(0,M.op)({flipLeftRight_:function(e){const t=(0,b._1)(e,"image","flipLeftRight","float32");N.hu(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return ne.BV.runKernel(ae.Uy,n,{})}}),Jn=(0,M.op)({rotateWithOffset_:function(e,t,n=0,a=.5){const r=(0,b._1)(e,"image","rotateWithOffset","float32");N.hu(4===r.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`));const s={image:r},o={radians:t,fillValue:n,center:a};return ne.BV.runKernel(ae.b9,s,o)}});function Qn(e,t,n,a,r,s){null==a&&(a=.5),null==r&&(r=Number.NEGATIVE_INFINITY),null==s&&(s=0);const o=e.shape[0];return n=Math.min(n,o),N.hu(0<=a&&a<=1,(()=>`iouThreshold must be in [0, 1], but was '${a}'`)),N.hu(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),N.hu(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),N.hu(1===t.rank,(()=>"scores must be a 1D tensor")),N.hu(t.shape[0]===o,(()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${t.shape[0]}`)),N.hu(0<=s&&s<=1,(()=>`softNmsSigma must be in [0, 1], but was '${s}'`)),{maxOutputSize:n,iouThreshold:a,scoreThreshold:r,softNmsSigma:s}}const Zn=(0,M.op)({nonMaxSuppression_:function(e,t,n,a=.5,r=Number.NEGATIVE_INFINITY){const s=(0,b._1)(e,"boxes","nonMaxSuppression"),o=(0,b._1)(t,"scores","nonMaxSuppression"),i=Qn(s,o,n,a,r);n=i.maxOutputSize,a=i.iouThreshold,r=i.scoreThreshold;const u={maxOutputSize:n,iouThreshold:a,scoreThreshold:r};return ne.BV.runKernelFunc((e=>e.nonMaxSuppression(s,o,n,a,r)),{boxes:s,scores:o},null,ae.uv,u)}});var ea=n(2055);const ta=(0,M.op)({nonMaxSuppressionWithScore_:function(e,t,n,a=.5,r=Number.NEGATIVE_INFINITY,s=0){const o=(0,b._1)(e,"boxes","nonMaxSuppression"),i=(0,b._1)(t,"scores","nonMaxSuppression"),u=Qn(o,i,n,a,r,s),l={boxes:o,scores:i},d={maxOutputSize:n=u.maxOutputSize,iouThreshold:a=u.iouThreshold,scoreThreshold:r=u.scoreThreshold,softNmsSigma:s=u.softNmsSigma},c=ne.BV.runKernel(ae.W0,l,d);return{selectedIndices:c[0],selectedScores:c[1]}}}),na=(0,M.op)({nonMaxSuppressionPadded_:function(e,t,n,a=.5,r=Number.NEGATIVE_INFINITY,s=!1){const o=(0,b._1)(e,"boxes","nonMaxSuppression"),i=(0,b._1)(t,"scores","nonMaxSuppression"),u=Qn(o,i,n,a,r,null),l={boxes:o,scores:i},d={maxOutputSize:u.maxOutputSize,iouThreshold:u.iouThreshold,scoreThreshold:u.scoreThreshold,padToMaxOutputSize:s},c=ne.BV.runKernel(ae.cy,l,d);return{selectedIndices:c[0],validOutputs:c[1]}}});var aa=n(3305),ra=n(5098);const sa=(0,M.op)({bandPart_:function(e,t,n){(0,N.hu)(t%1==0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),(0,N.hu)(n%1==0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`));const a=(0,b._1)(e,"a","bandPart");(0,N.hu)(a.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${a.rank}.`));const r=a.shape,[s,o]=a.shape.slice(-2);if(!(t<=s))throw new Error(`bandPart(): numLower (${t}) must not be greater than the number of rows (${s}).`);if(!(n<=o))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`);t<0&&(t=s),n<0&&(n=o);const i=(0,re.X)((0,Tt.w)(0,s,1,"int32"),[-1,1]),u=(0,Tt.w)(0,o,1,"int32"),l=(0,et.l)(i,u),d=(0,$e.H)((0,Ne.z)(l,(0,Ot.i)(+t,"int32")),(0,Me.b)(l,(0,Ot.i)(-n,"int32"))),c=(0,Sn.l)([s,o],a.dtype);return(0,re.X)((0,sn.k)((0,Mn.H)((0,re.X)(a,[-1,s,o])).map((e=>(0,Tn.a)(d,e,c)))),r)}}),oa=(0,M.op)({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,(0,N.hu)(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)(0,N.hu)(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=(0,tn.V)(e,e.shape[0],0).map((e=>(0,rn.L)(e,[0])));(0,N.hu)(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],a=e;for(let t=0;t<e.length;++t)n.push(ne.BV.tidy((()=>{let e=a[t];if(t>0)for(let a=0;a<t;++a){const t=(0,k.d)((0,ln.S)((0,k.d)(n[a],e)),n[a]);e=(0,et.l)(e,t)}return(0,ie.h)(e,(0,An.K)(e,"euclidean"))})));return t?(0,sn.k)(n,0):n}});var ia=n(4368);function ua(e,t=!1){return ne.BV.tidy((()=>{(0,N.hu)(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],a=e.shape[1];let r=ge(n),s=(0,P.d)(e);const o=mn([[1]],[1,1]);let i=(0,P.d)(o);const u=n>=a?a:n;for(let e=0;e<u;++e){const t=s,u=i,l=r;[i,s,r]=ne.BV.tidy((()=>{const t=(0,T.t)(s,[e,e],[n-e,1]),u=(0,An.K)(t),l=(0,T.t)(s,[e,e],[1,1]),d=(0,Tn.a)((0,ke.p)(l,0),mn([[-1]]),mn([[1]])),c=(0,et.l)(l,(0,k.d)(d,u)),h=(0,ie.h)(t,c);i=1===h.shape[0]?(0,P.d)(o):(0,v.z)([o,(0,T.t)(h,[1,0],[h.shape[0]-1,h.shape[1]])],0);const p=(0,rt.W)((0,ie.h)((0,x.O)(d,c),u)),m=(0,T.t)(s,[e,0],[n-e,a]),f=(0,k.d)(p,i),_=(0,En.p)(i);if(0===e)s=(0,et.l)(m,(0,x.O)(f,(0,x.O)(_,m)));else{const t=(0,et.l)(m,(0,x.O)(f,(0,x.O)(_,m)));s=(0,v.z)([(0,T.t)(s,[0,0],[e,a]),t],0)}const g=(0,En.p)(f),y=(0,T.t)(r,[0,e],[n,r.shape[1]-e]);if(0===e)r=(0,et.l)(y,(0,x.O)((0,x.O)(y,i),g));else{const t=(0,et.l)(y,(0,x.O)((0,x.O)(y,i),g));r=(0,v.z)([(0,T.t)(r,[0,0],[n,e]),t],1)}return[i,s,r]})),(0,ia.B9)([t,u,l])}return!t&&n>a&&(r=(0,T.t)(r,[0,0],[n,a]),s=(0,T.t)(s,[0,0],[a,a])),[r,s]}))}const la=(0,M.op)({qr_:function(e,t=!1){if((0,N.hu)(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return ua(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),a=(0,Mn.H)((0,re.X)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),r=[],s=[];return a.forEach((e=>{const[n,a]=ua(e,t);r.push(n),s.push(a)})),[(0,re.X)((0,sn.k)(r,0),e.shape),(0,re.X)((0,sn.k)(s,0),e.shape)]}}});var da=n(9876);const ca=(0,M.op)({computeWeightedLoss_:function(e,t,n=da.I.SUM_BY_NONZERO_WEIGHTS){const a=(0,b._1)(e,"losses","computeWeightedLoss");let r=null;null!=t&&(r=(0,b._1)(t,"weights","computeWeightedLoss"));const s=null==r?a:(0,k.d)(a,r);if(n===da.I.NONE)return s;if(n===da.I.SUM)return(0,ln.S)(s);if(n===da.I.MEAN){if(null==r)return(0,Ge.J)(s);{const e=a.size/r.size,t=(0,ie.h)((0,ln.S)(s),(0,ln.S)(r));return e>1?(0,ie.h)(t,(0,Ot.i)(e)):t}}if(n===da.I.SUM_BY_NONZERO_WEIGHTS){if(null==r)return(0,ie.h)((0,ln.S)(s),(0,Ot.i)(a.size));{const e=(0,k.d)(r,(0,it.i)(a.shape)),t=(0,R.p)((0,ln.S)((0,st.Q)(e,(0,Ot.i)(0))),"float32");return(0,ie.h)((0,ln.S)(s),t)}}throw Error(`Unknown reduction: ${n}`)}}),ha=(0,M.op)({absoluteDifference_:function(e,t,n,r=da.I.SUM_BY_NONZERO_WEIGHTS){const s=(0,b._1)(e,"labels","absoluteDifference"),o=(0,b._1)(t,"predictions","absoluteDifference");let i=null;null!=n&&(i=(0,b._1)(n,"weights","absoluteDifference")),(0,N.k5)(s.shape,o.shape,"Error in absoluteDifference: ");const u=(0,a.W)((0,et.l)(s,o));return ca(u,i,r)}}),pa=(0,M.op)({cosineDistance_:function(e,t,n,a,r=da.I.SUM_BY_NONZERO_WEIGHTS){const s=(0,b._1)(e,"labels","cosineDistance"),o=(0,b._1)(t,"predictions","cosineDistance");let i=null;null!=a&&(i=(0,b._1)(a,"weights","cosineDistance")),(0,N.k5)(s.shape,o.shape,"Error in cosineDistance: ");const u=(0,Ot.i)(1),l=(0,et.l)(u,(0,ln.S)((0,k.d)(s,o),n,!0));return ca(l,i,r)}}),ma=(0,M.op)({hingeLoss_:function(e,t,n,a=da.I.SUM_BY_NONZERO_WEIGHTS){let r=(0,b._1)(e,"labels","hingeLoss");const s=(0,b._1)(t,"predictions","hingeLoss");let o=null;null!=n&&(o=(0,b._1)(n,"weights","hingeLoss")),(0,N.k5)(r.shape,s.shape,"Error in hingeLoss: ");const i=(0,Ot.i)(1);r=(0,et.l)((0,k.d)((0,Ot.i)(2),r),i);const u=(0,Dt.U)((0,et.l)(i,(0,k.d)(r,s)));return ca(u,o,a)}}),fa=(0,M.op)({huberLoss_:function(e,t,n,r=1,s=da.I.SUM_BY_NONZERO_WEIGHTS){const i=(0,b._1)(e,"labels","huberLoss"),u=(0,b._1)(t,"predictions","huberLoss");let l=null;null!=n&&(l=(0,b._1)(n,"weights","huberLoss")),(0,N.k5)(i.shape,u.shape,"Error in huberLoss: ");const d=(0,Ot.i)(r),c=(0,a.W)((0,et.l)(u,i)),h=(0,Xe.L)(c,d),p=(0,et.l)(c,h),m=(0,o.I)((0,k.d)((0,Ot.i)(.5),(0,Ze.h)(h)),(0,k.d)(d,p));return ca(m,l,s)}}),_a=(0,M.op)({logLoss_:function(e,t,n,a=1e-7,r=da.I.SUM_BY_NONZERO_WEIGHTS){const s=(0,b._1)(e,"labels","logLoss"),i=(0,b._1)(t,"predictions","logLoss");let u=null;null!=n&&(u=(0,b._1)(n,"weights","logLoss")),(0,N.k5)(s.shape,i.shape,"Error in logLoss: ");const l=(0,Ot.i)(1),d=(0,Ot.i)(a),c=(0,rt.W)((0,k.d)(s,(0,Ae.c)((0,o.I)(i,d)))),h=(0,k.d)((0,et.l)(l,s),(0,Ae.c)((0,o.I)((0,et.l)(l,i),d))),p=(0,et.l)(c,h);return ca(p,u,r)}}),ga=(0,M.op)({meanSquaredError_:function(e,t,n,a=da.I.SUM_BY_NONZERO_WEIGHTS){const r=(0,b._1)(e,"labels","meanSquaredError"),s=(0,b._1)(t,"predictions","meanSquaredError");let o=null;null!=n&&(o=(0,b._1)(n,"weights","meanSquaredError")),(0,N.k5)(r.shape,s.shape,"Error in meanSquaredError: ");const i=(0,an.$)(r,s);return ca(i,o,a)}}),ya=(0,M.op)({sigmoidCrossEntropy_:function(e,t,n,r=0,s=da.I.SUM_BY_NONZERO_WEIGHTS){let i=(0,b._1)(e,"multiClassLabels","sigmoidCrossEntropy");const u=(0,b._1)(t,"logits","sigmoidCrossEntropy");let l=null;if(null!=n&&(l=(0,b._1)(n,"weights","sigmoidCrossEntropy")),(0,N.k5)(i.shape,u.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=(0,Ot.i)(r),t=(0,Ot.i)(1),n=(0,Ot.i)(.5);i=(0,o.I)((0,k.d)(i,(0,et.l)(t,e)),(0,k.d)(n,e))}const d=function(e,t){const n=(0,b._1)(e,"labels","sigmoidCrossEntropyWithLogits"),r=(0,b._1)(t,"logits","sigmoidCrossEntropyWithLogits");(0,N.k5)(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=(0,Dt.U)(r),i=(0,k.d)(r,n),u=(0,Ye.K)((0,pe.Q)((0,rt.W)((0,a.W)(r))));return(0,o.I)((0,et.l)(s,i),u)}(i,u);return ca(d,l,s)}});var ba=n(633);const va=(0,M.op)({softmaxCrossEntropy_:function(e,t,n,a=0,r=da.I.SUM_BY_NONZERO_WEIGHTS){let s=(0,b._1)(e,"onehotLabels","softmaxCrossEntropy");const i=(0,b._1)(t,"logits","softmaxCrossEntropy");let u=null;if(null!=n&&(u=(0,b._1)(n,"weights","softmaxCrossEntropy")),(0,N.k5)(s.shape,i.shape,"Error in softmaxCrossEntropy: "),a>0){const e=(0,Ot.i)(a),t=(0,Ot.i)(1),n=(0,Ot.i)(s.shape[1]);s=(0,o.I)((0,k.d)(s,(0,et.l)(t,e)),(0,ie.h)(e,n))}const l=function(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);return(0,ba.cb)(((e,t,a)=>{const r=(0,Oe.l)(t,[n],!0),s=(0,et.l)((0,R.p)(t,"float32"),r);a([e,s]);const o=(0,rt.W)((0,k.d)(s,e));return{value:(0,ln.S)(o,[n]),gradFunc:(e,t)=>{const[a,r]=t,s=(0,Qe.rv)(e.shape,[n]);return[(0,k.d)((0,re.X)(e,s),(0,et.l)((0,R.p)(a,"float32"),(0,pe.Q)(r))),(0,k.d)((0,re.X)(e,s),(0,et.l)((0,pe.Q)(r),(0,R.p)(a,"float32")))]}}}))(e,t)}(s,i);return ca(l,u,r)}}),xa={fft:Jt.k,ifft:Qt.S,rfft:en.Q,irfft:Zt.w},ka={hammingWindow:Vn,hannWindow:Un,frame:Gn,stft:qn},Ma={flipLeftRight:Kn,resizeNearestNeighbor:ra.j,resizeBilinear:aa.I,rotateWithOffset:Jn,cropAndResize:Xn,nonMaxSuppression:Zn,nonMaxSuppressionAsync:async function(e,t,n,a=.5,r=Number.NEGATIVE_INFINITY){const s=(0,b._1)(e,"boxes","nonMaxSuppressionAsync"),o=(0,b._1)(t,"scores","nonMaxSuppressionAsync"),i=Qn(s,o,n,a,r);n=i.maxOutputSize,a=i.iouThreshold,r=i.scoreThreshold;const u=await Promise.all([s.data(),o.data()]),l=u[0],d=u[1],c=(0,ea.GP)(l,d,n,a,r);return s!==e&&s.dispose(),o!==t&&o.dispose(),c},nonMaxSuppressionWithScore:ta,nonMaxSuppressionWithScoreAsync:async function(e,t,n,a=.5,r=Number.NEGATIVE_INFINITY,s=0){const o=(0,b._1)(e,"boxes","nonMaxSuppressionAsync"),i=(0,b._1)(t,"scores","nonMaxSuppressionAsync"),u=Qn(o,i,n,a,r,s);n=u.maxOutputSize,a=u.iouThreshold,r=u.scoreThreshold,s=u.softNmsSigma;const l=await Promise.all([o.data(),i.data()]),d=l[0],c=l[1],h=(0,ea.pA)(d,c,n,a,r,s);return o!==e&&o.dispose(),i!==t&&i.dispose(),h},nonMaxSuppressionPadded:na,nonMaxSuppressionPaddedAsync:async function(e,t,n,a=.5,r=Number.NEGATIVE_INFINITY,s=!1){const o=(0,b._1)(e,"boxes","nonMaxSuppressionAsync"),i=(0,b._1)(t,"scores","nonMaxSuppressionAsync"),u=Qn(o,i,n,a,r,null),l=u.maxOutputSize,d=u.iouThreshold,c=u.scoreThreshold,[h,p]=await Promise.all([o.data(),i.data()]),m=(0,ea.qP)(h,p,l,d,c,s);return o!==e&&o.dispose(),i!==t&&i.dispose(),m}},wa={bandPart:sa,gramSchmidt:oa,qr:la},Ta={absoluteDifference:ha,computeWeightedLoss:ca,cosineDistance:pa,hingeLoss:ma,huberLoss:fa,logLoss:_a,meanSquaredError:ga,sigmoidCrossEntropy:ya,softmaxCrossEntropy:va}},9682:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({pad_:function(e,t,n=0){const o=(0,s._1)(e,"x","pad");if(0===o.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const i={paddings:t,constantValue:n},u={x:o};return a.BV.runKernelFunc(((e,a)=>(a([o]),e.pad(o,t,n))),u,null,r.ly,i)}})},5860:(e,t,n)=>{"use strict";n.d(t,{d:()=>h});var a=n(3740),r=n(569),s=n(5176),o=n(8441),i=n(2582),u=n(1174),l=n(2668),d=n(4968),c=n(7918);const h=(0,l.op)({pool_:function(e,t,n,l,h,p){null==h&&(h=[1,1]),null==p&&(p=1),0===l&&(l="valid");const m=(0,a._1)(e,"x","maxPool");let f=m,_=!1;3===m.rank&&(_=!0,f=(0,d.X)(m,[1,m.shape[0],m.shape[1],m.shape[2]])),r.hu(i.jT(p,h),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${p} and dilations '${h}'`));const g=i.Xw(f.shape,t,p,h,l),y=[g.dilationHeight,g.dilationWidth];let b;b="same"===l?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))).map((e=>e-1)),a=n.map((e=>Math.floor(e/2))),r=n.map(((e,t)=>e-a[t]));return n.map(((e,t)=>[a[t],r[t]]))}([g.filterHeight,g.filterWidth],y):[[0,0],[0,0]];const v=1===y[0]&&1===y[1],[x,k]=function(e,t,n){const a=n.map((e=>e[0])),r=n.map((e=>e[1])),s=e.concat(a,r),o=t.map(((e,t)=>(e-s[t]%e)%e)),i=r.map(((e,t)=>e+o[t]));return[t.map(((e,t)=>[a[t],i[t]])),t.map(((e,t)=>[0,o[t]]))]}([g.inHeight,g.inWidth],y,b),M=v?l:"valid",w=v?f:(0,c.f)(f,y,x),T=("avg"===n?()=>(0,s.w)(w,t,p,M):()=>(0,u._)(w,t,p,M))(),L=v?T:(0,o.E)(T,y,k);return _?(0,d.X)(L,[L.shape[1],L.shape[2],L.shape[3]]):L}})},3453:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var a=n(7097),r=n(9121),s=n(747),o=n(3740);const i=(0,n(2668).op)({pow_:function(e,t){let n=(0,o._1)(e,"base","pow"),i=(0,o._1)(t,"exp","pow");[n,i]=(0,s.makeTypesMatch)(n,i);const u={a:n,b:i};return a.BV.runKernelFunc(((e,t)=>{const a=e.pow(n,i);return t([n,i,a]),a}),u,null,r.pe)}})},8151:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({prelu_:function(e,t){const n=(0,s._1)(e,"x","prelu"),o=(0,s._1)(t,"alpha","prelu"),i={x:n,alpha:o};return a.BV.runKernelFunc(((e,t)=>{const a=e.prelu(n,o);return t([n,o]),a}),i,null,r.o0)}})},9798:(e,t,n)=>{"use strict";function a(e,t=!1){console.log(e.toString(t))}n.d(t,{S:()=>a})},9451:(e,t,n)=>{"use strict";n.d(t,{W:()=>h});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(3591),u=n(2271),l=n(2668),d=n(4968),c=n(9065);const h=(0,l.op)({prod_:function(e,t=null,n=!1){let l=(0,s._1)(e,"x","prod");"bool"===l.dtype&&(l=(0,u.p)(l,"int32"));const h={x:l},p={axis:t,keepDims:n};return a.BV.runKernelFunc((e=>{const a=(0,o.EC)(t,l.shape),r=(0,i.Q3)(a,l.rank);let s=a,u=l;null!=r&&(u=(0,c.p)(l,r),s=(0,i.sY)(s.length,l.rank));let h=e.prod(u,s);if(n){const e=(0,i.rv)(h.shape,a);h=(0,d.X)(h,e)}return h}),h,null,r.Dl,p)}})},6845:(e,t,n)=>{"use strict";n.d(t,{Yi:()=>r,T9:()=>s,wv:()=>o});var a=n(6377);class r{constructor(e,t,n,r,s){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const o=s||Math.random();this.random=a.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let a,r,s;do{a=2*this.random()-1,r=2*this.random()-1,s=a*a+r*r}while(s>=1||0===s);const o=Math.sqrt(-2*Math.log(s)/s);e=this.mean+this.stdDev*a*o,t=this.mean+this.stdDev*r*o,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class s{constructor(e,t,n,s){this.alpha=e,this.beta=1/t,this.dtype=n;const o=s||Math.random();this.randu=a.alea(o.toString()),this.randn=new r(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,a,r,s;for(;;){do{a=this.randn.nextValue(),s=1+this.c*a}while(s<=0);if(s*=s*s,e=a*a,t=1-.331*e*e,n=.5*e+this.d*(1-s+Math.log(s)),r=this.randu(),r<t||Math.log(r)<n)break}return s=1/this.beta*this.d*s,this.alpha<1&&(s*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(s)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class o{constructor(e=0,t=1,n,r){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=a.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}},5002:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});var a=n(2657),r=n(2668),s=n(6845);const o=(0,r.op)({randomUniform_:function(e,t=0,n=1,r="float32",o){const i=(0,a.f)(e,r),u=new s.wv(t,n,null,o);for(let e=0;e<i.values.length;e++)i.values[e]=u.nextValue();return i.toTensor()}})},7245:(e,t,n)=>{"use strict";n.d(t,{w:()=>u});var a=n(7097),r=n(9121),s=n(569),o=n(6092),i=n(9640);function u(e,t,n=1,u="float32"){if(0===n)throw new Error("Cannot have a step of zero");const l={start:e,stop:t,step:n,dtype:u};return a.BV.runKernelFunc((()=>{if(e===t||e<t&&n<0||t<e&&n>1)return(0,i.l)([0],u);const a=Math.abs(Math.ceil((t-e)/n)),r=(0,s.wT)(a,u);t<e&&1===n&&(n=-1),r[0]=e;for(let e=1;e<r.length;e++)r[e]=r[e-1]+n;return(0,o.R)(r,u)}),{},null,r.e6,l)}},766:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({real_:function(e){const t=(0,s._1)(e,"input","real"),n={input:t};return a.BV.runKernelFunc((e=>e.real(t)),n,null,r.xJ)}})},9036:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({reciprocal_:function(e){const t=(0,s._1)(e,"x","reciprocal"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.reciprocal(t);return n([t]),a}),n,null,r.$H)}})},5466:(e,t,n)=>{"use strict";n.d(t,{g:()=>r,A:()=>s});var a=n(569);const r=30;function s(e){return e<=r?e:(0,a.jP)(e,Math.floor(Math.sqrt(e)))}},7409:(e,t,n)=>{"use strict";n.d(t,{U:()=>u});var a=n(7097),r=n(9121),s=n(3740),o=n(2668),i=n(2271);const u=(0,o.op)({relu_:function(e){const t=(0,s._1)(e,"x","relu"),n={x:t};return a.BV.runKernelFunc(((e,n)=>(n([t]),"bool"===t.dtype?(0,i.p)(t,"int32"):e.relu(t))),n,null,r.qk)}})},3582:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(2271);const i=(0,n(2668).op)({relu6_:function(e){const t=(0,s._1)(e,"x","relu6"),n={x:t};return a.BV.runKernelFunc(((e,n)=>(n([t]),"bool"===t.dtype?(0,o.p)(t,"int32"):e.relu6(t))),n,null,r.Sb)}})},4968:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({reshape_:function(e,t){const n=(0,s._1)(e,"x","reshape",null),i={x:n},u={shape:t};return a.BV.runKernelFunc(((e,a)=>(t=o.JZ(t,n.size),o.hu(n.size===o.NA(t),(()=>"new shape and old shape must have the same number of elements.")),a([n]),e.reshape(n,t))),i,null,r.HZ,u)}})},7486:(e,t,n)=>{"use strict";n.d(t,{G:()=>d});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(8723),u=n(2668),l=n(4968);const d=(0,u.op)({reverse_:function(e,t){const n=(0,s._1)(e,"x","reverse"),u={x:n},d={dims:t};return a.BV.runKernelFunc((e=>{const a=(0,o.EC)(t,n.shape);if(0===n.rank)return(0,i.d)(n);const r=e.reverse(n,a);return(0,l.X)(r,n.shape)}),u,null,r.mK,d)}})},7809:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({round_:function(e){const t=(0,s._1)(e,"x","round"),n={x:t};return a.BV.runKernelFunc((e=>e.round(t)),n,null,r.e0)}})},2634:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({rsqrt_:function(e){const t=(0,s._1)(e,"x","rsqrt"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.rsqrt(t);return n([t]),a}),n,null,r.bV)}})},9494:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var a=n(569),r=n(7852);function s(e,t){if(((0,a.fU)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,a.fU)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,r.H)(e,[],[],t)}},3100:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var a=n(7097),r=n(9121),s=n(3740),o=n(2668),i=n(3028);const u=(0,o.op)({scatterND_:function(e,t,n){const o=(0,s._1)(e,"indices","scatterND","int32"),u=(0,s._1)(t,"updates","scatterND");i.validateInput(u,o,n);const l={indices:o,updates:u},d={shape:n};return a.BV.runKernelFunc((e=>e.scatterND(o,u,n)),l,null,r.xQ,d)}})},3028:(e,t,n)=>{"use strict";n.r(t),n.d(t,{validateUpdateShape:()=>r,validateInput:()=>s,calculateShapes:()=>o});var a=n(569);function r(e,t,n){const a=t.rank>1?t.shape[t.rank-1]:1,r=t.rank>1?t.rank-1:1,s=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${a}, and batchDim: ${r}.`;if(n.rank<r)throw new Error(s+` update.rank < ${r}. `);if(e.length<a+(n.rank-r))throw new Error(s+` Output shape length < ${a+(n.rank-r)}`);if(n.rank!==r+e.length-a)throw new Error(s+" update.rank != "+(r+e.length-a));for(let e=0;e<r;++e)if(n.shape[e]!==t.shape[e])throw new Error(s+` updates.shape[${e}] (${n.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<n.rank-r;++t)if(n.shape[t+r]!==e[t+a])throw new Error(s+` updates.shape[${t+r}] (${n.shape[t+r]}) != shape[${t+r}] (${e[t+r]})`)}function s(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}r(n,t,e)}function o(e,t,n){const r=t.shape.length,s=r>1?t.shape[r-1]:1,o=n.length;let i=1;for(let e=s;e<o;++e)i*=n[e];const u=s<1?1:s;return{sliceRank:s,numUpdates:(0,a.NA)(t.shape)/u,sliceSize:i,strides:[...(0,a.e3)(n.slice(0,s)),1],outputSize:(0,a.NA)(n)}}},4931:(e,t,n)=>{"use strict";n.r(t),n.d(t,{segOpComputeOptimalWindowSize:()=>s,computeOutShape:()=>o,collectGatherOpShapeInfo:()=>i});var a=n(569),r=n(5466);function s(e,t){let n,s=!1;for(e<=r.g?(n=e,s=!0):n=(0,a.jP)(e,Math.floor(Math.sqrt(e)));!s;)n>t||n===e?s=!0:n=(0,a.jP)(e,n+1);return n}function o(e,t,n){const a=[],r=e.length;for(let s=0;s<r;s++)s!==t?a.push(e[s]):a.push(n);return a}function i(e,t,n){const a=e.shape[n],r=[];let s=1,o=1;for(let t=0;t<n;t++)r.push(e.shape[t]),s*=e.shape[t];for(let e=0;e<t.rank;e++)r.push(t.shape[e]);for(let t=n+1;t<e.rank;t++)r.push(e.shape[t]),o*=e.shape[t];return{batchSize:s,sliceSize:o,dimSize:a,outputShape:r}}},5503:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({selu_:function(e){const t=(0,s._1)(e,"x","selu"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.selu(t);return n([t]),a}),n,null,r.oF)}})},8678:(e,t,n)=>{"use strict";n.d(t,{U:()=>l});var a=n(3740),r=n(569),s=n(4794),o=n(4718),i=n(2668),u=n(4968);const l=(0,i.op)({separableConv2d_:function(e,t,n,i,l,d=[1,1],c="NHWC"){const h=(0,a._1)(e,"x","separableConv2d"),p=(0,a._1)(t,"depthwiseFilter","separableConv2d"),m=(0,a._1)(n,"pointwiseFilter","separableConv2d");let f=h,_=!1;if(3===h.rank&&(_=!0,f=(0,u.X)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),"NCHW"===c)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");r.hu(4===f.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${f.rank}.`)),r.hu(4===p.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${p.rank}.`)),r.hu(4===m.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${p.rank}.`)),r.hu(1===m.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${m.shape[0]}.`)),r.hu(1===m.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${m.shape[1]}.`));const g=p.shape[2],y=p.shape[3];r.hu(m.shape[2]===g*y,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${g*y}, but got ${m.shape[2]}.`));const b=(0,o.B)(f,p,i,l,c,d),v=(0,s.T)(b,m,1,"valid",c);return _?(0,u.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},6567:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var a=n(4077),r=n(3740),s=n(569);const o=async function(e,t){const n=(0,r._1)(e,"x","setdiff1d"),o=(0,r._1)(t,"y","setdiff1d");s.hu(n.dtype===o.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${o.dtype}).`)),s.hu(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),s.hu(1===o.rank,(()=>`y should be 1D tensor, but got y (${o.shape}).`));const i=await n.data(),u=await o.data(),l=new Set(u);let d=0;for(let e=0;e<i.length;e++)l.has(i[e])||d++;const c=new a.YD([d],n.dtype),h=new a.YD([d],"int32");for(let e=0,t=0;e<i.length;e++)l.has(i[e])||(c.values[t]=i[e],h.values[t]=e,t++);return[c.toTensor(),h.toTensor()]}},625:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({sigmoid_:function(e){const t=(0,s._1)(e,"x","sigmoid"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.sigmoid(t);return n([a]),a}),n,null,r.a5)}})},4434:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({sign_:function(e){const t=(0,s._1)(e,"x","sign"),n={x:t};return a.BV.runKernelFunc((e=>e.sign(t)),n,null,r.i5)}})},9331:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({sin_:function(e){const t=(0,s._1)(e,"x","sin"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.sin(t);return n([t]),a}),n,null,r.RQ)}})},3254:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({sinh_:function(e){const t=(0,s._1)(e,"x","sinh"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.sinh(t);return n([t]),a}),n,null,r.w3)}})},2676:(e,t,n)=>{"use strict";n.d(t,{t:()=>u});var a=n(7097),r=n(9121),s=n(3740),o=n(2668),i=n(7650);const u=(0,o.op)({slice_:function(e,t,n){const o=(0,s._1)(e,"x","slice");if(0===o.rank)throw new Error("Slicing scalar is not possible");const u={x:o},l={begin:t,size:n};return a.BV.runKernelFunc(((e,a)=>{const[r,s]=i.parseSliceParams(o,t,n);return i.assertParamsValid(o,r,s),a([o]),e.slice(o,r,s)}),u,null,r.p2,l)}})},7650:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assertParamsValid:()=>r,maskToAxes:()=>s,computeOutShape:()=>o,stridesWithElidedDims:()=>i,getNormalizedAxes:()=>d,startIndicesWithElidedDims:()=>c,stopIndicesWithElidedDims:()=>h,stridesForAxis:()=>p,startForAxis:()=>m,stopForAxis:()=>f,isSliceContinous:()=>_,computeFlatOffset:()=>g,parseSliceParams:()=>y});var a=n(569);function r(e,t,n){const r=e.shape.length;a.hu(r===t.length,(()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`)),a.hu(r===n.length,(()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`));for(let s=0;s<r;++s)a.hu(t[s]+n[s]<=e.shape[s],(()=>`Error in slice${r}D: begin[${s}] + size[${s}] (${t[s]+n[s]}) would overflow input.shape[${s}] (${e.shape[s]})`))}function s(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function o(e,t,n){const a=[];for(let r=0;r<e.length;r++)a[r]=Math.ceil((t[r]-e[r])/n[r]);return a}function i(e,t,n,a){const r=[...e];for(let e=r.length;e<a.length;e++)r.push(1);for(let e=0;e<n;e++)0===e?r[t]=1:(r.splice(t,0,1),r.pop());return r}function u(e,t,n){return n<=e?n:n-(t-1)}function l(e,t){const n=[];for(let a=0;a<e;a++)n.push(t+a);return n}function d(e,t,n,a,r,s,o,u,l){const d=e.length;let _=new Array(d),g=new Array(d),y=new Array(d);if(t.length&&n>0){const l=t[0],d=n+1;_=c(o,l,d,a,e),g=h(u,l,d,r,e),y=i(s,l,d,e)}else for(let t=0;t<d;t++)_[t]=m(o,a,s,e,t,l),g[t]=f(u,r,s,e,t,l),y[t]=p(s,t,l);return{begin:_,end:g,strides:y}}function c(e,t,n,a,r){const s=[...r],o=l(n,t);for(let r=0;r<s.length;r++)if(o.indexOf(r)>-1)s[r]=0;else{const o=u(t,n,r);let i=a[o];e&1<<o&&(i=0),s[r]=i}return s}function h(e,t,n,r,s){const o=[...s],i=l(n,t);for(let a=0;a<o.length;a++)if(i.indexOf(a)>-1)o[a]=Number.MAX_SAFE_INTEGER;else{const s=u(t,n,a);let i=r[s];e&1<<s&&(i=Number.MAX_SAFE_INTEGER),o[a]=i}for(let e=0;e<o.length;e++){const t=s[e];o[e]<0&&(o[e]+=t),o[e]=a.uZ(0,o[e],s[e])}return o}function p(e,t,n){let a=e[t];return(n&1<<t||null==a)&&(a=1),a}function m(e,t,n,r,s,o){let i=t[s];const u=n[s]||1;(e&1<<s||o&1<<s||null==i)&&(i=u>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=r[s];return i<0&&(i+=l),i=a.uZ(0,i,l-1),i}function f(e,t,n,r,s,o){let i=t[s];const u=n[s]||1;(e&1<<s||o&1<<s||null==i)&&(i=u>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=r[s];return i<0&&(i+=l),i=u>0?a.uZ(0,i,l):a.uZ(-1,i,l-1),i}function _(e,t,n){let a=n.length;for(let e=0;e<n.length;e++)if(n[e]>1){a=e;break}for(let r=a+1;r<n.length;r++)if(t[r]>0||n[r]!==e[r])return!1;return!0}function g(e,t){let n=e.length>0?e[e.length-1]:1;for(let a=0;a<e.length-1;a++)n+=e[a]*t[a];return n}function y(e,t,n){let r;const s=e.shape.length;let o;return r="number"==typeof t?[t,...new Array(s-1).fill(0)]:t.length<s?t.concat(new Array(s-t.length).fill(0)):t.slice(),r.forEach((e=>{a.hu(-1!==e,(()=>"slice() does not support negative begin indexing."))})),o=null==n?new Array(s).fill(-1):"number"==typeof n?[n,...new Array(s-1).fill(-1)]:n.length<s?n.concat(new Array(s-n.length).fill(-1)):n,o=o.map(((t,n)=>t>=0?t:(a.hu(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-r[n]))),[r,o]}},682:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({softmax_:function(e,t=-1){const n=(0,s._1)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const o={logits:n},i={dim:t};return a.BV.runKernelFunc(((e,a)=>{const r=e.softmax(n,t);return a([r]),r}),o,null,r.Gc,i)}})},3694:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({softplus_:function(e){const t=(0,s._1)(e,"x","softplus"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.softplus(t);return n([t]),a}),n,null,r.MR)}})},7918:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({spaceToBatchND_:function(e,t,n){const i=(0,s._1)(e,"x","spaceToBatchND");o.hu(i.rank>=1+t.length,(()=>`input rank ${i.rank} should be > than [blockShape] ${t.length}`)),o.hu(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),o.hu(i.shape.reduce(((e,a,r)=>r>0&&r<=t.length?e&&(a+n[r-1][0]+n[r-1][1])%t[r-1]==0:e),!0),(()=>`input spatial dimensions ${i.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const u={x:i},l={blockShape:t,paddings:n};return a.BV.runKernelFunc((e=>e.spaceToBatchND(i,t,n)),u,null,r.TQ,l)}})},9758:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({sparseToDense_:function(e,t,n,o=0){const i=(0,s._1)(e,"sparseIndices","sparseToDense","int32"),u=(0,s._1)(t,"sparseValues","sparseToDense"),l=(0,s._1)(o,"defaultValue","sparseToDense",u.dtype);!function(e,t,n,a){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const r=e.rank>0?e.shape[0]:1,s=e.rank>1?e.shape[1]:1;if(n.length!==s)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${s}.`);const o=t.size;if(0!==t.rank&&(1!==t.rank||o!==r))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${r}]`);if(t.dtype!==a.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,u,n,l);const d={sparseIndices:i,sparseValues:u,defaultValue:l},c={outputShape:n};return a.BV.runKernelFunc((e=>e.sparseToDense(i,u,n,l)),d,null,r.D2,c)}})},7020:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var a=n(7097),r=n(9121),s=n(569);const o=(0,n(2668).op)({fft_:function(e){(0,s.hu)("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return a.BV.runKernelFunc((t=>{const n=e.shape[e.shape.length-1],a=e.size/n,r=e.as2D(a,n);return t.fft(r).reshape(e.shape)}),t,null,r.vw)}})},8447:(e,t,n)=>{"use strict";n.d(t,{S:()=>u});var a=n(7097),r=n(9121),s=n(569),o=n(2668),i=n(4968);const u=(0,o.op)({ifft_:function(e){(0,s.hu)("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return a.BV.runKernelFunc((t=>{const n=e.shape[e.shape.length-1],a=e.size/n,r=(0,i.X)(e,[a,n]),s=t.ifft(r);return(0,i.X)(s,e.shape)}),t,null,r.Qg)}})},4415:(e,t,n)=>{"use strict";n.d(t,{w:()=>m});var a=n(1661),r=n(6884),s=n(4386),o=n(4841),i=n(2668),u=n(766),l=n(4968),d=n(7486),c=n(9494),h=n(2676),p=n(8447);const m=(0,i.op)({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let i;if(t<=2){const a=(0,l.X)(e,[n,t]);i=(0,p.S)(a)}else{const m=[n,2*(t-1)],f=(0,l.X)((0,u.k)(e),[n,t]),_=(0,l.X)((0,s.a)(e),[n,t]),g=(0,d.G)((0,h.t)(f,[0,1],[n,t-2]),1),y=(0,o.d)((0,d.G)((0,h.t)(_,[0,1],[n,t-2]),1),(0,c.i)(-1)),b=(0,r.z)([f,g],1),v=(0,r.z)([_,y],1),x=(0,l.X)((0,a.P)(b,v),[m[0],m[1]]);i=(0,p.S)(x)}if(i=(0,u.k)(i),3===e.rank&&0!==e.shape[0]){const t=i,n=e.shape[0];i=(0,l.X)(i,[n,i.shape[0]/n,i.shape[1]]),t.dispose()}return i}})},3710:(e,t,n)=>{"use strict";n.d(t,{Q:()=>f});var a=n(569),r=n(1661),s=n(6884),o=n(4386),i=n(2668),u=n(766),l=n(4968),d=n(2676),c=n(8644),h=n(9640),p=n(6577),m=n(7020);const f=(0,i.op)({rfft_:function(e,t){(0,a.hu)("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const i=e.size/n;let f;if(null!=t&&t<n){const a=e.shape.map((e=>0)),r=e.shape.map((e=>e));r[e.shape.length-1]=t,f=(0,d.t)(e,a,r),n=t}else if(null!=t&&t>n){const a=e.shape.map((e=>e));a[e.shape.length-1]=t-n,f=(0,s.z)([e,(0,h.l)(a)],e.shape.length-1),n=t}else f=e;const _=(0,p.P)(f),g=(0,l.X)((0,r.P)(f,_),[i,n]),y=(0,m.k)(g),b=Math.floor(n/2)+1,v=(0,u.k)(y),x=(0,o.a)(y),k=(0,c.V)(v,[b,n-b],v.shape.length-1),M=(0,c.V)(x,[b,n-b],x.shape.length-1),w=f.shape.slice();return w[f.shape.length-1]=b,(0,l.X)((0,r.P)(k[0],M[0]),w)}})},8644:(e,t,n)=>{"use strict";n.d(t,{V:()=>l});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(2668),u=n(4099);const l=(0,i.op)({split_:function(e,t,n=0){const i=(0,s._1)(e,"x","split"),l={x:i},d={numOrSizeSplits:t,axis:n};return a.BV.runKernelFunc(((e,a)=>{const r=(0,o.EC)(n,i.shape)[0],s=(0,u.O)(i,t,r);return e.split(i,s,r)}),l,null,r.L8,d)}})},4099:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var a=n(569);function r(e,t,n=0){let r=[];if("number"==typeof t)(0,a.hu)(e.shape[n]%t==0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{const s=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);(0,a.hu)(s<=1,(()=>"There should be only one negative value in split array."));const o=t.indexOf(-1);if(-1!==o){const a=t.reduce(((e,t)=>t>0?e+t:e));t[o]=e.shape[n]-a}(0,a.hu)(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}},3261:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({sqrt_:function(e){const t=(0,s._1)(e,"x","sqrt"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.sqrt(t);return n([t]),a}),n,null,r.FK)}})},248:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var a=n(7097),r=n(3740);const s=(0,n(2668).op)({square_:function(e){const t=(0,r._1)(e,"x","square"),n=[t];return a.BV.runKernelFunc(((e,n)=>(n([t]),e.square(t))),{x:t},null,"Square",{},n,[])}})},5265:(e,t,n)=>{"use strict";n.d(t,{$:()=>u});var a=n(7097),r=n(9121),s=n(747),o=n(3740),i=n(2200);const u=(0,n(2668).op)({squaredDifference_:function(e,t){let n=(0,o._1)(e,"a","squaredDifference"),u=(0,o._1)(t,"b","squaredDifference");[n,u]=(0,s.makeTypesMatch)(n,u),(0,i.$N)(n.shape,u.shape);const l={a:n,b:u};return a.BV.runKernelFunc(((e,t)=>{const a=e.squaredDifference(n,u);return t([n,u]),a}),l,null,r._t,{})}})},9590:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var a=n(3740),r=n(569),s=n(2668),o=n(4968);const i=(0,s.op)({squeeze_:function(e,t){const n=(0,a._1)(e,"x","squeeze");return(0,o.X)(n,(0,r.bp)(n.shape,t).newShape)}})},2991:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var a=n(3740),r=n(569),s=n(6884),o=n(1300);const i=(0,n(2668).op)({stack_:function(e,t=0){const n=(0,a.sI)(e,"tensors","stack");if(r.hu(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),1===n.length)return(0,o.d)(n[0],t);const i=n[0].rank,u=n[0].shape,l=n[0].dtype;r.hu(t<=i,(()=>"Axis must be <= rank of the tensor")),n.forEach((e=>{r.k5(u,e.shape,"All tensors passed to stack must have matching shapes"),r.hu(l===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const d=n.map((e=>(0,o.d)(e,t)));return(0,s.z)(d,t)}})},1901:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({step_:function(e,t=0){const n=(0,s._1)(e,"x","step"),o={x:n},i={alpha:t};return a.BV.runKernelFunc((e=>e.step(n,t)),o,null,r.h8,i)}})},5158:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var a=n(7097),r=n(9121),s=n(3740),o=n(2668),i=n(4968),u=n(2676),l=n(7650);const d=(0,o.op)({stridedSlice_:function(e,t,n,o,d=0,c=0,h=0,p=0,m=0){let f=(0,s._1)(e,"x","stridedSlice");const _={x:f},g={begin:t,end:n,strides:o,beginMask:d,endMask:c,ellipsisMask:h,newAxisMask:p,shrinkAxisMask:m};return a.BV.runKernelFunc((e=>{null==o&&(o=new Array(t.length));const a=(0,l.maskToAxes)(h);if(a.length>1)throw new Error("Multiple ellipses in slice is not allowed.");if(0!==h&&0!==p)throw new Error("Using both ellipsisMask and newAxisMask is not yet supported.");if(0!==h&&0!==m)throw new Error("Using both ellipsisMask and shrinkAxisMask is not yet supported.");const r=f.rank-t.length,s=(0,l.maskToAxes)(p),_=f.shape.slice();s.forEach((e=>{t[e]=0,n[e]=1,_.splice(e,0,1)})),f=(0,i.X)(f,_);const{begin:g,end:y,strides:b}=(0,l.getNormalizedAxes)(f.shape,a,r,t,n,o,d,c,h);t=g,n=y,o=b;const v=(0,l.maskToAxes)(m);v.forEach((e=>{n[e]=t[e]+1,o[e]=1}));const x=(0,l.computeOutShape)(t,n,o),k=x.filter(((e,t)=>-1===v.indexOf(t)));if(o.every((e=>1===e)))return(0,i.X)((0,u.t)(f,t,x),k);const M=e.stridedSlice(f,t,n,o);return(0,i.X)(M,k)}),_,null,r.m2,g)}})},827:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var a=n(7097),r=n(9121),s=n(747),o=n(3740);const i=(0,n(2668).op)({sub_:function(e,t){let n=(0,o._1)(e,"a","sub"),i=(0,o._1)(t,"b","sub");[n,i]=(0,s.makeTypesMatch)(n,i);const u={a:n,b:i};return a.BV.runKernelFunc(((e,t)=>{const a=e.subtract(n,i);return t([n,i]),a}),u,null,r.Tr)}})},5475:(e,t,n)=>{"use strict";n.d(t,{S:()=>h});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(3591),u=n(2271),l=n(2668),d=n(4968),c=n(9065);const h=(0,l.op)({sum_:function(e,t=null,n=!1){let l=(0,s._1)(e,"x","sum");"bool"===l.dtype&&(l=(0,u.p)(l,"int32"));const h={x:l},p={axis:t,keepDims:n};return a.BV.runKernelFunc(((e,a)=>{a([l]);const r=(0,o.EC)(t,l.shape),s=(0,i.Q3)(r,l.rank);let u=r,h=l;null!=s&&(h=(0,c.p)(l,s),u=(0,i.sY)(u.length,l.rank));let p=e.sum(h,u);if(n){const e=(0,i.rv)(p.shape,r);p=(0,d.X)(p,e)}return p}),h,null,r.GB,p)}})},1173:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({tan_:function(e){const t=(0,s._1)(e,"x","tan"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.tan(t);return n([t]),a}),n,null,r.sE)}})},1869:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({tanh_:function(e){const t=(0,s._1)(e,"x","tanh"),n={x:t};return a.BV.runKernelFunc(((e,n)=>{const a=e.tanh(t);return n([a]),a}),n,null,r.MI)}})},701:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var a=n(3740),r=n(7852);function s(e,t,n){const s=(0,a.C)(e,n);return(0,r.H)(e,t,s,n)}},6092:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var a=n(3740),r=n(569),s=n(7852);function o(e,t){(0,r.Cq)(e);const n=(0,a.C)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,s.H)(e,null,n,t)}},9906:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var a=n(3740),r=n(569),s=n(7852);function o(e,t,n){if((0,r.Cq)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const o=(0,a.C)(e,n);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,s.H)(e,t,o,n)}},7852:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var a=n(7097),r=n(569),s=n(9155);function o(e,t,n,o){if(null==o&&(o=(0,r.D2)(e)),"complex64"===o)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!(0,r.fU)(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,r.Mu)(t);const e=(0,r.NA)(t),a=(0,r.NA)(n);(0,r.hu)(e===a,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${a}`));for(let e=0;e<n.length;++e){const a=n[e],s=e!==n.length-1||a!==(0,r.NA)(t.slice(e));(0,r.hu)(n[e]===t[e]||!s,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return(0,r.fU)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==o?(0,s.toTypedArray)(e,o):(0,r.xH)(e,[],!0),a.BV.makeTensor(e,t,o)}},7501:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({tile_:function(e,t){const n=(0,s._1)(e,"x","tile",null);o.hu(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const i=[n],u={x:n},l={reps:t};return a.BV.runKernelFunc(((e,a)=>{const r=e.tile(n,t);return a([n]),r}),u,null,r.n9,l,i)}})},3243:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({topk_:function(e,t=1,n=!0){const o=(0,s._1)(e,"x","topk");if(0===o.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const i=o.shape[o.shape.length-1];if(t>i)throw new Error(`'k' passed to topk() must be <= the last dimension (${i}) but got ${t}`);const u={x:o},l={k:t,sorted:n},[d,c]=a.BV.runKernelFunc((e=>e.topk(o,t,n)),u,null,r.cW,l);return{values:d,indices:c}}})},9065:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({transpose_:function(e,t){const n=(0,s._1)(e,"x","transpose");if(null==t&&(t=n.shape.map(((e,t)=>t)).reverse()),o.hu(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of perm ${t}.`)),t.forEach((e=>{o.hu(e>=0&&e<n.rank,(()=>"All entries in 'perm' must be between 0 and "+(n.rank-1)+` but got ${t}`))})),n.rank<=1)return n.clone();const i={x:n},u={perm:t};return a.BV.runKernelFunc((e=>e.transpose(n,t)),i,null,r.G3,u)}})},3596:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var a=n(2657),r=n(2668),s=n(6845);const o=(0,r.op)({truncatedNormal_:function(e,t=0,n=1,r,o){if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const i=new s.Yi(t,n,r,!0,o),u=(0,a.f)(e,r);for(let e=0;e<u.values.length;e++)u.values[e]=i.nextValue();return u.toTensor()}})},9608:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({unique_:function(e,t=0){const n=(0,s._1)(e,"x","unique",null);(0,o.hu)(n.rank>0,(()=>"The input tensor must be at least 1D"));const i={x:n},u={axis:t},[l,d]=a.BV.runKernel(r.kp,i,u);return{values:l,indices:d}}})},8749:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({unsortedSegmentSum_:function(e,t,n){const i=(0,s._1)(e,"x","unsortedSegmentSum"),u=(0,s._1)(t,"segmentIds","unsortedSegmentSum","int32");(0,o.hu)((0,o.GN)(n),(()=>"numSegments must be of dtype int"));const l={x:i,segmentIds:u},d={numSegments:n};return a.BV.runKernelFunc(((e,t)=>{const a=e.unsortedSegmentSum(i,u,n);return t([u]),a}),l,null,r.Qv,d)}})},4136:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});var a=n(7097),r=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({unstack_:function(e,t=0){const n=(0,s._1)(e,"x","unstack");o.hu(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`)),t<0&&(t+=n.shape.length);const i={value:n},u={axis:t};return a.BV.runKernelFunc((e=>e.unstack(n,t)),i,null,r.To,u)}})},5912:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var a=n(7097),r=n(9121),s=n(3740),o=n(569),i=n(8247),u=n(2200);const l=(0,n(2668).op)({where_:function(e,t,n){const l=(0,s._1)(t,"a","where"),d=(0,s._1)(n,"b","where"),c=(0,s._1)(e,"condition","where","bool"),h=(0,u.$N)(l.shape,d.shape),p=(0,i.U)(l,h),m=(0,i.U)(d,h);1===c.rank&&(0,o.hu)(c.shape[0]===l.shape[0],(()=>"The first dimension of `a` must match the size of `condition`.")),1!==c.rank&&(0,o.k5)(c.shape,m.shape,"Error in where: ");const f={condition:c,t:p,e:m};return a.BV.runKernelFunc(((e,t)=>{const n=e.select(c,p,m);return t([c]),n}),f,null,r.xc)}})},6380:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var a=n(8333),r=n(3740);const s=async function(e){const t=(0,r._1)(e,"condition","whereAsync","bool"),n=await t.data(),s=(0,a.Z)(t.shape,n);return e!==t&&t.dispose(),s}},9640:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var a=n(7097),r=n(569),s=n(1661);function o(e,t="float32"){if("complex64"===t){const t=o(e,"float32"),n=o(e,"float32");return(0,s.P)(t,n)}const n=(0,r.wT)((0,r.NA)(e),t);return a.BV.makeTensor(n,e,t)}},6577:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var a=n(7097),r=n(9121),s=n(3740);const o=(0,n(2668).op)({zerosLike_:function(e){const t=(0,s._1)(e,"x","zerosLike"),n={x:t};return a.BV.runKernelFunc((e=>e.zerosLike(t)),n,null,r.Ru)}})},4077:(e,t,n)=>{"use strict";n.d(t,{es:()=>g,YD:()=>d,_w:()=>y,FZ:()=>_,Vp:()=>f,Vi:()=>m});var a=n(569);function r(e,t,n,r){const o=(0,a.e3)(t),l=function(e,t,n,r){const o=(0,a.NA)(t),i=r[r.length-1],l=new Array(i).fill(0),d=t.length,c="complex64"===n?u(e):e;if(d>1)for(let e=0;e<o/i;e++){const t=e*i;for(let e=0;e<i;e++)l[e]=Math.max(l[e],s(c[t+e],0,n).length)}return l}(e,t,n,o),d=t.length,c=i(e,t,n,o,l),h=["Tensor"];return r&&(h.push(`  dtype: ${n}`),h.push(`  rank: ${d}`),h.push(`  shape: [${t}]`),h.push("  values:")),h.push(c.map((e=>"    "+e)).join("\n")),h.join("\n")}function s(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:(0,a.HD)(e)?`'${e}'`:"bool"===n?o(e):parseFloat(e.toFixed(7)).toString(),(0,a.oj)(r,t)}function o(e){return 0===e?"false":"true"}function i(e,t,n,a,r,l=!0){const d="complex64"===n?2:1,c=t[0],h=t.length;if(0===h)return"complex64"===n?[s(u(e)[0],0,n)]:"bool"===n?[o(e[0])]:[e[0].toString()];if(1===h){if(c>20){const t=3*d;let a=Array.from(e.slice(0,t)),o=Array.from(e.slice((c-3)*d,c*d));return"complex64"===n&&(a=u(a),o=u(o)),["["+a.map(((e,t)=>s(e,r[t],n))).join(", ")+", ..., "+o.map(((e,t)=>s(e,r[c-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?u(e):Array.from(e)).map(((e,t)=>s(e,r[t],n))).join(", ")+"]"]}const p=t.slice(1),m=a.slice(1),f=a[0]*d,_=[];if(c>20){for(let t=0;t<3;t++){const a=t*f,s=a+f;_.push(...i(e.slice(a,s),p,n,m,r,!1))}_.push("...");for(let t=c-3;t<c;t++){const a=t*f,s=a+f;_.push(...i(e.slice(a,s),p,n,m,r,t===c-1))}}else for(let t=0;t<c;t++){const a=t*f,s=a+f;_.push(...i(e.slice(a,s),p,n,m,r,t===c-1))}const g=2===h?",":"";_[0]="["+_[0]+g;for(let e=1;e<_.length-1;e++)_[e]=" "+_[e]+g;let y=",\n";for(let e=2;e<h;e++)y+="\n";return _[_.length-1]=" "+_[_.length-1]+"]"+(l?"":y),_}function u(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var l=n(9155);class d{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=a.NA(e),null!=n){const e=n.length;a.hu(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||a.rQ(t,this.size),this.strides=(0,a.e3)(e)}set(e,...t){0===t.length&&(t=[0]),a.hu(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const n of e){if(n<0||n>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let t=0;t<e.length-1;++t)n+=this.strides[t]*e[t];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return c().makeTensor(this.values,this.shape,this.dtype)}}let c=null,h=null,p=null;function m(e){c=e}function f(e){h=e}function _(e){p=e}class g{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=a.NA(e),this.strides=(0,a.e3)(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return h.buffer(this.shape,this.dtype,e)}bufferSync(){return h.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return(0,a.GX)(this.shape,e)}arraySync(){return(0,a.GX)(this.shape,this.dataSync())}async data(){this.throwIfDisposed();const e=c().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>l.decodeString(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataSync(){this.throwIfDisposed();const e=c().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>l.decodeString(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await c().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(c().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return h.print(this,e)}clone(){return this.throwIfDisposed(),h.clone(this)}toString(e=!1){return r(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),h.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),c().makeVariable(this,e,t,n)}}Object.defineProperty(g,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed});class y extends g{constructor(e,t,n,a){super(e.shape,e.dtype,e.dataId,a),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!a.cO(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);c().disposeTensor(this),this.dataId=e.dataId,c().incRef(this,null)}dispose(){c().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(y,Symbol.hasInstance,{value:e=>e instanceof g&&null!=e.assign&&e.assign instanceof Function})},747:(e,t,n)=>{"use strict";n.r(t),n.d(t,{makeTypesMatch:()=>o,assertTypesMatch:()=>i,isTensorInList:()=>u,getTensorsInContainer:()=>l});var a=n(4077),r=n(1221),s=n(569);function o(e,t){if(e.dtype===t.dtype)return[e,t];const n=(0,r.x8)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function i(e,t){(0,s.hu)(e.dtype===t.dtype,(()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`))}function u(e,t){return t.some((t=>t.id===e.id))}function l(e){const t=[];return d(e,t,new Set),t}function d(e,t,n){if(null==e)return;if(e instanceof a.es)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!=typeof r)return;var r;const s=e;for(const e in s){const a=s[e];n.has(a)||(n.add(a),d(a,t,n))}}},3740:(e,t,n)=>{"use strict";n.d(t,{C:()=>u,_1:()=>c,sI:()=>h});var a=n(7097),r=n(2885),s=n(4077),o=n(569),i=n(9155);function u(e,t){let n=e;if((0,o.fU)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];const a=[];for(;Array.isArray(n)||(0,o.fU)(n)&&"string"!==t;)a.push(n.length),n=n[0];return Array.isArray(e)&&(0,r.OB)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&l(e,a,[]),a}function l(e,t,n){if(n=n||[],!Array.isArray(e)&&!(0,o.fU)(e))return void(0,o.hu)(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));(0,o.hu)(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),(0,o.hu)(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const a=t.slice(1);for(let t=0;t<e.length;++t)l(e[t],a,n.concat(t))}function d(e,t,n,a){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error(`Argument '${n}' passed to '${a}' must be ${e} tensor, but got ${t} tensor`)}function c(e,t,n,r="numeric"){if(e instanceof s.es)return d(r,e.dtype,t,n),e;let l=(0,o.D2)(e);if("string"!==l&&["bool","int32","float32"].indexOf(r)>=0&&(l=r),d(r,l,t,n),null==e||!(0,o.fU)(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const a=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${a}'`)}const c=u(e,l);(0,o.fU)(e)||Array.isArray(e)||(e=[e]);const h="string"!==l?(0,i.toTypedArray)(e,l):(0,o.xH)(e,[],!0);return a.BV.makeTensor(h,c,l)}function h(e,t,n,a="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,a)=>c(e,`${t}[${a}]`,n)),a)}},1221:(e,t,n)=>{"use strict";var a,r,s,o,i;n.d(t,{yw:()=>a,x8:()=>l,z4:()=>d}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(a||(a={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(s||(s={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(o||(o={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(i||(i={}));const u={float32:o,int32:r,bool:s,complex64:i};function l(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return u[e][t]}function d(e){return l(e,"int32")}},9155:(e,t,n)=>{"use strict";n.r(t),n.d(t,{arraysEqual:()=>r.cO,assert:()=>r.hu,assertNonNegativeIntegerDimensions:()=>r.Mu,assertNonNull:()=>r.Cq,assertShapesMatch:()=>r.k5,bytesFromStringArray:()=>r.Ub,bytesPerElement:()=>r.bT,checkConversionForErrors:()=>r.D5,clamp:()=>r.uZ,computeStrides:()=>r.e3,createShuffledIndices:()=>r.U$,distSquared:()=>r.E7,flatten:()=>r.xH,getArrayFromDType:()=>r.rQ,getTypedArrayFromDType:()=>r.WP,hasEncodingLoss:()=>r.QB,indexToLoc:()=>r.NE,inferDtype:()=>r.D2,inferFromImplicitShape:()=>r.JZ,isBoolean:()=>r.jn,isFunction:()=>r.mf,isInt:()=>r.GN,isNumber:()=>r.hj,isPromise:()=>r.tI,isScalarShape:()=>r.N9,isString:()=>r.HD,isTypedArray:()=>r.fU,isValidDtype:()=>r.LP,locToIndex:()=>r.qy,makeOnesTypedArray:()=>r.p8,makeZerosNestedTypedArray:()=>r.l6,makeZerosTypedArray:()=>r.wT,nearestDivisor:()=>r.jP,nearestLargerEven:()=>r.nY,parseAxisParam:()=>r.EC,randUniform:()=>r.bj,repeatedTry:()=>r.WD,rightPad:()=>r.oj,shuffle:()=>r.TV,sizeFromShape:()=>r.NA,sizeToSquarishShape:()=>r.YP,squeezeShape:()=>r.bp,sum:()=>r.Sm,tanh:()=>r.AE,toNestedArray:()=>r.GX,createScalarValue:()=>s,toTypedArray:()=>o,now:()=>i,fetch:()=>u,encodeString:()=>l,decodeString:()=>d});var a=n(2885),r=n(569);function s(e,t){return"string"===t?l(e):o([e],t)}function o(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=r.xH(e)),(0,a.OB)().getBool("DEBUG")&&r.D5(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function i(){return(0,a.OB)().platform.now()}function u(e,t){return(0,a.OB)().platform.fetch(e,t)}function l(e,t="utf-8"){return t=t||"utf-8",(0,a.OB)().platform.encode(e,t)}function d(e,t="utf-8"){return t=t||"utf-8",(0,a.OB)().platform.decode(e,t)}},569:(e,t,n)=>{"use strict";function a(e){let t=e.length,n=0,a=0;for(;t>0;)a=Math.random()*t|0,t--,n=e[t],e[t]=e[a],e[a]=n}function r(e,t,n){return Math.max(e,Math.min(t,n))}function s(e){return e%2==0?e:e+1}function o(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function i(e,t){const n=Math.random();return t*n+(1-n)*e}function u(e,t){let n=0;for(let a=0;a<e.length;a++){const r=Number(e[a])-Number(t[a]);n+=r*r}return n}function l(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function d(e,t,n=""){l(f(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function c(e){l(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function h(e,t=[],n=!1){if(null==t&&(t=[]),Array.isArray(e)||N(e)&&!n)for(let a=0;a<e.length;++a)h(e[a],t,n);else t.push(e);return t}function p(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function m(e){return 0===e.length}function f(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function _(e){return e%1==0}function g(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function y(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function b(e){const t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return a(t),t}function v(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function x(e,t=(e=>0),n){return new Promise(((a,r)=>{let s=0;const o=()=>{if(e())return void a();s++;const i=t(s);null!=n&&s>=n?r():setTimeout(o,i)};o()}))}function k(e,t){let n=1,a=-1;for(let t=0;t<e.length;++t)if(e[t]>=0)n*=e[t];else if(-1===e[t]){if(-1!==a)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${a} and dim ${t}`);a=t}else if(e[t]<0)throw Error(`Shapes can not be < 0. Found ${e[t]} at dim ${t}`);if(-1===a){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const r=e.slice();return r[a]=t/n,r}function M(e,t){const n=t.length;return l((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),l(e.every((e=>_(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function w(e,t){const n=[],a=[],r=null!=t&&Array.isArray(t)&&0===t.length,s=null==t||r?null:M(t,e).sort();let o=0;for(let t=0;t<e.length;++t){if(null!=s){if(s[o]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==s[o]||s[o]>t)&&1===e[t]&&(n.push(e[t]),a.push(t)),s[o]<=t&&o++}1!==e[t]&&(n.push(e[t]),a.push(t))}return{newShape:n,keptDims:a}}function T(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);n=new Uint8Array(t)}return n}function L(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function S(e,t){for(let n=0;n<e.length;n++){const a=e[n];if(isNaN(a)||!isFinite(a))throw Error(`A tensor of type ${t} being uploaded contains ${a}.`)}}function D(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function I(e,t){return!("complex64"===t||"float32"===t&&"complex64"!==e||"int32"===t&&"float32"!==e&&"complex64"!==e||"bool"===t&&"bool"===e)}function N(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function C(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function E(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}function A(e){return"string"==typeof e||e instanceof String}function Y(e){return"boolean"==typeof e}function F(e){return"number"==typeof e}function R(e){return Array.isArray(e)?R(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":F(e)?"float32":A(e)?"string":Y(e)?"bool":"float32"}function O(e){return!!(e&&e.constructor&&e.call&&e.apply)}function $(e,t){for(let n=t;n<e;++n)if(e%n==0)return n;return e}function P(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let a=t-3;a>=0;--a)n[a]=n[a+1]*e[a+1];return n}function H(e,t,n){const a=new Array;if(1===t.length){const r=t[0];for(let t=0;t<r;t++)a[t]=n[e+t]}else{const r=t[0],s=t.slice(1),o=s.reduce(((e,t)=>e*t));for(let t=0;t<r;t++)a[t]=H(e+t*o,s,n)}return a}function B(e,t){if(0===e.length)return t[0];const n=e.reduce(((e,t)=>e*t));if(0===n)return[];if(n!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}.`);return H(0,e,t)}function W(e,t){const n=z(e,t);for(let e=0;e<n.length;e++)n[e]=1;return n}function z(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function j(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return B(e,new Float32Array(n));if("int32"===t)return B(e,new Int32Array(n));if("bool"===t)return B(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function V(e){e.forEach((t=>{l(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function U(e,t,n){if(0===t)return 0;if(1===t)return e[0];let a=e[e.length-1];for(let t=0;t<e.length-1;++t)a+=n[t]*e[t];return a}function G(e,t,n){if(0===t)return[];if(1===t)return[e];const a=new Array(t);for(let t=0;t<a.length-1;++t)a[t]=Math.floor(e/n[t]),e-=a[t]*n[t];return a[a.length-1]=e,a}function q(e){return e&&e.then&&"function"==typeof e.then}n.d(t,{TV:()=>a,uZ:()=>r,nY:()=>s,Sm:()=>o,bj:()=>i,E7:()=>u,hu:()=>l,k5:()=>d,Cq:()=>c,xH:()=>h,NA:()=>p,N9:()=>m,cO:()=>f,GN:()=>_,AE:()=>g,YP:()=>y,U$:()=>b,oj:()=>v,WD:()=>x,JZ:()=>k,EC:()=>M,bp:()=>w,WP:()=>T,rQ:()=>L,D5:()=>S,LP:()=>D,QB:()=>I,fU:()=>N,bT:()=>C,Ub:()=>E,HD:()=>A,jn:()=>Y,hj:()=>F,D2:()=>R,mf:()=>O,jP:()=>$,e3:()=>P,GX:()=>B,p8:()=>W,wT:()=>z,l6:()=>j,Mu:()=>V,qy:()=>U,NE:()=>G,tI:()=>q})},7757:function(e,t,n){e.exports=function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},n=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var n={};for(var a in t)t.hasOwnProperty(a)&&(n[t[a]]=a);var r=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in r)if(r.hasOwnProperty(s)){if(!("channels"in r[s]))throw new Error("missing channels property: "+s);if(!("labels"in r[s]))throw new Error("missing channel labels property: "+s);if(r[s].labels.length!==r[s].channels)throw new Error("channel and label counts mismatch: "+s);var o=r[s].channels,i=r[s].labels;delete r[s].channels,delete r[s].labels,Object.defineProperty(r[s],"channels",{value:o}),Object.defineProperty(r[s],"labels",{value:i})}r.rgb.hsl=function(e){var t,n,a=e[0]/255,r=e[1]/255,s=e[2]/255,o=Math.min(a,r,s),i=Math.max(a,r,s),u=i-o;return i===o?t=0:a===i?t=(r-s)/u:r===i?t=2+(s-a)/u:s===i&&(t=4+(a-r)/u),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+i)/2,[t,100*(i===o?0:n<=.5?u/(i+o):u/(2-i-o)),100*n]},r.rgb.hsv=function(e){var t,n,a,r,s,o=e[0]/255,i=e[1]/255,u=e[2]/255,l=Math.max(o,i,u),d=l-Math.min(o,i,u),c=function(e){return(l-e)/6/d+.5};return 0===d?r=s=0:(s=d/l,t=c(o),n=c(i),a=c(u),o===l?r=a-n:i===l?r=1/3+t-a:u===l&&(r=2/3+n-t),r<0?r+=1:r>1&&(r-=1)),[360*r,100*s,100*l]},r.rgb.hwb=function(e){var t=e[0],n=e[1],a=e[2];return[r.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(n,a))*100,100*(a=1-1/255*Math.max(t,Math.max(n,a)))]},r.rgb.cmyk=function(e){var t,n=e[0]/255,a=e[1]/255,r=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-a,1-r)))/(1-t)||0),100*((1-a-t)/(1-t)||0),100*((1-r-t)/(1-t)||0),100*t]},r.rgb.keyword=function(e){var a=n[e];if(a)return a;var r,s,o,i=1/0;for(var u in t)if(t.hasOwnProperty(u)){var l=(s=e,o=t[u],Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)+Math.pow(s[2]-o[2],2));l<i&&(i=l,r=u)}return r},r.keyword.rgb=function(e){return t[e]},r.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,a=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92)),100*(.2126*t+.7152*n+.0722*a),100*(.0193*t+.1192*n+.9505*a)]},r.rgb.lab=function(e){var t=r.rgb.xyz(e),n=t[0],a=t[1],s=t[2];return a/=100,s/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116)-16,500*(n-a),200*(a-(s=s>.008856?Math.pow(s,1/3):7.787*s+16/116))]},r.hsl.rgb=function(e){var t,n,a,r,s,o=e[0]/360,i=e[1]/100,u=e[2]/100;if(0===i)return[s=255*u,s,s];t=2*u-(n=u<.5?u*(1+i):u+i-u*i),r=[0,0,0];for(var l=0;l<3;l++)(a=o+1/3*-(l-1))<0&&a++,a>1&&a--,s=6*a<1?t+6*(n-t)*a:2*a<1?n:3*a<2?t+(n-t)*(2/3-a)*6:t,r[l]=255*s;return r},r.hsl.hsv=function(e){var t=e[0],n=e[1]/100,a=e[2]/100,r=n,s=Math.max(a,.01);return n*=(a*=2)<=1?a:2-a,r*=s<=1?s:2-s,[t,100*(0===a?2*r/(s+r):2*n/(a+n)),(a+n)/2*100]},r.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,a=e[2]/100,r=Math.floor(t)%6,s=t-Math.floor(t),o=255*a*(1-n),i=255*a*(1-n*s),u=255*a*(1-n*(1-s));switch(a*=255,r){case 0:return[a,u,o];case 1:return[i,a,o];case 2:return[o,a,u];case 3:return[o,i,a];case 4:return[u,o,a];case 5:return[a,o,i]}},r.hsv.hsl=function(e){var t,n,a,r=e[0],s=e[1]/100,o=e[2]/100,i=Math.max(o,.01);return a=(2-s)*o,n=s*i,[r,100*(n=(n/=(t=(2-s)*i)<=1?t:2-t)||0),100*(a/=2)]},r.hwb.rgb=function(e){var t,n,a,r,s,o,i,u=e[0]/360,l=e[1]/100,d=e[2]/100,c=l+d;switch(c>1&&(l/=c,d/=c),a=6*u-(t=Math.floor(6*u)),0!=(1&t)&&(a=1-a),r=l+a*((n=1-d)-l),t){default:case 6:case 0:s=n,o=r,i=l;break;case 1:s=r,o=n,i=l;break;case 2:s=l,o=n,i=r;break;case 3:s=l,o=r,i=n;break;case 4:s=r,o=l,i=n;break;case 5:s=n,o=l,i=r}return[255*s,255*o,255*i]},r.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,a=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,a*(1-r)+r))]},r.xyz.rgb=function(e){var t,n,a,r=e[0]/100,s=e[1]/100,o=e[2]/100;return n=-.9689*r+1.8758*s+.0415*o,a=.0557*r+-.204*s+1.057*o,t=(t=3.2406*r+-1.5372*s+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(a=Math.min(Math.max(0,a),1))]},r.xyz.lab=function(e){var t=e[0],n=e[1],a=e[2];return n/=100,a/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},r.lab.xyz=function(e){var t,n,a,r=e[0];t=e[1]/500+(n=(r+16)/116),a=n-e[2]/200;var s=Math.pow(n,3),o=Math.pow(t,3),i=Math.pow(a,3);return n=s>.008856?s:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,a=i>.008856?i:(a-16/116)/7.787,[t*=95.047,n*=100,a*=108.883]},r.lab.lch=function(e){var t,n=e[0],a=e[1],r=e[2];return(t=360*Math.atan2(r,a)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(a*a+r*r),t]},r.lch.lab=function(e){var t,n=e[0],a=e[1];return t=e[2]/360*2*Math.PI,[n,a*Math.cos(t),a*Math.sin(t)]},r.rgb.ansi16=function(e){var t=e[0],n=e[1],a=e[2],s=1 in arguments?arguments[1]:r.rgb.hsv(e)[2];if(0===(s=Math.round(s/50)))return 30;var o=30+(Math.round(a/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===s&&(o+=60),o},r.hsv.ansi16=function(e){return r.rgb.ansi16(r.hsv.rgb(e),e[2])},r.rgb.ansi256=function(e){var t=e[0],n=e[1],a=e[2];return t===n&&n===a?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(a/255*5)},r.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},r.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},r.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},r.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var a=parseInt(n,16);return[a>>16&255,a>>8&255,255&a]},r.rgb.hcg=function(e){var t,n=e[0]/255,a=e[1]/255,r=e[2]/255,s=Math.max(Math.max(n,a),r),o=Math.min(Math.min(n,a),r),i=s-o;return t=i<=0?0:s===n?(a-r)/i%6:s===a?2+(r-n)/i:4+(n-a)/i+4,t/=6,[360*(t%=1),100*i,100*(i<1?o/(1-i):0)]},r.hsl.hcg=function(e){var t,n=e[1]/100,a=e[2]/100,r=0;return(t=a<.5?2*n*a:2*n*(1-a))<1&&(r=(a-.5*t)/(1-t)),[e[0],100*t,100*r]},r.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,a=t*n,r=0;return a<1&&(r=(n-a)/(1-a)),[e[0],100*a,100*r]},r.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,a=e[2]/100;if(0===n)return[255*a,255*a,255*a];var r,s=[0,0,0],o=t%1*6,i=o%1,u=1-i;switch(Math.floor(o)){case 0:s[0]=1,s[1]=i,s[2]=0;break;case 1:s[0]=u,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=i;break;case 3:s[0]=0,s[1]=u,s[2]=1;break;case 4:s[0]=i,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=u}return r=(1-n)*a,[255*(n*s[0]+r),255*(n*s[1]+r),255*(n*s[2]+r)]},r.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),a=0;return n>0&&(a=t/n),[e[0],100*a,100*n]},r.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,a=0;return n>0&&n<.5?a=t/(2*n):n>=.5&&n<1&&(a=t/(2*(1-n))),[e[0],100*a,100*n]},r.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},r.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,a=n-t,r=0;return a<1&&(r=(n-a)/(1-a)),[e[0],100*a,100*r]},r.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},r.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},r.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},r.gray.hsl=r.gray.hsv=function(e){return[0,0,e[0]]},r.gray.hwb=function(e){return[0,100,e[0]]},r.gray.cmyk=function(e){return[0,0,0,e[0]]},r.gray.lab=function(e){return[e[0],0,0]},r.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},r.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}));function a(e){var t=function(){for(var e={},t=Object.keys(n),a=t.length,r=0;r<a;r++)e[t[r]]={distance:-1,parent:null};return e}(),a=[e];for(t[e].distance=0;a.length;)for(var r=a.pop(),s=Object.keys(n[r]),o=s.length,i=0;i<o;i++){var u=s[i],l=t[u];-1===l.distance&&(l.distance=t[r].distance+1,l.parent=r,a.unshift(u))}return t}function r(e,t){return function(n){return t(e(n))}}function s(e,t){for(var a=[t[e].parent,e],s=n[t[e].parent][e],o=t[e].parent;t[o].parent;)a.unshift(t[o].parent),s=r(n[t[o].parent][o],s),o=t[o].parent;return s.conversion=a,s}n.rgb,n.hsl,n.hsv,n.hwb,n.cmyk,n.xyz,n.lab,n.lch,n.hex,n.keyword,n.ansi16,n.ansi256,n.hcg,n.apple,n.gray;var o={};Object.keys(n).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:n[e].channels}),Object.defineProperty(o[e],"labels",{value:n[e].labels});var t=function(e){for(var t=a(e),n={},r=Object.keys(t),o=r.length,i=0;i<o;i++){var u=r[i];null!==t[u].parent&&(n[u]=s(u,t))}return n}(e);Object.keys(t).forEach((function(n){var a=t[n];o[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var a=n.length,r=0;r<a;r++)n[r]=Math.round(n[r]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(a),o[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(a)}))}));var i=o,u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},l={getRgba:d,getHsla:c,getRgb:function(e){var t=d(e);return t&&t.slice(0,3)},getHsl:function(e){var t=c(e);return t&&t.slice(0,3)},getHwb:h,getAlpha:function(e){var t=d(e);return t||(t=c(e))||(t=h(e))?t[3]:void 0},hexString:function(e,t){return t=void 0!==t&&3===e.length?t:e[3],"#"+g(e[0])+g(e[1])+g(e[2])+(t>=0&&t<1?g(Math.round(255*t)):"")},rgbString:function(e,t){return t<1||e[3]&&e[3]<1?p(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:p,percentString:function(e,t){return t<1||e[3]&&e[3]<1?m(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"},percentaString:m,hslString:function(e,t){return t<1||e[3]&&e[3]<1?f(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:f,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return y[e.slice(0,3)]}};function d(e){if(e){var t=[0,0,0],n=1,a=e.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(a){r=(a=a[1])[3];for(var s=0;s<t.length;s++)t[s]=parseInt(a[s]+a[s],16);r&&(n=Math.round(parseInt(r+r,16)/255*100)/100)}else if(a=e.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(r=a[2],a=a[1],s=0;s<t.length;s++)t[s]=parseInt(a.slice(2*s,2*s+2),16);r&&(n=Math.round(parseInt(r,16)/255*100)/100)}else if(a=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(s=0;s<t.length;s++)t[s]=parseInt(a[s+1]);n=parseFloat(a[4])}else if(a=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(s=0;s<t.length;s++)t[s]=Math.round(2.55*parseFloat(a[s+1]));n=parseFloat(a[4])}else if(a=e.match(/(\w+)/)){if("transparent"==a[1])return[0,0,0,0];if(!(t=u[a[1]]))return}for(s=0;s<t.length;s++)t[s]=_(t[s],0,255);return n=n||0==n?_(n,0,1):1,t[3]=n,t}}function c(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[_(parseInt(t[1]),0,360),_(parseFloat(t[2]),0,100),_(parseFloat(t[3]),0,100),_(isNaN(n)?1:n,0,1)]}}}function h(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[_(parseInt(t[1]),0,360),_(parseFloat(t[2]),0,100),_(parseFloat(t[3]),0,100),_(isNaN(n)?1:n,0,1)]}}}function p(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function m(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function f(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function _(e,t,n){return Math.min(Math.max(t,e),n)}function g(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var y={};for(var b in u)y[u[b]]=b;var v=function(e){return e instanceof v?e:this instanceof v?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=l.getRgba(e))?this.setValues("rgb",t):(t=l.getHsla(e))?this.setValues("hsl",t):(t=l.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new v(e);var t};v.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return l.hexString(this.values.rgb)},rgbString:function(){return l.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return l.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return l.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return l.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return l.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return l.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return l.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var a=e[n]/255;t[n]=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,a=e,r=void 0===t?.5:t,s=2*r-1,o=n.alpha()-a.alpha(),i=((s*o==-1?s:(s+o)/(1+s*o))+1)/2,u=1-i;return this.rgb(i*n.red()+u*a.red(),i*n.green()+u*a.green(),i*n.blue()+u*a.blue()).alpha(n.alpha()*r+a.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new v,a=this.values,r=n.values;for(var s in a)a.hasOwnProperty(s)&&(e=a[s],"[object Array]"===(t={}.toString.call(e))?r[s]=e.slice(0):"[object Number]"===t?r[s]=e:console.error("unexpected color value:",e));return n}},v.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},v.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},v.prototype.getValues=function(e){for(var t=this.values,n={},a=0;a<e.length;a++)n[e.charAt(a)]=t[e][a];return 1!==t.alpha&&(n.a=t.alpha),n},v.prototype.setValues=function(e,t){var n,a,r=this.values,s=this.spaces,o=this.maxes,u=1;if(this.valid=!0,"alpha"===e)u=t;else if(t.length)r[e]=t.slice(0,e.length),u=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)r[e][n]=t[e.charAt(n)];u=t.a}else if(void 0!==t[s[e][0]]){var l=s[e];for(n=0;n<e.length;n++)r[e][n]=t[l[n]];u=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===u?r.alpha:u)),"alpha"===e)return!1;for(n=0;n<e.length;n++)a=Math.max(0,Math.min(o[e][n],r[e][n])),r[e][n]=Math.round(a);for(var d in s)d!==e&&(r[d]=i[e][d](r[e]));return!0},v.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},v.prototype.setChannel=function(e,t,n){var a=this.values[e];return void 0===n?a[t]:(n===a[t]||(a[t]=n,this.setValues(e,a)),this)},"undefined"!=typeof window&&(window.Color=v);var x=v;function k(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}var M,w={noop:function(){},uid:(M=0,function(){return M++}),isNullOrUndef:function(e){return null==e},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){return("number"==typeof e||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return w.valueOrDefault(w.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,a){var r,s,o;if(w.isArray(e))if(s=e.length,a)for(r=s-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<s;r++)t.call(n,e[r],r);else if(w.isObject(e))for(s=(o=Object.keys(e)).length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])},arrayEquals:function(e,t){var n,a,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,a=e.length;n<a;++n)if(r=e[n],s=t[n],r instanceof Array&&s instanceof Array){if(!w.arrayEquals(r,s))return!1}else if(r!==s)return!1;return!0},clone:function(e){if(w.isArray(e))return e.map(w.clone);if(w.isObject(e)){for(var t=Object.create(e),n=Object.keys(e),a=n.length,r=0;r<a;++r)t[n[r]]=w.clone(e[n[r]]);return t}return e},_merger:function(e,t,n,a){if(k(e)){var r=t[e],s=n[e];w.isObject(r)&&w.isObject(s)?w.merge(r,s,a):t[e]=w.clone(s)}},_mergerIf:function(e,t,n){if(k(e)){var a=t[e],r=n[e];w.isObject(a)&&w.isObject(r)?w.mergeIf(a,r):t.hasOwnProperty(e)||(t[e]=w.clone(r))}},merge:function(e,t,n){var a,r,s,o,i,u=w.isArray(t)?t:[t],l=u.length;if(!w.isObject(e))return e;for(a=(n=n||{}).merger||w._merger,r=0;r<l;++r)if(t=u[r],w.isObject(t))for(i=0,o=(s=Object.keys(t)).length;i<o;++i)a(s[i],e,t,n);return e},mergeIf:function(e,t){return w.merge(e,t,{merger:w._mergerIf})},extend:Object.assign||function(e){return w.merge(e,[].slice.call(arguments,1),{merger:function(e,t,n){t[e]=n[e]}})},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},a=function(){this.constructor=n};return a.prototype=t.prototype,n.prototype=new a,n.extend=w.inherits,e&&w.extend(n.prototype,e),n.__super__=t.prototype,n},_deprecated:function(e,t,n,a){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+a+'" instead')}},T=w;w.callCallback=w.callback,w.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},w.getValueOrDefault=w.valueOrDefault,w.getValueAtIndexOrDefault=w.valueAtIndexOrDefault;var L={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:1===e?1:(n||(n=.3),a<1?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),-a*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:1===e?1:(n||(n=.3),a<1?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),a<1?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:a*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-L.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*L.easeInBounce(2*e):.5*L.easeOutBounce(2*e-1)+.5}},S={effects:L};T.easingEffects=L;var D=Math.PI,I=D/180,N=2*D,C=D/2,E=D/4,A=2*D/3,Y={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,a,r,s){if(s){var o=Math.min(s,r/2,a/2),i=t+o,u=n+o,l=t+a-o,d=n+r-o;e.moveTo(t,u),i<l&&u<d?(e.arc(i,u,o,-D,-C),e.arc(l,u,o,-C,0),e.arc(l,d,o,0,C),e.arc(i,d,o,C,D)):i<l?(e.moveTo(i,n),e.arc(l,u,o,-C,C),e.arc(i,u,o,C,D+C)):u<d?(e.arc(i,u,o,-D,0),e.arc(i,d,o,0,D)):e.arc(i,u,o,-D,D),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,a,r)},drawPoint:function(e,t,n,a,r,s){var o,i,u,l,d,c=(s||0)*I;if(t&&"object"==typeof t&&("[object HTMLImageElement]"===(o=t.toString())||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(a,r),e.rotate(c),e.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void e.restore();if(!(isNaN(n)||n<=0)){switch(e.beginPath(),t){default:e.arc(a,r,n,0,N),e.closePath();break;case"triangle":e.moveTo(a+Math.sin(c)*n,r-Math.cos(c)*n),c+=A,e.lineTo(a+Math.sin(c)*n,r-Math.cos(c)*n),c+=A,e.lineTo(a+Math.sin(c)*n,r-Math.cos(c)*n),e.closePath();break;case"rectRounded":l=n-(d=.516*n),i=Math.cos(c+E)*l,u=Math.sin(c+E)*l,e.arc(a-i,r-u,d,c-D,c-C),e.arc(a+u,r-i,d,c-C,c),e.arc(a+i,r+u,d,c,c+C),e.arc(a-u,r+i,d,c+C,c+D),e.closePath();break;case"rect":if(!s){l=Math.SQRT1_2*n,e.rect(a-l,r-l,2*l,2*l);break}c+=E;case"rectRot":i=Math.cos(c)*n,u=Math.sin(c)*n,e.moveTo(a-i,r-u),e.lineTo(a+u,r-i),e.lineTo(a+i,r+u),e.lineTo(a-u,r+i),e.closePath();break;case"crossRot":c+=E;case"cross":i=Math.cos(c)*n,u=Math.sin(c)*n,e.moveTo(a-i,r-u),e.lineTo(a+i,r+u),e.moveTo(a+u,r-i),e.lineTo(a-u,r+i);break;case"star":i=Math.cos(c)*n,u=Math.sin(c)*n,e.moveTo(a-i,r-u),e.lineTo(a+i,r+u),e.moveTo(a+u,r-i),e.lineTo(a-u,r+i),c+=E,i=Math.cos(c)*n,u=Math.sin(c)*n,e.moveTo(a-i,r-u),e.lineTo(a+i,r+u),e.moveTo(a+u,r-i),e.lineTo(a-u,r+i);break;case"line":i=Math.cos(c)*n,u=Math.sin(c)*n,e.moveTo(a-i,r-u),e.lineTo(a+i,r+u);break;case"dash":e.moveTo(a,r),e.lineTo(a+Math.cos(c)*n,r+Math.sin(c)*n)}e.fill(),e.stroke()}},_isPointInArea:function(e,t){var n=1e-6;return e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,a){var r=n.steppedLine;if(r){if("middle"===r){var s=(t.x+n.x)/2;e.lineTo(s,a?n.y:t.y),e.lineTo(s,a?t.y:n.y)}else"after"===r&&!a||"after"!==r&&a?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}else n.tension?e.bezierCurveTo(a?t.controlPointPreviousX:t.controlPointNextX,a?t.controlPointPreviousY:t.controlPointNextY,a?n.controlPointNextX:n.controlPointPreviousX,a?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},F=Y;T.clear=Y.clear,T.drawRoundedRectangle=function(e){e.beginPath(),Y.roundedRect.apply(Y,arguments)};var R={_set:function(e,t){return T.merge(this[e]||(this[e]={}),t)}};R._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var O=R,$=T.valueOrDefault;var P={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,a,r;return T.isObject(e)?(t=+e.top||0,n=+e.right||0,a=+e.bottom||0,r=+e.left||0):t=n=a=r=+e||0,{top:t,right:n,bottom:a,left:r,height:t+a,width:r+n}},_parseFont:function(e){var t=O.global,n=$(e.fontSize,t.defaultFontSize),a={family:$(e.fontFamily,t.defaultFontFamily),lineHeight:T.options.toLineHeight($(e.lineHeight,t.defaultLineHeight),n),size:n,style:$(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return a.string=function(e){return!e||T.isNullOrUndef(e.size)||T.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a},resolve:function(e,t,n,a){var r,s,o,i=!0;for(r=0,s=e.length;r<s;++r)if(void 0!==(o=e[r])&&(void 0!==t&&"function"==typeof o&&(o=o(t),i=!1),void 0!==n&&T.isArray(o)&&(o=o[n],i=!1),void 0!==o))return a&&!i&&(a.cacheable=!1),o}},H={_factorize:function(e){var t,n=[],a=Math.sqrt(e);for(t=1;t<a;t++)e%t==0&&(n.push(t),n.push(e/t));return a===(0|a)&&n.push(a),n.sort((function(e,t){return e-t})).pop(),n},log10:Math.log10||function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t}},B=H;T.log10=H.log10;var W=T,z=S,j=F,V=P,U=B,G={getRtlAdapter:function(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}},overrideTextDirection:function(e,t){var n,a;"ltr"!==t&&"rtl"!==t||(a=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=a)},restoreTextDirection:function(e){var t=e.prevTextDirection;void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}};W.easing=z,W.canvas=j,W.options=V,W.math=U,W.rtl=G;var q=function(e){W.extend(this,e),this.initialize.apply(this,arguments)};W.extend(q.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=W.extend({},e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,a=t._start,r=t._view;return n&&1!==e?(r||(r=t._view={}),a||(a=t._start={}),function(e,t,n,a){var r,s,o,i,u,l,d,c,h,p=Object.keys(n);for(r=0,s=p.length;r<s;++r)if(l=n[o=p[r]],t.hasOwnProperty(o)||(t[o]=l),(i=t[o])!==l&&"_"!==o[0]){if(e.hasOwnProperty(o)||(e[o]=i),(d=typeof l)==typeof(u=e[o]))if("string"===d){if((c=x(u)).valid&&(h=x(l)).valid){t[o]=h.mix(c,a).rgbString();continue}}else if(W.isFinite(u)&&W.isFinite(l)){t[o]=u+(l-u)*a;continue}t[o]=l}}(a,r,n,e),t):(t._view=W.extend({},n),t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return W.isNumber(this._model.x)&&W.isNumber(this._model.y)}}),q.extend=W.inherits;var X=q,K=X.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),J=K;Object.defineProperty(K.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(K.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),O._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:W.noop,onComplete:W.noop}});var Q={animations:[],request:null,addAnimation:function(e,t,n,a){var r,s,o=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,a||(e.animating=!0),r=0,s=o.length;r<s;++r)if(o[r].chart===e)return void(o[r]=t);o.push(t),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=W.findIndex(this.animations,(function(t){return t.chart===e}));-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=W.requestAnimFrame.call(window,(function(){e.request=null,e.startDigest()})))},startDigest:function(){var e=this;e.advance(),e.animations.length>0&&e.requestAnimationFrame()},advance:function(){for(var e,t,n,a,r=this.animations,s=0;s<r.length;)t=(e=r[s]).chart,n=e.numSteps,a=Math.floor((Date.now()-e.startTime)/e.duration*n)+1,e.currentStep=Math.min(a,n),W.callback(e.render,[t,e],t),W.callback(e.onAnimationProgress,[e],t),e.currentStep>=n?(W.callback(e.onAnimationComplete,[e],t),t.animating=!1,r.splice(s,1)):++s}},Z=W.options.resolve,ee=["push","pop","shift","splice","unshift"];function te(e,t){var n=e._chartjs;if(n){var a=n.listeners,r=a.indexOf(t);-1!==r&&a.splice(r,1),a.length>0||(ee.forEach((function(t){delete e[t]})),delete e._chartjs)}}var ne=function(e,t){this.initialize(e,t)};W.extend(ne.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.chart,a=n.scales,r=e.getDataset(),s=n.options.scales;null!==t.xAxisID&&t.xAxisID in a&&!r.xAxisID||(t.xAxisID=r.xAxisID||s.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in a&&!r.yAxisID||(t.yAxisID=r.yAxisID||s.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&te(this._data,this)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,a=n.getMeta(),r=n.getDataset().data||[],s=a.data;for(e=0,t=r.length;e<t;++e)s[e]=s[e]||n.createMetaData(e);a.dataset=a.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e,t,n=this,a=n.getDataset(),r=a.data||(a.data=[]);n._data!==r&&(n._data&&te(n._data,n),r&&Object.isExtensible(r)&&(t=n,(e=r)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ee.forEach((function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),a=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),r=a.apply(this,t);return W.each(e._chartjs.listeners,(function(e){"function"==typeof e[n]&&e[n].apply(e,t)})),r}})})))),n._data=r),n.resyncElements()},_configure:function(){var e=this;e._config=W.merge(Object.create(null),[e.chart.options.datasets[e._type],e.getDataset()],{merger:function(e,t,n){"_meta"!==e&&"data"!==e&&W._merger(e,t,n)}})},_update:function(e){var t=this;t._configure(),t._cachedDataOpts=null,t.update(e)},update:W.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],a=n.length,r=0;r<a;++r)n[r].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,a=0;for(e.dataset&&e.dataset.draw();a<n;++a)t[a].draw()},getStyle:function(e){var t,n=this,a=n.getMeta(),r=a.dataset;return n._configure(),r&&void 0===e?t=n._resolveDatasetElementOptions(r||{}):(e=e||0,t=n._resolveDataElementOptions(a.data[e]||{},e)),!1!==t.fill&&null!==t.fill||(t.backgroundColor=t.borderColor),t},_resolveDatasetElementOptions:function(e,t){var n,a,r,s,o=this,i=o.chart,u=o._config,l=e.custom||{},d=i.options.elements[o.datasetElementType.prototype._type]||{},c=o._datasetElementOptions,h={},p={chart:i,dataset:o.getDataset(),datasetIndex:o.index,hover:t};for(n=0,a=c.length;n<a;++n)r=c[n],s=t?"hover"+r.charAt(0).toUpperCase()+r.slice(1):r,h[r]=Z([l[s],u[s],d[s]],p);return h},_resolveDataElementOptions:function(e,t){var n=this,a=e&&e.custom,r=n._cachedDataOpts;if(r&&!a)return r;var s,o,i,u,l=n.chart,d=n._config,c=l.options.elements[n.dataElementType.prototype._type]||{},h=n._dataElementOptions,p={},m={chart:l,dataIndex:t,dataset:n.getDataset(),datasetIndex:n.index},f={cacheable:!a};if(a=a||{},W.isArray(h))for(o=0,i=h.length;o<i;++o)p[u=h[o]]=Z([a[u],d[u],c[u]],m,t,f);else for(o=0,i=(s=Object.keys(h)).length;o<i;++o)p[u=s[o]]=Z([a[u],d[h[u]],d[u],c[u]],m,t,f);return f.cacheable&&(n._cachedDataOpts=Object.freeze(p)),p},removeHoverStyle:function(e){W.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,a=e.custom||{},r=e._model,s=W.getHoverColor;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=Z([a.hoverBackgroundColor,t.hoverBackgroundColor,s(r.backgroundColor)],void 0,n),r.borderColor=Z([a.hoverBorderColor,t.hoverBorderColor,s(r.borderColor)],void 0,n),r.borderWidth=Z([a.hoverBorderWidth,t.hoverBorderWidth,r.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var e,t,n,a,r,s,o=this.getMeta().dataset,i={};if(o){for(s=o._model,r=this._resolveDatasetElementOptions(o,!0),e=0,t=(a=Object.keys(r)).length;e<t;++e)i[n=a[e]]=s[n],s[n]=r[n];o.$previousStyle=i}},resyncElements:function(){var e=this,t=e.getMeta(),n=e.getDataset().data,a=t.data.length,r=n.length;r<a?t.data.splice(r,a-r):r>a&&e.insertElements(a,r-a)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),ne.extend=W.inherits;var ae=ne,re=2*Math.PI;function se(e,t){var n=t.startAngle,a=t.endAngle,r=t.pixelMargin,s=r/t.outerRadius,o=t.x,i=t.y;e.beginPath(),e.arc(o,i,t.outerRadius,n-s,a+s),t.innerRadius>r?(s=r/t.innerRadius,e.arc(o,i,t.innerRadius-r,a+s,n-s,!0)):e.arc(o,i,r,a+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip()}function oe(e,t,n){var a="inner"===t.borderAlign;a?(e.lineWidth=2*t.borderWidth,e.lineJoin="round"):(e.lineWidth=t.borderWidth,e.lineJoin="bevel"),n.fullCircles&&function(e,t,n,a){var r,s=n.endAngle;for(a&&(n.endAngle=n.startAngle+re,se(e,n),n.endAngle=s,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=re,n.fullCircles--)),e.beginPath(),e.arc(n.x,n.y,n.innerRadius,n.startAngle+re,n.startAngle,!0),r=0;r<n.fullCircles;++r)e.stroke();for(e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.startAngle+re),r=0;r<n.fullCircles;++r)e.stroke()}(e,t,n,a),a&&se(e,n),e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.endAngle),e.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),e.closePath(),e.stroke()}O._set("global",{elements:{arc:{backgroundColor:O.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var ie=X.extend({_type:"arc",inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var a=W.getAngleFromPoint(n,{x:e,y:t}),r=a.angle,s=a.distance,o=n.startAngle,i=n.endAngle;i<o;)i+=re;for(;r>i;)r-=re;for(;r<o;)r+=re;var u=r>=o&&r<=i,l=s>=n.innerRadius&&s<=n.outerRadius;return u&&l}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e,t=this._chart.ctx,n=this._view,a="inner"===n.borderAlign?.33:0,r={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-a,0),pixelMargin:a,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/re)};if(t.save(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,r.fullCircles){for(r.endAngle=r.startAngle+re,t.beginPath(),t.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),t.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),t.closePath(),e=0;e<r.fullCircles;++e)t.fill();r.endAngle=r.startAngle+n.circumference%re}t.beginPath(),t.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),t.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),t.closePath(),t.fill(),n.borderWidth&&oe(t,n,r),t.restore()}}),ue=W.valueOrDefault,le=O.global.defaultColor;O._set("global",{elements:{line:{tension:.4,backgroundColor:le,borderWidth:3,borderColor:le,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var de=X.extend({_type:"line",draw:function(){var e,t,n,a=this,r=a._view,s=a._chart.ctx,o=r.spanGaps,i=a._children.slice(),u=O.global,l=u.elements.line,d=-1,c=a._loop;if(i.length){if(a._loop){for(e=0;e<i.length;++e)if(t=W.previousItem(i,e),!i[e]._view.skip&&t._view.skip){i=i.slice(e).concat(i.slice(0,e)),c=o;break}c&&i.push(i[0])}for(s.save(),s.lineCap=r.borderCapStyle||l.borderCapStyle,s.setLineDash&&s.setLineDash(r.borderDash||l.borderDash),s.lineDashOffset=ue(r.borderDashOffset,l.borderDashOffset),s.lineJoin=r.borderJoinStyle||l.borderJoinStyle,s.lineWidth=ue(r.borderWidth,l.borderWidth),s.strokeStyle=r.borderColor||u.defaultColor,s.beginPath(),(n=i[0]._view).skip||(s.moveTo(n.x,n.y),d=0),e=1;e<i.length;++e)n=i[e]._view,t=-1===d?W.previousItem(i,e):i[d],n.skip||(d!==e-1&&!o||-1===d?s.moveTo(n.x,n.y):W.canvas.lineTo(s,t._view,n),d=e);c&&s.closePath(),s.stroke(),s.restore()}}}),ce=W.valueOrDefault,he=O.global.defaultColor;function pe(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}O._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:he,borderColor:he,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var me=X.extend({_type:"point",inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:pe,inXRange:pe,inYRange:function(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,a=t.pointStyle,r=t.rotation,s=t.radius,o=t.x,i=t.y,u=O.global,l=u.defaultColor;t.skip||(void 0===e||W.canvas._isPointInArea(t,e))&&(n.strokeStyle=t.borderColor||l,n.lineWidth=ce(t.borderWidth,u.elements.point.borderWidth),n.fillStyle=t.backgroundColor||l,W.canvas.drawPoint(n,a,s,o,i,r))}}),fe=O.global.defaultColor;function _e(e){return e&&void 0!==e.width}function ge(e){var t,n,a,r,s;return _e(e)?(s=e.width/2,t=e.x-s,n=e.x+s,a=Math.min(e.y,e.base),r=Math.max(e.y,e.base)):(s=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),a=e.y-s,r=e.y+s),{left:t,top:a,right:n,bottom:r}}function ye(e,t,n){return e===t?n:e===n?t:e}function be(e,t,n){var a,r,s,o,i=e.borderWidth,u=function(e){var t=e.borderSkipped,n={};return t?(e.horizontal?e.base>e.x&&(t=ye(t,"left","right")):e.base<e.y&&(t=ye(t,"bottom","top")),n[t]=!0,n):n}(e);return W.isObject(i)?(a=+i.top||0,r=+i.right||0,s=+i.bottom||0,o=+i.left||0):a=r=s=o=+i||0,{t:u.top||a<0?0:a>n?n:a,r:u.right||r<0?0:r>t?t:r,b:u.bottom||s<0?0:s>n?n:s,l:u.left||o<0?0:o>t?t:o}}function ve(e,t,n){var a=null===t,r=null===n,s=!(!e||a&&r)&&ge(e);return s&&(a||t>=s.left&&t<=s.right)&&(r||n>=s.top&&n<=s.bottom)}O._set("global",{elements:{rectangle:{backgroundColor:fe,borderColor:fe,borderSkipped:"bottom",borderWidth:0}}});var xe=X.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,t=this._view,n=function(e){var t=ge(e),n=t.right-t.left,a=t.bottom-t.top,r=be(e,n/2,a/2);return{outer:{x:t.left,y:t.top,w:n,h:a},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:a-r.t-r.b}}}(t),a=n.outer,r=n.inner;e.fillStyle=t.backgroundColor,e.fillRect(a.x,a.y,a.w,a.h),a.w===r.w&&a.h===r.h||(e.save(),e.beginPath(),e.rect(a.x,a.y,a.w,a.h),e.clip(),e.fillStyle=t.borderColor,e.rect(r.x,r.y,r.w,r.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return ve(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return _e(n)?ve(n,e,null):ve(n,null,t)},inXRange:function(e){return ve(this._view,e,null)},inYRange:function(e){return ve(this._view,null,e)},getCenterPoint:function(){var e,t,n=this._view;return _e(n)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return _e(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),ke={},Me=ie,we=de,Te=me,Le=xe;ke.Arc=Me,ke.Line=we,ke.Point=Te,ke.Rectangle=Le;var Se=W._deprecated,De=W.valueOrDefault;function Ie(e,t,n){var a,r,s=n.barThickness,o=t.stackCount,i=t.pixels[e],u=W.isNullOrUndef(s)?function(e,t){var n,a,r,s,o=e._length;for(r=1,s=t.length;r<s;++r)o=Math.min(o,Math.abs(t[r]-t[r-1]));for(r=0,s=e.getTicks().length;r<s;++r)a=e.getPixelForTick(r),o=r>0?Math.min(o,Math.abs(a-n)):o,n=a;return o}(t.scale,t.pixels):-1;return W.isNullOrUndef(s)?(a=u*n.categoryPercentage,r=n.barPercentage):(a=s*o,r=1),{chunk:a/o,ratio:r,start:i-a/2}}O._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),O._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var Ne=ae.extend({dataElementType:ke.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var e,t,n=this;ae.prototype.initialize.apply(n,arguments),(e=n.getMeta()).stack=n.getDataset().stack,e.bar=!0,t=n._getIndexScale().options,Se("bar chart",t.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Se("bar chart",t.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Se("bar chart",t.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Se("bar chart",n._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Se("bar chart",t.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var t,n,a=this,r=a.getMeta().data;for(a._ruler=a.getRuler(),t=0,n=r.length;t<n;++t)a.updateElement(r[t],t,e)},updateElement:function(e,t,n){var a=this,r=a.getMeta(),s=a.getDataset(),o=a._resolveDataElementOptions(e,t);e._xScale=a.getScaleForId(r.xAxisID),e._yScale=a.getScaleForId(r.yAxisID),e._datasetIndex=a.index,e._index=t,e._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:s.label,label:a.chart.data.labels[t]},W.isArray(s.data[t])&&(e._model.borderSkipped=null),a._updateElementGeometry(e,t,n,o),e.pivot()},_updateElementGeometry:function(e,t,n,a){var r=this,s=e._model,o=r._getValueScale(),i=o.getBasePixel(),u=o.isHorizontal(),l=r._ruler||r.getRuler(),d=r.calculateBarValuePixels(r.index,t,a),c=r.calculateBarIndexPixels(r.index,t,l,a);s.horizontal=u,s.base=n?i:d.base,s.x=u?n?i:d.head:c.center,s.y=u?c.center:n?i:d.head,s.height=u?c.size:void 0,s.width=u?void 0:c.size},_getStacks:function(e){var t,n,a=this._getIndexScale(),r=a._getMatchingVisibleMetas(this._type),s=a.options.stacked,o=r.length,i=[];for(t=0;t<o&&(n=r[t],(!1===s||-1===i.indexOf(n.stack)||void 0===s&&void 0===n.stack)&&i.push(n.stack),n.index!==e);++t);return i},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),a=void 0!==t?n.indexOf(t):-1;return-1===a?n.length-1:a},getRuler:function(){var e,t,n=this,a=n._getIndexScale(),r=[];for(e=0,t=n.getMeta().data.length;e<t;++e)r.push(a.getPixelForValue(null,e,n.index));return{pixels:r,start:a._startPixel,end:a._endPixel,stackCount:n.getStackCount(),scale:a}},calculateBarValuePixels:function(e,t,n){var a,r,s,o,i,u,l,d=this,c=d.chart,h=d._getValueScale(),p=h.isHorizontal(),m=c.data.datasets,f=h._getMatchingVisibleMetas(d._type),_=h._parseValue(m[e].data[t]),g=n.minBarLength,y=h.options.stacked,b=d.getMeta().stack,v=void 0===_.start?0:_.max>=0&&_.min>=0?_.min:_.max,x=void 0===_.start?_.end:_.max>=0&&_.min>=0?_.max-_.min:_.min-_.max,k=f.length;if(y||void 0===y&&void 0!==b)for(a=0;a<k&&(r=f[a]).index!==e;++a)r.stack===b&&(s=void 0===(l=h._parseValue(m[r.index].data[t])).start?l.end:l.min>=0&&l.max>=0?l.max:l.min,(_.min<0&&s<0||_.max>=0&&s>0)&&(v+=s));return o=h.getPixelForValue(v),u=(i=h.getPixelForValue(v+x))-o,void 0!==g&&Math.abs(u)<g&&(u=g,i=x>=0&&!p||x<0&&p?o-g:o+g),{size:u,base:o,head:i,center:i+u/2}},calculateBarIndexPixels:function(e,t,n,a){var r="flex"===a.barThickness?function(e,t,n){var a,r=t.pixels,s=r[e],o=e>0?r[e-1]:null,i=e<r.length-1?r[e+1]:null,u=n.categoryPercentage;return null===o&&(o=s-(null===i?t.end-t.start:i-s)),null===i&&(i=s+s-o),a=s-(s-Math.min(o,i))/2*u,{chunk:Math.abs(i-o)/2*u/t.stackCount,ratio:n.barPercentage,start:a}}(t,n,a):Ie(t,n,a),s=this.getStackIndex(e,this.getMeta().stack),o=r.start+r.chunk*s+r.chunk/2,i=Math.min(De(a.maxBarThickness,1/0),r.chunk*r.ratio);return{base:o-i/2,head:o+i/2,center:o,size:i}},draw:function(){var e=this,t=e.chart,n=e._getValueScale(),a=e.getMeta().data,r=e.getDataset(),s=a.length,o=0;for(W.canvas.clipArea(t.ctx,t.chartArea);o<s;++o){var i=n._parseValue(r.data[o]);isNaN(i.min)||isNaN(i.max)||a[o].draw()}W.canvas.unclipArea(t.ctx)},_resolveDataElementOptions:function(){var e=this,t=W.extend({},ae.prototype._resolveDataElementOptions.apply(e,arguments)),n=e._getIndexScale().options,a=e._getValueScale().options;return t.barPercentage=De(n.barPercentage,t.barPercentage),t.barThickness=De(n.barThickness,t.barThickness),t.categoryPercentage=De(n.categoryPercentage,t.categoryPercentage),t.maxBarThickness=De(n.maxBarThickness,t.maxBarThickness),t.minBarLength=De(a.minBarLength,t.minBarLength),t}}),Ce=W.valueOrDefault,Ee=W.options.resolve;O._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",a=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+a.r+")"}}}});var Ae=ae.extend({dataElementType:ke.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var t=this,n=t.getMeta().data;W.each(n,(function(n,a){t.updateElement(n,a,e)}))},updateElement:function(e,t,n){var a=this,r=a.getMeta(),s=e.custom||{},o=a.getScaleForId(r.xAxisID),i=a.getScaleForId(r.yAxisID),u=a._resolveDataElementOptions(e,t),l=a.getDataset().data[t],d=a.index,c=n?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof l?l:NaN,t,d),h=n?i.getBasePixel():i.getPixelForValue(l,t,d);e._xScale=o,e._yScale=i,e._options=u,e._datasetIndex=d,e._index=t,e._model={backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,hitRadius:u.hitRadius,pointStyle:u.pointStyle,rotation:u.rotation,radius:n?0:u.radius,skip:s.skip||isNaN(c)||isNaN(h),x:c,y:h},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,a=W.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Ce(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=Ce(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=Ce(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(e,t){var n=this,a=n.chart,r=n.getDataset(),s=e.custom||{},o=r.data[t]||{},i=ae.prototype._resolveDataElementOptions.apply(n,arguments),u={chart:a,dataIndex:t,dataset:r,datasetIndex:n.index};return n._cachedDataOpts===i&&(i=W.extend({},i)),i.radius=Ee([s.radius,o.r,n._config.radius,a.options.elements.point.radius],u,t),i}}),Ye=W.valueOrDefault,Fe=Math.PI,Re=2*Fe,Oe=Fe/2;O._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t,n,a,r=document.createElement("ul"),s=e.data,o=s.datasets,i=s.labels;if(r.setAttribute("class",e.id+"-legend"),o.length)for(t=0,n=o[0].data.length;t<n;++t)(a=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[t],i[t]&&a.appendChild(document.createTextNode(i[t]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,a){var r=e.getDatasetMeta(0),s=r.controller.getStyle(a);return{text:n,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,hidden:isNaN(t.datasets[0].data[a])||r.data[a].hidden,index:a}})):[]}},onClick:function(e,t){var n,a,r,s=t.index,o=this.chart;for(n=0,a=(o.data.datasets||[]).length;n<a;++n)(r=o.getDatasetMeta(n)).data[s]&&(r.data[s].hidden=!r.data[s].hidden);o.update()}},cutoutPercentage:50,rotation:-Oe,circumference:Re,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],a=": "+t.datasets[e.datasetIndex].data[e.index];return W.isArray(n)?(n=n.slice())[0]+=a:n+=a,n}}}});var $e=ae.extend({dataElementType:ke.Arc,linkScales:W.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t,n,a,r,s=this,o=s.chart,i=o.chartArea,u=o.options,l=1,d=1,c=0,h=0,p=s.getMeta(),m=p.data,f=u.cutoutPercentage/100||0,_=u.circumference,g=s._getRingWeight(s.index);if(_<Re){var y=u.rotation%Re,b=(y+=y>=Fe?-Re:y<-Fe?Re:0)+_,v=Math.cos(y),x=Math.sin(y),k=Math.cos(b),M=Math.sin(b),w=y<=0&&b>=0||b>=Re,T=y<=Oe&&b>=Oe||b>=Re+Oe,L=y<=-Oe&&b>=-Oe||b>=Fe+Oe,S=y===-Fe||b>=Fe?-1:Math.min(v,v*f,k,k*f),D=L?-1:Math.min(x,x*f,M,M*f),I=w?1:Math.max(v,v*f,k,k*f),N=T?1:Math.max(x,x*f,M,M*f);l=(I-S)/2,d=(N-D)/2,c=-(I+S)/2,h=-(N+D)/2}for(a=0,r=m.length;a<r;++a)m[a]._options=s._resolveDataElementOptions(m[a],a);for(o.borderWidth=s.getMaxBorderWidth(),t=(i.right-i.left-o.borderWidth)/l,n=(i.bottom-i.top-o.borderWidth)/d,o.outerRadius=Math.max(Math.min(t,n)/2,0),o.innerRadius=Math.max(o.outerRadius*f,0),o.radiusLength=(o.outerRadius-o.innerRadius)/(s._getVisibleDatasetWeightTotal()||1),o.offsetX=c*o.outerRadius,o.offsetY=h*o.outerRadius,p.total=s.calculateTotal(),s.outerRadius=o.outerRadius-o.radiusLength*s._getRingWeightOffset(s.index),s.innerRadius=Math.max(s.outerRadius-o.radiusLength*g,0),a=0,r=m.length;a<r;++a)s.updateElement(m[a],a,e)},updateElement:function(e,t,n){var a=this,r=a.chart,s=r.chartArea,o=r.options,i=o.animation,u=(s.left+s.right)/2,l=(s.top+s.bottom)/2,d=o.rotation,c=o.rotation,h=a.getDataset(),p=n&&i.animateRotate||e.hidden?0:a.calculateCircumference(h.data[t])*(o.circumference/Re),m=n&&i.animateScale?0:a.innerRadius,f=n&&i.animateScale?0:a.outerRadius,_=e._options||{};W.extend(e,{_datasetIndex:a.index,_index:t,_model:{backgroundColor:_.backgroundColor,borderColor:_.borderColor,borderWidth:_.borderWidth,borderAlign:_.borderAlign,x:u+r.offsetX,y:l+r.offsetY,startAngle:d,endAngle:c,circumference:p,outerRadius:f,innerRadius:m,label:W.valueAtIndexOrDefault(h.label,t,r.data.labels[t])}});var g=e._model;n&&i.animateRotate||(g.startAngle=0===t?o.rotation:a.getMeta().data[t-1]._model.endAngle,g.endAngle=g.startAngle+g.circumference),e.pivot()},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),a=0;return W.each(n.data,(function(n,r){e=t.data[r],isNaN(e)||n.hidden||(a+=Math.abs(e))})),a},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?Re*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var t,n,a,r,s,o,i,u,l=0,d=this.chart;if(!e)for(t=0,n=d.data.datasets.length;t<n;++t)if(d.isDatasetVisible(t)){e=(a=d.getDatasetMeta(t)).data,t!==this.index&&(s=a.controller);break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)r=e[t],s?(s._configure(),o=s._resolveDataElementOptions(r,t)):o=r._options,"inner"!==o.borderAlign&&(i=o.borderWidth,l=(u=o.hoverBorderWidth)>(l=i>l?i:l)?u:l);return l},setHoverStyle:function(e){var t=e._model,n=e._options,a=W.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=Ye(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=Ye(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=Ye(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t},_getRingWeight:function(e){return Math.max(Ye(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});O._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),O._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Pe=Ne.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),He=W.valueOrDefault,Be=W.options.resolve,We=W.canvas._isPointInArea;function ze(e,t){var n=e&&e.options.ticks||{},a=n.reverse,r=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:a?s:r,end:a?r:s}}function je(e,t,n){var a=n/2,r=ze(e,a),s=ze(t,a);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function Ve(e){var t,n,a,r;return W.isObject(e)?(t=e.top,n=e.right,a=e.bottom,r=e.left):t=n=a=r=e,{top:t,right:n,bottom:a,left:r}}O._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Ue=ae.extend({datasetElementType:ke.Line,dataElementType:ke.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var t,n,a=this,r=a.getMeta(),s=r.dataset,o=r.data||[],i=a.chart.options,u=a._config,l=a._showLine=He(u.showLine,i.showLines);for(a._xScale=a.getScaleForId(r.xAxisID),a._yScale=a.getScaleForId(r.yAxisID),l&&(void 0!==u.tension&&void 0===u.lineTension&&(u.lineTension=u.tension),s._scale=a._yScale,s._datasetIndex=a.index,s._children=o,s._model=a._resolveDatasetElementOptions(s),s.pivot()),t=0,n=o.length;t<n;++t)a.updateElement(o[t],t,e);for(l&&0!==s._model.tension&&a.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,n){var a,r,s=this,o=s.getMeta(),i=e.custom||{},u=s.getDataset(),l=s.index,d=u.data[t],c=s._xScale,h=s._yScale,p=o.dataset._model,m=s._resolveDataElementOptions(e,t);a=c.getPixelForValue("object"==typeof d?d:NaN,t,l),r=n?h.getBasePixel():s.calculatePointY(d,t,l),e._xScale=c,e._yScale=h,e._options=m,e._datasetIndex=l,e._index=t,e._model={x:a,y:r,skip:i.skip||isNaN(a)||isNaN(r),radius:m.radius,pointStyle:m.pointStyle,rotation:m.rotation,backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,tension:He(i.tension,p?p.tension:0),steppedLine:!!p&&p.steppedLine,hitRadius:m.hitRadius}},_resolveDatasetElementOptions:function(e){var t=this,n=t._config,a=e.custom||{},r=t.chart.options,s=r.elements.line,o=ae.prototype._resolveDatasetElementOptions.apply(t,arguments);return o.spanGaps=He(n.spanGaps,r.spanGaps),o.tension=He(n.lineTension,s.tension),o.steppedLine=Be([a.steppedLine,n.steppedLine,s.stepped]),o.clip=Ve(He(n.clip,je(t._xScale,t._yScale,o.borderWidth))),o},calculatePointY:function(e,t,n){var a,r,s,o,i,u,l,d=this.chart,c=this._yScale,h=0,p=0;if(c.options.stacked){for(i=+c.getRightValue(e),l=(u=d._getSortedVisibleDatasetMetas()).length,a=0;a<l&&(s=u[a]).index!==n;++a)r=d.data.datasets[s.index],"line"===s.type&&s.yAxisID===c.id&&((o=+c.getRightValue(r.data[t]))<0?p+=o||0:h+=o||0);return i<0?c.getPixelForValue(p+i):c.getPixelForValue(h+i)}return c.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,n,a,r=this.chart,s=this.getMeta(),o=s.dataset._model,i=r.chartArea,u=s.data||[];function l(e,t,n){return Math.max(Math.min(e,n),t)}if(o.spanGaps&&(u=u.filter((function(e){return!e._model.skip}))),"monotone"===o.cubicInterpolationMode)W.splineCurveMonotone(u);else for(e=0,t=u.length;e<t;++e)n=u[e]._model,a=W.splineCurve(W.previousItem(u,e)._model,n,W.nextItem(u,e)._model,o.tension),n.controlPointPreviousX=a.previous.x,n.controlPointPreviousY=a.previous.y,n.controlPointNextX=a.next.x,n.controlPointNextY=a.next.y;if(r.options.elements.line.capBezierPoints)for(e=0,t=u.length;e<t;++e)n=u[e]._model,We(n,i)&&(e>0&&We(u[e-1]._model,i)&&(n.controlPointPreviousX=l(n.controlPointPreviousX,i.left,i.right),n.controlPointPreviousY=l(n.controlPointPreviousY,i.top,i.bottom)),e<u.length-1&&We(u[e+1]._model,i)&&(n.controlPointNextX=l(n.controlPointNextX,i.left,i.right),n.controlPointNextY=l(n.controlPointNextY,i.top,i.bottom)))},draw:function(){var e,t=this,n=t.chart,a=t.getMeta(),r=a.data||[],s=n.chartArea,o=n.canvas,i=0,u=r.length;for(t._showLine&&(e=a.dataset._model.clip,W.canvas.clipArea(n.ctx,{left:!1===e.left?0:s.left-e.left,right:!1===e.right?o.width:s.right+e.right,top:!1===e.top?0:s.top-e.top,bottom:!1===e.bottom?o.height:s.bottom+e.bottom}),a.dataset.draw(),W.canvas.unclipArea(n.ctx));i<u;++i)r[i].draw(s)},setHoverStyle:function(e){var t=e._model,n=e._options,a=W.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=He(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=He(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=He(n.hoverBorderWidth,n.borderWidth),t.radius=He(n.hoverRadius,n.radius)}}),Ge=W.options.resolve;O._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t,n,a,r=document.createElement("ul"),s=e.data,o=s.datasets,i=s.labels;if(r.setAttribute("class",e.id+"-legend"),o.length)for(t=0,n=o[0].data.length;t<n;++t)(a=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[t],i[t]&&a.appendChild(document.createTextNode(i[t]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,a){var r=e.getDatasetMeta(0),s=r.controller.getStyle(a);return{text:n,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,hidden:isNaN(t.datasets[0].data[a])||r.data[a].hidden,index:a}})):[]}},onClick:function(e,t){var n,a,r,s=t.index,o=this.chart;for(n=0,a=(o.data.datasets||[]).length;n<a;++n)(r=o.getDatasetMeta(n)).data[s].hidden=!r.data[s].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}});var qe=ae.extend({dataElementType:ke.Arc,linkScales:W.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,a,r=this,s=r.getDataset(),o=r.getMeta(),i=r.chart.options.startAngle||0,u=r._starts=[],l=r._angles=[],d=o.data;for(r._updateRadius(),o.count=r.countVisibleElements(),t=0,n=s.data.length;t<n;t++)u[t]=i,a=r._computeAngle(t),l[t]=a,i+=a;for(t=0,n=d.length;t<n;++t)d[t]._options=r._resolveDataElementOptions(d[t],t),r.updateElement(d[t],t,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,a=t.options,r=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(r/2,0),t.innerRadius=Math.max(a.cutoutPercentage?t.outerRadius/100*a.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var a=this,r=a.chart,s=a.getDataset(),o=r.options,i=o.animation,u=r.scale,l=r.data.labels,d=u.xCenter,c=u.yCenter,h=o.startAngle,p=e.hidden?0:u.getDistanceFromCenterForValue(s.data[t]),m=a._starts[t],f=m+(e.hidden?0:a._angles[t]),_=i.animateScale?0:u.getDistanceFromCenterForValue(s.data[t]),g=e._options||{};W.extend(e,{_datasetIndex:a.index,_index:t,_scale:u,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:d,y:c,innerRadius:0,outerRadius:n?_:p,startAngle:n&&i.animateRotate?h:m,endAngle:n&&i.animateRotate?h:f,label:W.valueAtIndexOrDefault(l,t,l[t])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return W.each(t.data,(function(t,a){isNaN(e.data[a])||t.hidden||n++})),n},setHoverStyle:function(e){var t=e._model,n=e._options,a=W.getHoverColor,r=W.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=r(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=r(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(e){var t=this,n=this.getMeta().count,a=t.getDataset(),r=t.getMeta();if(isNaN(a.data[e])||r.data[e].hidden)return 0;var s={chart:t.chart,dataIndex:e,dataset:a,datasetIndex:t.index};return Ge([t.chart.options.elements.arc.angle,2*Math.PI/n],s,e)}});O._set("pie",W.clone(O.doughnut)),O._set("pie",{cutoutPercentage:0});var Xe=$e,Ke=W.valueOrDefault;O._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Je=ae.extend({datasetElementType:ke.Line,dataElementType:ke.Point,linkScales:W.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,a=this,r=a.getMeta(),s=r.dataset,o=r.data||[],i=a.chart.scale,u=a._config;for(void 0!==u.tension&&void 0===u.lineTension&&(u.lineTension=u.tension),s._scale=i,s._datasetIndex=a.index,s._children=o,s._loop=!0,s._model=a._resolveDatasetElementOptions(s),s.pivot(),t=0,n=o.length;t<n;++t)a.updateElement(o[t],t,e);for(a.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,n){var a=this,r=e.custom||{},s=a.getDataset(),o=a.chart.scale,i=o.getPointPositionForValue(t,s.data[t]),u=a._resolveDataElementOptions(e,t),l=a.getMeta().dataset._model,d=n?o.xCenter:i.x,c=n?o.yCenter:i.y;e._scale=o,e._options=u,e._datasetIndex=a.index,e._index=t,e._model={x:d,y:c,skip:r.skip||isNaN(d)||isNaN(c),radius:u.radius,pointStyle:u.pointStyle,rotation:u.rotation,backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,tension:Ke(r.tension,l?l.tension:0),hitRadius:u.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,t=e._config,n=e.chart.options,a=ae.prototype._resolveDatasetElementOptions.apply(e,arguments);return a.spanGaps=Ke(t.spanGaps,n.spanGaps),a.tension=Ke(t.lineTension,n.elements.line.tension),a},updateBezierControlPoints:function(){var e,t,n,a,r=this.getMeta(),s=this.chart.chartArea,o=r.data||[];function i(e,t,n){return Math.max(Math.min(e,n),t)}for(r.dataset._model.spanGaps&&(o=o.filter((function(e){return!e._model.skip}))),e=0,t=o.length;e<t;++e)n=o[e]._model,a=W.splineCurve(W.previousItem(o,e,!0)._model,n,W.nextItem(o,e,!0)._model,n.tension),n.controlPointPreviousX=i(a.previous.x,s.left,s.right),n.controlPointPreviousY=i(a.previous.y,s.top,s.bottom),n.controlPointNextX=i(a.next.x,s.left,s.right),n.controlPointNextY=i(a.next.y,s.top,s.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,a=W.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Ke(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=Ke(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=Ke(n.hoverBorderWidth,n.borderWidth),t.radius=Ke(n.hoverRadius,n.radius)}});O._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),O._set("global",{datasets:{scatter:{showLine:!1}}});var Qe={bar:Ne,bubble:Ae,doughnut:$e,horizontalBar:Pe,line:Ue,polarArea:qe,pie:Xe,radar:Je,scatter:Ue};function Ze(e,t){return e.native?{x:e.x,y:e.y}:W.getRelativePosition(e,t)}function et(e,t){var n,a,r,s,o,i,u=e._getSortedVisibleDatasetMetas();for(a=0,s=u.length;a<s;++a)for(r=0,o=(n=u[a].data).length;r<o;++r)(i=n[r])._view.skip||t(i)}function tt(e,t){var n=[];return et(e,(function(e){e.inRange(t.x,t.y)&&n.push(e)})),n}function nt(e,t,n,a){var r=Number.POSITIVE_INFINITY,s=[];return et(e,(function(e){if(!n||e.inRange(t.x,t.y)){var o=e.getCenterPoint(),i=a(t,o);i<r?(s=[e],r=i):i===r&&s.push(e)}})),s}function at(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,a){var r=t?Math.abs(e.x-a.x):0,s=n?Math.abs(e.y-a.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}function rt(e,t,n){var a=Ze(t,e);n.axis=n.axis||"x";var r=at(n.axis),s=n.intersect?tt(e,a):nt(e,a,!1,r),o=[];return s.length?(e._getSortedVisibleDatasetMetas().forEach((function(e){var t=e.data[s[0]._index];t&&!t._view.skip&&o.push(t)})),o):[]}var st={modes:{single:function(e,t){var n=Ze(t,e),a=[];return et(e,(function(e){if(e.inRange(n.x,n.y))return a.push(e),a})),a.slice(0,1)},label:rt,index:rt,dataset:function(e,t,n){var a=Ze(t,e);n.axis=n.axis||"xy";var r=at(n.axis),s=n.intersect?tt(e,a):nt(e,a,!1,r);return s.length>0&&(s=e.getDatasetMeta(s[0]._datasetIndex).data),s},"x-axis":function(e,t){return rt(e,t,{intersect:!1})},point:function(e,t){return tt(e,Ze(t,e))},nearest:function(e,t,n){var a=Ze(t,e);n.axis=n.axis||"xy";var r=at(n.axis);return nt(e,a,n.intersect,r)},x:function(e,t,n){var a=Ze(t,e),r=[],s=!1;return et(e,(function(e){e.inXRange(a.x)&&r.push(e),e.inRange(a.x,a.y)&&(s=!0)})),n.intersect&&!s&&(r=[]),r},y:function(e,t,n){var a=Ze(t,e),r=[],s=!1;return et(e,(function(e){e.inYRange(a.y)&&r.push(e),e.inRange(a.x,a.y)&&(s=!0)})),n.intersect&&!s&&(r=[]),r}}},ot=W.extend;function it(e,t){return W.where(e,(function(e){return e.pos===t}))}function ut(e,t){return e.sort((function(e,n){var a=t?n:e,r=t?e:n;return a.weight===r.weight?a.index-r.index:a.weight-r.weight}))}function lt(e,t,n,a){return Math.max(e[n],t[n])+Math.max(e[a],t[a])}function dt(e,t,n){var a,r,s=n.box,o=e.maxPadding;if(n.size&&(e[n.pos]-=n.size),n.size=n.horizontal?s.height:s.width,e[n.pos]+=n.size,s.getPadding){var i=s.getPadding();o.top=Math.max(o.top,i.top),o.left=Math.max(o.left,i.left),o.bottom=Math.max(o.bottom,i.bottom),o.right=Math.max(o.right,i.right)}if(a=t.outerWidth-lt(o,e,"left","right"),r=t.outerHeight-lt(o,e,"top","bottom"),a!==e.w||r!==e.h){e.w=a,e.h=r;var u=n.horizontal?[a,e.w]:[r,e.h];return!(u[0]===u[1]||isNaN(u[0])&&isNaN(u[1]))}}function ct(e,t){var n,a=t.maxPadding;return n={left:0,top:0,right:0,bottom:0},(e?["left","right"]:["top","bottom"]).forEach((function(e){n[e]=Math.max(t[e],a[e])})),n}function ht(e,t,n){var a,r,s,o,i,u,l=[];for(a=0,r=e.length;a<r;++a)(o=(s=e[a]).box).update(s.width||t.w,s.height||t.h,ct(s.horizontal,t)),dt(t,n,s)&&(u=!0,l.length&&(i=!0)),o.fullWidth||l.push(s);return i&&ht(l,t,n)||u}function pt(e,t,n){var a,r,s,o,i=n.padding,u=t.x,l=t.y;for(a=0,r=e.length;a<r;++a)o=(s=e[a]).box,s.horizontal?(o.left=o.fullWidth?i.left:t.left,o.right=o.fullWidth?n.outerWidth-i.right:t.left+t.w,o.top=l,o.bottom=l+o.height,o.width=o.right-o.left,l=o.bottom):(o.left=u,o.right=u+o.width,o.top=t.top,o.bottom=t.top+t.h,o.height=o.bottom-o.top,u=o.right);t.x=u,t.y=l}O._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var mt,ft={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var a,r=["fullWidth","position","weight"],s=r.length,o=0;o<s;++o)a=r[o],n.hasOwnProperty(a)&&(t[a]=n[a])},update:function(e,t,n){if(e){var a=e.options.layout||{},r=W.options.toPadding(a.padding),s=t-r.width,o=n-r.height,i=function(e){var t=function(e){var t,n,a,r=[];for(t=0,n=(e||[]).length;t<n;++t)a=e[t],r.push({index:t,box:a,pos:a.position,horizontal:a.isHorizontal(),weight:a.weight});return r}(e),n=ut(it(t,"left"),!0),a=ut(it(t,"right")),r=ut(it(t,"top"),!0),s=ut(it(t,"bottom"));return{leftAndTop:n.concat(r),rightAndBottom:a.concat(s),chartArea:it(t,"chartArea"),vertical:n.concat(a),horizontal:r.concat(s)}}(e.boxes),u=i.vertical,l=i.horizontal,d=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,vBoxMaxWidth:s/2/u.length,hBoxMaxHeight:o/2}),c=ot({maxPadding:ot({},r),w:s,h:o,x:r.left,y:r.top},r);(function(e,t){var n,a,r;for(n=0,a=e.length;n<a;++n)(r=e[n]).width=r.horizontal?r.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,r.height=r.horizontal&&t.hBoxMaxHeight})(u.concat(l),d),ht(u,c,d),ht(l,c,d)&&ht(u,c,d),function(e){var t=e.maxPadding;function n(n){var a=Math.max(t[n]-e[n],0);return e[n]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(c),pt(i.leftAndTop,c,d),c.x+=c.w,c.y+=c.h,pt(i.rightAndBottom,c,d),e.chartArea={left:c.left,top:c.top,right:c.left+c.w,bottom:c.top+c.h},W.each(i.chartArea,(function(t){var n=t.box;ot(n,e.chartArea),n.update(c.w,c.h)}))}}},_t=(mt=Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"}))&&mt.default||mt,gt="chartjs-size-monitor",yt="chartjs-render-monitor",bt=["animationstart","webkitAnimationStart"],vt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function xt(e,t){var n=W.getStyle(e,t),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?Number(a[1]):void 0}var kt=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}()&&{passive:!0};function Mt(e,t,n){e.addEventListener(t,n,kt)}function wt(e,t,n){e.removeEventListener(t,n,kt)}function Tt(e,t,n,a,r){return{type:e,chart:t,native:r||null,x:void 0!==n?n:null,y:void 0!==a?a:null}}function Lt(e){var t=document.createElement("div");return t.className=e||"",t}function St(e,t,n){var a,r,s,o,i=e.$chartjs||(e.$chartjs={}),u=i.resizer=function(e){var t=1e6,n=Lt(gt),a=Lt(gt+"-expand"),r=Lt(gt+"-shrink");a.appendChild(Lt()),r.appendChild(Lt()),n.appendChild(a),n.appendChild(r),n._reset=function(){a.scrollLeft=t,a.scrollTop=t,r.scrollLeft=t,r.scrollTop=t};var s=function(){n._reset(),e()};return Mt(a,"scroll",s.bind(a,"expand")),Mt(r,"scroll",s.bind(r,"shrink")),n}((a=function(){if(i.resizer){var a=n.options.maintainAspectRatio&&e.parentNode,r=a?a.clientWidth:0;t(Tt("resize",n)),a&&a.clientWidth<r&&n.canvas&&t(Tt("resize",n))}},s=!1,o=[],function(){o=Array.prototype.slice.call(arguments),r=r||this,s||(s=!0,W.requestAnimFrame.call(window,(function(){s=!1,a.apply(r,o)})))}));!function(e,t){var n=e.$chartjs||(e.$chartjs={}),a=n.renderProxy=function(e){"chartjs-render-animation"===e.animationName&&t()};W.each(bt,(function(t){Mt(e,t,a)})),n.reflow=!!e.offsetParent,e.classList.add(yt)}(e,(function(){if(i.resizer){var t=e.parentNode;t&&t!==u.parentNode&&t.insertBefore(u,t.firstChild),u._reset()}}))}function Dt(e){var t=e.$chartjs||{},n=t.resizer;delete t.resizer,function(e){var t=e.$chartjs||{},n=t.renderProxy;n&&(W.each(bt,(function(t){wt(e,t,n)})),delete t.renderProxy),e.classList.remove(yt)}(e),n&&n.parentNode&&n.parentNode.removeChild(n)}var It={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(e){if(!this.disableCSSInjection){var t=e.getRootNode?e.getRootNode():document;!function(e,t){var n=e.$chartjs||(e.$chartjs={});if(!n.containsStyles){n.containsStyles=!0,t="/* Chart.js */\n"+t;var a=document.createElement("style");a.setAttribute("type","text/css"),a.appendChild(document.createTextNode(t)),e.appendChild(a)}}(t.host?t:document.head,_t)}},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(this._ensureLoaded(e),function(e,t){var n=e.style,a=e.getAttribute("height"),r=e.getAttribute("width");if(e.$chartjs={initial:{height:a,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var s=xt(e,"width");void 0!==s&&(e.width=s)}if(null===a||""===a)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var o=xt(e,"height");void 0!==s&&(e.height=o)}}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t.$chartjs){var n=t.$chartjs.initial;["height","width"].forEach((function(e){var a=n[e];W.isNullOrUndef(a)?t.removeAttribute(e):t.setAttribute(e,a)})),W.each(n.style||{},(function(e,n){t.style[n]=e})),t.width=t.width,delete t.$chartjs}},addEventListener:function(e,t,n){var a=e.canvas;if("resize"!==t){var r=n.$chartjs||(n.$chartjs={});Mt(a,t,(r.proxies||(r.proxies={}))[e.id+"_"+t]=function(t){n(function(e,t){var n=vt[e.type]||e.type,a=W.getRelativePosition(e,t);return Tt(n,t,a.x,a.y,e)}(t,e))})}else St(a,n,e)},removeEventListener:function(e,t,n){var a=e.canvas;if("resize"!==t){var r=((n.$chartjs||{}).proxies||{})[e.id+"_"+t];r&&wt(a,t,r)}else Dt(a)}};W.addEvent=Mt,W.removeEvent=wt;var Nt=It._enabled?It:{acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},Ct=W.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Nt);O._set("global",{plugins:{}});var Et={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach((function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var a,r,s,o,i,u=this.descriptors(e),l=u.length;for(a=0;a<l;++a)if("function"==typeof(i=(s=(r=u[a]).plugin)[t])&&((o=[e].concat(n||[])).push(r.options),!1===i.apply(s,o)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],a=[],r=e&&e.config||{},s=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach((function(e){if(-1===n.indexOf(e)){var t=e.id,r=s[t];!1!==r&&(!0===r&&(r=W.clone(O.global.plugins[t])),n.push(e),a.push({plugin:e,options:r||{}}))}})),t.descriptors=a,t.id=this._cacheId,a},_invalidate:function(e){delete e.$plugins}},At={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=W.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?W.merge(Object.create(null),[O.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){var n=this;n.defaults.hasOwnProperty(e)&&(n.defaults[e]=W.extend(n.defaults[e],t))},addScalesToLayout:function(e){W.each(e.scales,(function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,ft.addBox(e,t)}))}},Yt=W.valueOrDefault,Ft=W.rtl.getRtlAdapter;O._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:W.noop,title:function(e,t){var n="",a=t.labels,r=a?a.length:0;if(e.length>0){var s=e[0];s.label?n=s.label:s.xLabel?n=s.xLabel:r>0&&s.index<r&&(n=a[s.index])}return n},afterTitle:W.noop,beforeBody:W.noop,beforeLabel:W.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),W.isNullOrUndef(e.value)?n+=e.yLabel:n+=e.value,n},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:W.noop,afterBody:W.noop,beforeFooter:W.noop,footer:W.noop,afterFooter:W.noop}}});var Rt={average:function(e){if(!e.length)return!1;var t,n,a=0,r=0,s=0;for(t=0,n=e.length;t<n;++t){var o=e[t];if(o&&o.hasValue()){var i=o.tooltipPosition();a+=i.x,r+=i.y,++s}}return{x:a/s,y:r/s}},nearest:function(e,t){var n,a,r,s=t.x,o=t.y,i=Number.POSITIVE_INFINITY;for(n=0,a=e.length;n<a;++n){var u=e[n];if(u&&u.hasValue()){var l=u.getCenterPoint(),d=W.distanceBetweenPoints(t,l);d<i&&(i=d,r=u)}}if(r){var c=r.tooltipPosition();s=c.x,o=c.y}return{x:s,y:o}}};function Ot(e,t){return t&&(W.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function $t(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Pt(e){var t=O.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:Yt(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:Yt(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:Yt(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:Yt(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:Yt(e.titleFontStyle,t.defaultFontStyle),titleFontSize:Yt(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:Yt(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:Yt(e.footerFontStyle,t.defaultFontStyle),footerFontSize:Yt(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function Ht(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function Bt(e){return Ot([],$t(e))}var Wt=X.extend({initialize:function(){this._model=Pt(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options.callbacks,n=t.beforeTitle.apply(e,arguments),a=t.title.apply(e,arguments),r=t.afterTitle.apply(e,arguments),s=[];return s=Ot(s,$t(n)),s=Ot(s,$t(a)),Ot(s,$t(r))},getBeforeBody:function(){return Bt(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var n=this,a=n._options.callbacks,r=[];return W.each(e,(function(e){var s={before:[],lines:[],after:[]};Ot(s.before,$t(a.beforeLabel.call(n,e,t))),Ot(s.lines,a.label.call(n,e,t)),Ot(s.after,$t(a.afterLabel.call(n,e,t))),r.push(s)})),r},getAfterBody:function(){return Bt(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,t=e._options.callbacks,n=t.beforeFooter.apply(e,arguments),a=t.footer.apply(e,arguments),r=t.afterFooter.apply(e,arguments),s=[];return s=Ot(s,$t(n)),s=Ot(s,$t(a)),Ot(s,$t(r))},update:function(e){var t,n,a,r,s,o,i,u,l,d,c=this,h=c._options,p=c._model,m=c._model=Pt(h),f=c._active,_=c._data,g={xAlign:p.xAlign,yAlign:p.yAlign},y={x:p.x,y:p.y},b={width:p.width,height:p.height},v={x:p.caretX,y:p.caretY};if(f.length){m.opacity=1;var x=[],k=[];v=Rt[h.position].call(c,f,c._eventPosition);var M=[];for(t=0,n=f.length;t<n;++t)M.push((a=f[t],r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,l=void 0,d=void 0,r=a._xScale,s=a._yScale||a._scale,o=a._index,i=a._datasetIndex,u=a._chart.getDatasetMeta(i).controller,l=u._getIndexScale(),d=u._getValueScale(),{xLabel:r?r.getLabelForIndex(o,i):"",yLabel:s?s.getLabelForIndex(o,i):"",label:l?""+l.getLabelForIndex(o,i):"",value:d?""+d.getLabelForIndex(o,i):"",index:o,datasetIndex:i,x:a._model.x,y:a._model.y}));h.filter&&(M=M.filter((function(e){return h.filter(e,_)}))),h.itemSort&&(M=M.sort((function(e,t){return h.itemSort(e,t,_)}))),W.each(M,(function(e){x.push(h.callbacks.labelColor.call(c,e,c._chart)),k.push(h.callbacks.labelTextColor.call(c,e,c._chart))})),m.title=c.getTitle(M,_),m.beforeBody=c.getBeforeBody(M,_),m.body=c.getBody(M,_),m.afterBody=c.getAfterBody(M,_),m.footer=c.getFooter(M,_),m.x=v.x,m.y=v.y,m.caretPadding=h.caretPadding,m.labelColors=x,m.labelTextColors=k,m.dataPoints=M,y=function(e,t,n,a){var r=e.x,s=e.y,o=e.caretSize,i=e.caretPadding,u=e.cornerRadius,l=n.xAlign,d=n.yAlign,c=o+i,h=u+i;return"right"===l?r-=t.width:"center"===l&&((r-=t.width/2)+t.width>a.width&&(r=a.width-t.width),r<0&&(r=0)),"top"===d?s+=c:s-="bottom"===d?t.height+c:t.height/2,"center"===d?"left"===l?r+=c:"right"===l&&(r-=c):"left"===l?r-=h:"right"===l&&(r+=h),{x:r,y:s}}(m,b=function(e,t){var n=e._chart.ctx,a=2*t.yPadding,r=0,s=t.body,o=s.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);o+=t.beforeBody.length+t.afterBody.length;var i=t.title.length,u=t.footer.length,l=t.titleFontSize,d=t.bodyFontSize,c=t.footerFontSize;a+=i*l,a+=i?(i-1)*t.titleSpacing:0,a+=i?t.titleMarginBottom:0,a+=o*d,a+=o?(o-1)*t.bodySpacing:0,a+=u?t.footerMarginTop:0,a+=u*c,a+=u?(u-1)*t.footerSpacing:0;var h=0,p=function(e){r=Math.max(r,n.measureText(e).width+h)};return n.font=W.fontString(l,t._titleFontStyle,t._titleFontFamily),W.each(t.title,p),n.font=W.fontString(d,t._bodyFontStyle,t._bodyFontFamily),W.each(t.beforeBody.concat(t.afterBody),p),h=t.displayColors?d+2:0,W.each(s,(function(e){W.each(e.before,p),W.each(e.lines,p),W.each(e.after,p)})),h=0,n.font=W.fontString(c,t._footerFontStyle,t._footerFontFamily),W.each(t.footer,p),{width:r+=2*t.xPadding,height:a}}(this,m),g=function(e,t){var n,a,r,s,o,i=e._model,u=e._chart,l=e._chart.chartArea,d="center",c="center";i.y<t.height?c="top":i.y>u.height-t.height&&(c="bottom");var h=(l.left+l.right)/2,p=(l.top+l.bottom)/2;"center"===c?(n=function(e){return e<=h},a=function(e){return e>h}):(n=function(e){return e<=t.width/2},a=function(e){return e>=u.width-t.width/2}),r=function(e){return e+t.width+i.caretSize+i.caretPadding>u.width},s=function(e){return e-t.width-i.caretSize-i.caretPadding<0},o=function(e){return e<=p?"top":"bottom"},n(i.x)?(d="left",r(i.x)&&(d="center",c=o(i.y))):a(i.x)&&(d="right",s(i.x)&&(d="center",c=o(i.y)));var m=e._options;return{xAlign:m.xAlign?m.xAlign:d,yAlign:m.yAlign?m.yAlign:c}}(this,b),c._chart)}else m.opacity=0;return m.xAlign=g.xAlign,m.yAlign=g.yAlign,m.x=y.x,m.y=y.y,m.width=b.width,m.height=b.height,m.caretX=v.x,m.caretY=v.y,c._model=m,e&&h.custom&&h.custom.call(c,m),c},drawCaret:function(e,t){var n=this._chart.ctx,a=this._view,r=this.getCaretPosition(e,t,a);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(e,t,n){var a,r,s,o,i,u,l=n.caretSize,d=n.cornerRadius,c=n.xAlign,h=n.yAlign,p=e.x,m=e.y,f=t.width,_=t.height;if("center"===h)i=m+_/2,"left"===c?(r=(a=p)-l,s=a,o=i+l,u=i-l):(r=(a=p+f)+l,s=a,o=i-l,u=i+l);else if("left"===c?(a=(r=p+d+l)-l,s=r+l):"right"===c?(a=(r=p+f-d-l)-l,s=r+l):(a=(r=n.caretX)-l,s=r+l),"top"===h)i=(o=m)-l,u=o;else{i=(o=m+_)+l,u=o;var g=s;s=a,a=g}return{x1:a,x2:r,x3:s,y1:o,y2:i,y3:u}},drawTitle:function(e,t,n){var a,r,s,o=t.title,i=o.length;if(i){var u=Ft(t.rtl,t.x,t.width);for(e.x=Ht(t,t._titleAlign),n.textAlign=u.textAlign(t._titleAlign),n.textBaseline="middle",a=t.titleFontSize,r=t.titleSpacing,n.fillStyle=t.titleFontColor,n.font=W.fontString(a,t._titleFontStyle,t._titleFontFamily),s=0;s<i;++s)n.fillText(o[s],u.x(e.x),e.y+a/2),e.y+=a+r,s+1===i&&(e.y+=t.titleMarginBottom-r)}},drawBody:function(e,t,n){var a,r,s,o,i,u,l,d,c=t.bodyFontSize,h=t.bodySpacing,p=t._bodyAlign,m=t.body,f=t.displayColors,_=0,g=f?Ht(t,"left"):0,y=Ft(t.rtl,t.x,t.width),b=function(t){n.fillText(t,y.x(e.x+_),e.y+c/2),e.y+=c+h},v=y.textAlign(p);for(n.textAlign=p,n.textBaseline="middle",n.font=W.fontString(c,t._bodyFontStyle,t._bodyFontFamily),e.x=Ht(t,v),n.fillStyle=t.bodyFontColor,W.each(t.beforeBody,b),_=f&&"right"!==v?"center"===p?c/2+1:c+2:0,i=0,l=m.length;i<l;++i){for(a=m[i],r=t.labelTextColors[i],s=t.labelColors[i],n.fillStyle=r,W.each(a.before,b),u=0,d=(o=a.lines).length;u<d;++u){if(f){var x=y.x(g);n.fillStyle=t.legendColorBackground,n.fillRect(y.leftForLtr(x,c),e.y,c,c),n.lineWidth=1,n.strokeStyle=s.borderColor,n.strokeRect(y.leftForLtr(x,c),e.y,c,c),n.fillStyle=s.backgroundColor,n.fillRect(y.leftForLtr(y.xPlus(x,1),c-2),e.y+1,c-2,c-2),n.fillStyle=r}b(o[u])}W.each(a.after,b)}_=0,W.each(t.afterBody,b),e.y-=h},drawFooter:function(e,t,n){var a,r,s=t.footer,o=s.length;if(o){var i=Ft(t.rtl,t.x,t.width);for(e.x=Ht(t,t._footerAlign),e.y+=t.footerMarginTop,n.textAlign=i.textAlign(t._footerAlign),n.textBaseline="middle",a=t.footerFontSize,n.fillStyle=t.footerFontColor,n.font=W.fontString(a,t._footerFontStyle,t._footerFontFamily),r=0;r<o;++r)n.fillText(s[r],i.x(e.x),e.y+a/2),e.y+=a+t.footerSpacing}},drawBackground:function(e,t,n,a){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var r=t.xAlign,s=t.yAlign,o=e.x,i=e.y,u=a.width,l=a.height,d=t.cornerRadius;n.beginPath(),n.moveTo(o+d,i),"top"===s&&this.drawCaret(e,a),n.lineTo(o+u-d,i),n.quadraticCurveTo(o+u,i,o+u,i+d),"center"===s&&"right"===r&&this.drawCaret(e,a),n.lineTo(o+u,i+l-d),n.quadraticCurveTo(o+u,i+l,o+u-d,i+l),"bottom"===s&&this.drawCaret(e,a),n.lineTo(o+d,i+l),n.quadraticCurveTo(o,i+l,o,i+l-d),"center"===s&&"left"===r&&this.drawCaret(e,a),n.lineTo(o,i+d),n.quadraticCurveTo(o,i,o+d,i),n.closePath(),n.fill(),t.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},a={x:t.x,y:t.y},r=Math.abs(t.opacity<.001)?0:t.opacity,s=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&s&&(e.save(),e.globalAlpha=r,this.drawBackground(a,t,e,n),a.y+=t.yPadding,W.rtl.overrideTextDirection(e,t.textDirection),this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),W.rtl.restoreTextDirection(e,t.textDirection),e.restore())}},handleEvent:function(e){var t,n=this,a=n._options;return n._lastActive=n._lastActive||[],"mouseout"===e.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(e,a.mode,a),a.reverse&&n._active.reverse()),(t=!W.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(a.enabled||a.custom)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0),n.pivot())),t}}),zt=Rt,jt=Wt;jt.positioners=zt;var Vt=W.valueOrDefault;function Ut(){return W.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,n,a){if("xAxes"===e||"yAxes"===e){var r,s,o,i=n[e].length;for(t[e]||(t[e]=[]),r=0;r<i;++r)o=n[e][r],s=Vt(o.type,"xAxes"===e?"category":"linear"),r>=t[e].length&&t[e].push({}),!t[e][r].type||o.type&&o.type!==t[e][r].type?W.merge(t[e][r],[At.getScaleDefaults(s),o]):W.merge(t[e][r],o)}else W._merger(e,t,n,a)}})}function Gt(){return W.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,n,a){var r=t[e]||Object.create(null),s=n[e];"scales"===e?t[e]=Ut(r,s):"scale"===e?t[e]=W.merge(r,[At.getScaleDefaults(s.type),s]):W._merger(e,t,n,a)}})}function qt(e){var t=e.options;W.each(e.scales,(function(t){ft.removeBox(e,t)})),t=Gt(O.global,O[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function Xt(e,t,n){var a,r=function(e){return e.id===a};do{a=t+n++}while(W.findIndex(e,r)>=0);return a}function Kt(e){return"top"===e||"bottom"===e}function Jt(e,t){return function(n,a){return n[e]===a[e]?n[t]-a[t]:n[e]-a[e]}}O._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Qt=function(e,t){return this.construct(e,t),this};W.extend(Qt.prototype,{construct:function(e,t){var n=this;t=function(e){var t=(e=e||Object.create(null)).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=Gt(O.global,O[e.type],e.options||{}),e}(t);var a=Ct.acquireContext(e,t),r=a&&a.canvas,s=r&&r.height,o=r&&r.width;n.id=W.uid(),n.ctx=a,n.canvas=r,n.config=t,n.width=o,n.height=s,n.aspectRatio=s?o/s:null,n.options=t.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,Qt.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(e){n.config.data=e}}),a&&r?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return Et.notify(e,"beforeInit"),W.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),Et.notify(e,"afterInit"),e},clear:function(){return W.canvas.clear(this),this},stop:function(){return Q.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,a=t.canvas,r=n.maintainAspectRatio&&t.aspectRatio||null,s=Math.max(0,Math.floor(W.getMaximumWidth(a))),o=Math.max(0,Math.floor(r?s/r:W.getMaximumHeight(a)));if((t.width!==s||t.height!==o)&&(a.width=t.width=s,a.height=t.height=o,a.style.width=s+"px",a.style.height=o+"px",W.retinaScale(t,n.devicePixelRatio),!e)){var i={width:s,height:o};Et.notify(t,"resize",[i]),n.onResize&&n.onResize(t,i),t.stop(),t.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;W.each(t.xAxes,(function(e,n){e.id||(e.id=Xt(t.xAxes,"x-axis-",n))})),W.each(t.yAxes,(function(e,n){e.id||(e.id=Xt(t.yAxes,"y-axis-",n))})),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var e=this,t=e.options,n=e.scales||{},a=[],r=Object.keys(n).reduce((function(e,t){return e[t]=!1,e}),{});t.scales&&(a=a.concat((t.scales.xAxes||[]).map((function(e){return{options:e,dtype:"category",dposition:"bottom"}})),(t.scales.yAxes||[]).map((function(e){return{options:e,dtype:"linear",dposition:"left"}})))),t.scale&&a.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),W.each(a,(function(t){var a=t.options,s=a.id,o=Vt(a.type,t.dtype);Kt(a.position)!==Kt(t.dposition)&&(a.position=t.dposition),r[s]=!0;var i=null;if(s in n&&n[s].type===o)(i=n[s]).options=a,i.ctx=e.ctx,i.chart=e;else{var u=At.getScaleConstructor(o);if(!u)return;i=new u({id:s,type:o,options:a,ctx:e.ctx,chart:e}),n[i.id]=i}i.mergeTicksOptions(),t.isDefault&&(e.scale=i)})),W.each(r,(function(e,t){e||delete n[t]})),e.scales=n,At.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e,t,n=this,a=[],r=n.data.datasets;for(e=0,t=r.length;e<t;e++){var s=r[e],o=n.getDatasetMeta(e),i=s.type||n.config.type;if(o.type&&o.type!==i&&(n.destroyDatasetMeta(e),o=n.getDatasetMeta(e)),o.type=i,o.order=s.order||0,o.index=e,o.controller)o.controller.updateIndex(e),o.controller.linkScales();else{var u=Qe[o.type];if(void 0===u)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new u(n,e),a.push(o.controller)}}return a},resetElements:function(){var e=this;W.each(e.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t,n,a=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),qt(a),Et._invalidate(a),!1!==Et.notify(a,"beforeUpdate")){a.tooltip._data=a.data;var r=a.buildOrUpdateControllers();for(t=0,n=a.data.datasets.length;t<n;t++)a.getDatasetMeta(t).controller.buildOrUpdateElements();a.updateLayout(),a.options.animation&&a.options.animation.duration&&W.each(r,(function(e){e.reset()})),a.updateDatasets(),a.tooltip.initialize(),a.lastActive=[],Et.notify(a,"afterUpdate"),a._layers.sort(Jt("z","_idx")),a._bufferedRender?a._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:a.render(e)}},updateLayout:function(){var e=this;!1!==Et.notify(e,"beforeLayout")&&(ft.update(this,this.width,this.height),e._layers=[],W.each(e.boxes,(function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers())}),e),e._layers.forEach((function(e,t){e._idx=t})),Et.notify(e,"afterScaleUpdate"),Et.notify(e,"afterLayout"))},updateDatasets:function(){var e=this;if(!1!==Et.notify(e,"beforeDatasetsUpdate")){for(var t=0,n=e.data.datasets.length;t<n;++t)e.updateDataset(t);Et.notify(e,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this,n=t.getDatasetMeta(e),a={meta:n,index:e};!1!==Et.notify(t,"beforeDatasetUpdate",[a])&&(n.controller._update(),Et.notify(t,"afterDatasetUpdate",[a]))},render:function(e){var t=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var n=t.options.animation,a=Vt(e.duration,n&&n.duration),r=e.lazy;if(!1!==Et.notify(t,"beforeRender")){var s=function(e){Et.notify(t,"afterRender"),W.callback(n&&n.onComplete,[e],t)};if(n&&a){var o=new J({numSteps:a/16.66,easing:e.easing||n.easing,render:function(e,t){var n=W.easing.effects[t.easing],a=t.currentStep,r=a/t.numSteps;e.draw(n(r),r,a)},onAnimationProgress:n.onProgress,onAnimationComplete:s});Q.addAnimation(t,o,a,r)}else t.draw(),s(new J({numSteps:0,chart:t}));return t}},draw:function(e){var t,n,a=this;if(a.clear(),W.isNullOrUndef(e)&&(e=1),a.transition(e),!(a.width<=0||a.height<=0)&&!1!==Et.notify(a,"beforeDraw",[e])){for(n=a._layers,t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(a.chartArea);for(a.drawDatasets(e);t<n.length;++t)n[t].draw(a.chartArea);a._drawTooltip(e),Et.notify(a,"afterDraw",[e])}},transition:function(e){for(var t=this,n=0,a=(t.data.datasets||[]).length;n<a;++n)t.isDatasetVisible(n)&&t.getDatasetMeta(n).controller.transition(e);t.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var t,n,a=this,r=[];for(t=0,n=(a.data.datasets||[]).length;t<n;++t)e&&!a.isDatasetVisible(t)||r.push(a.getDatasetMeta(t));return r.sort(Jt("order","index")),r},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var t,n,a=this;if(!1!==Et.notify(a,"beforeDatasetsDraw",[e])){for(n=(t=a._getSortedVisibleDatasetMetas()).length-1;n>=0;--n)a.drawDataset(t[n],e);Et.notify(a,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n={meta:e,index:e.index,easingValue:t};!1!==Et.notify(this,"beforeDatasetDraw",[n])&&(e.controller.draw(t),Et.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(e){var t=this,n=t.tooltip,a={tooltip:n,easingValue:e};!1!==Et.notify(t,"beforeTooltipDraw",[a])&&(n.draw(),Et.notify(t,"afterTooltipDraw",[a]))},getElementAtEvent:function(e){return st.modes.single(this,e)},getElementsAtEvent:function(e){return st.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return st.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var a=st.modes[t];return"function"==typeof a?a(this,e,n):[]},getDatasetAtEvent:function(e){return st.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var a=n._meta[t.id];return a||(a=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n.order||0,index:e}),a},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],a=n._meta&&n._meta[t];a&&(a.controller.destroy(),delete n._meta[t])},destroy:function(){var e,t,n=this,a=n.canvas;for(n.stop(),e=0,t=n.data.datasets.length;e<t;++e)n.destroyDatasetMeta(e);a&&(n.unbindEvents(),W.canvas.clear(n),Ct.releaseContext(n.ctx),n.canvas=null,n.ctx=null),Et.notify(n,"destroy"),delete Qt.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new jt({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};W.each(e.options.events,(function(a){Ct.addEventListener(e,a,n),t[a]=n})),e.options.responsive&&(n=function(){e.resize()},Ct.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,W.each(t,(function(t,n){Ct.removeEventListener(e,n,t)})))},updateHoverStyle:function(e,t,n){var a,r,s,o=n?"set":"remove";for(r=0,s=e.length;r<s;++r)(a=e[r])&&this.getDatasetMeta(a._datasetIndex).controller[o+"HoverStyle"](a);"dataset"===t&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+o+"DatasetHoverStyle"]()},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==Et.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var a=t.handleEvent(e);n&&(a=n._start?n.handleEvent(e):a|n.handleEvent(e)),Et.notify(t,"afterEvent",[e]);var r=t._bufferedRequest;return r?t.render(r):a&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t,n=this,a=n.options||{},r=a.hover;return n.lastActive=n.lastActive||[],"mouseout"===e.type?n.active=[]:n.active=n.getElementsAtEventForMode(e,r.mode,r),W.callback(a.onHover||a.hover.onHover,[e.native,n.active],n),"mouseup"!==e.type&&"click"!==e.type||a.onClick&&a.onClick.call(n,e.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),t=!W.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}}),Qt.instances={};var Zt=Qt;Qt.Controller=Qt,Qt.types={},W.configMerge=Gt,W.scaleMerge=Ut;function en(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function tn(e){this.options=e||{}}W.extend(tn.prototype,{formats:en,parse:en,format:en,add:en,diff:en,startOf:en,endOf:en,_create:function(e){return e}}),tn.override=function(e){W.extend(tn.prototype,e)};var nn={_date:tn},an={formatters:{values:function(e){return W.isArray(e)?e:""+e},linear:function(e,t,n){var a=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(a)>1&&e!==Math.floor(e)&&(a=e-Math.floor(e));var r=W.log10(Math.abs(a)),s="";if(0!==e)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var o=W.log10(Math.abs(e)),i=Math.floor(o)-Math.floor(r);i=Math.max(Math.min(i,20),0),s=e.toExponential(i)}else{var u=-1*Math.floor(r);u=Math.max(Math.min(u,20),0),s=e.toFixed(u)}else s="0";return s},logarithmic:function(e,t,n){var a=e/Math.pow(10,Math.floor(W.log10(e)));return 0===e?"0":1===a||2===a||5===a||0===t||t===n.length-1?e.toExponential():""}}},rn=W.isArray,sn=W.isNullOrUndef,on=W.valueOrDefault,un=W.valueAtIndexOrDefault;function ln(e,t,n){var a,r=e.getTicks().length,s=Math.min(t,r-1),o=e.getPixelForTick(s),i=e._startPixel,u=e._endPixel,l=1e-6;if(!(n&&(a=1===r?Math.max(o-i,u-o):0===t?(e.getPixelForTick(1)-o)/2:(o-e.getPixelForTick(s-1))/2,(o+=s<t?a:-a)<i-l||o>u+l)))return o}function dn(e,t,n,a){var r,s,o,i,u,l,d,c,h,p,m,f,_,g=n.length,y=[],b=[],v=[],x=0,k=0;for(r=0;r<g;++r){if(i=n[r].label,u=n[r].major?t.major:t.minor,e.font=l=u.string,d=a[l]=a[l]||{data:{},gc:[]},c=u.lineHeight,h=p=0,sn(i)||rn(i)){if(rn(i))for(s=0,o=i.length;s<o;++s)m=i[s],sn(m)||rn(m)||(h=W.measureText(e,d.data,d.gc,h,m),p+=c)}else h=W.measureText(e,d.data,d.gc,h,i),p=c;y.push(h),b.push(p),v.push(c/2),x=Math.max(h,x),k=Math.max(p,k)}function M(e){return{width:y[e]||0,height:b[e]||0,offset:v[e]||0}}return function(e,t){W.each(e,(function(e){var n,a=e.gc,r=a.length/2;if(r>t){for(n=0;n<r;++n)delete e.data[a[n]];a.splice(0,r)}}))}(a,g),f=y.indexOf(x),_=b.indexOf(k),{first:M(0),last:M(g-1),widest:M(f),highest:M(_)}}function cn(e){return e.drawTicks?e.tickMarkLength:0}function hn(e){var t,n;return e.display?(t=W.options._parseFont(e),n=W.options.toPadding(e.padding),t.lineHeight+n.height):0}function pn(e,t){return W.extend(W.options._parseFont({fontFamily:on(t.fontFamily,e.fontFamily),fontSize:on(t.fontSize,e.fontSize),fontStyle:on(t.fontStyle,e.fontStyle),lineHeight:on(t.lineHeight,e.lineHeight)}),{color:W.options.resolve([t.fontColor,e.fontColor,O.global.defaultFontColor])})}function mn(e){var t=pn(e,e.minor);return{minor:t,major:e.major.enabled?pn(e,e.major):t}}function fn(e){var t,n,a,r=[];for(n=0,a=e.length;n<a;++n)void 0!==(t=e[n])._index&&r.push(t);return r}function _n(e,t,n,a){var r,s,o,i,u=on(n,0),l=Math.min(on(a,e.length),e.length),d=0;for(t=Math.ceil(t),a&&(t=(r=a-n)/Math.floor(r/t)),i=u;i<0;)d++,i=Math.round(u+d*t);for(s=Math.max(u,0);s<l;s++)o=e[s],s===i?(o._index=s,d++,i=Math.round(u+d*t)):delete o.label}O._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:an.formatters.values,minor:{},major:{}}});var gn=X.extend({zeroLineIndex:0,getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){W.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var a,r,s,o,i,u=this,l=u.options.ticks,d=l.sampleSize;if(u.beforeUpdate(),u.maxWidth=e,u.maxHeight=t,u.margins=W.extend({left:0,right:0,top:0,bottom:0},n),u._ticks=null,u.ticks=null,u._labelSizes=null,u._maxLabelLines=0,u.longestLabelWidth=0,u.longestTextCache=u.longestTextCache||{},u._gridLineItems=null,u._labelItems=null,u.beforeSetDimensions(),u.setDimensions(),u.afterSetDimensions(),u.beforeDataLimits(),u.determineDataLimits(),u.afterDataLimits(),u.beforeBuildTicks(),o=u.buildTicks()||[],(!(o=u.afterBuildTicks(o)||o)||!o.length)&&u.ticks)for(o=[],a=0,r=u.ticks.length;a<r;++a)o.push({value:u.ticks[a],major:!1});return u._ticks=o,i=d<o.length,s=u._convertTicksToLabels(i?function(e,t){for(var n=[],a=e.length/t,r=0,s=e.length;r<s;r+=a)n.push(e[Math.floor(r)]);return n}(o,d):o),u._configure(),u.beforeCalculateTickRotation(),u.calculateTickRotation(),u.afterCalculateTickRotation(),u.beforeFit(),u.fit(),u.afterFit(),u._ticksToDraw=l.display&&(l.autoSkip||"auto"===l.source)?u._autoSkip(o):o,i&&(s=u._convertTicksToLabels(u._ticksToDraw)),u.ticks=s,u.afterUpdate(),u.minSize},_configure:function(){var e,t,n=this,a=n.options.ticks.reverse;n.isHorizontal()?(e=n.left,t=n.right):(e=n.top,t=n.bottom,a=!a),n._startPixel=e,n._endPixel=t,n._reversePixels=a,n._length=t-e},afterUpdate:function(){W.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){W.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){W.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){W.callback(this.options.beforeDataLimits,[this])},determineDataLimits:W.noop,afterDataLimits:function(){W.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){W.callback(this.options.beforeBuildTicks,[this])},buildTicks:W.noop,afterBuildTicks:function(e){var t=this;return rn(e)&&e.length?W.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=W.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){W.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,t=e.options.ticks;e.ticks=e.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){W.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){W.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e,t,n,a,r,s,o,i=this,u=i.options,l=u.ticks,d=i.getTicks().length,c=l.minRotation||0,h=l.maxRotation,p=c;!i._isVisible()||!l.display||c>=h||d<=1||!i.isHorizontal()?i.labelRotation=c:(t=(e=i._getLabelSizes()).widest.width,n=e.highest.height-e.highest.offset,a=Math.min(i.maxWidth,i.chart.width-t),t+6>(r=u.offset?i.maxWidth/d:a/(d-1))&&(r=a/(d-(u.offset?.5:1)),s=i.maxHeight-cn(u.gridLines)-l.padding-hn(u.scaleLabel),o=Math.sqrt(t*t+n*n),p=W.toDegrees(Math.min(Math.asin(Math.min((e.highest.height+6)/r,1)),Math.asin(Math.min(s/o,1))-Math.asin(n/o))),p=Math.max(c,Math.min(h,p))),i.labelRotation=p)},afterCalculateTickRotation:function(){W.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){W.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=e.chart,a=e.options,r=a.ticks,s=a.scaleLabel,o=a.gridLines,i=e._isVisible(),u="bottom"===a.position,l=e.isHorizontal();if(l?t.width=e.maxWidth:i&&(t.width=cn(o)+hn(s)),l?i&&(t.height=cn(o)+hn(s)):t.height=e.maxHeight,r.display&&i){var d=mn(r),c=e._getLabelSizes(),h=c.first,p=c.last,m=c.widest,f=c.highest,_=.4*d.minor.lineHeight,g=r.padding;if(l){var y=0!==e.labelRotation,b=W.toRadians(e.labelRotation),v=Math.cos(b),x=Math.sin(b),k=x*m.width+v*(f.height-(y?f.offset:0))+(y?0:_);t.height=Math.min(e.maxHeight,t.height+k+g);var M,w,T=e.getPixelForTick(0)-e.left,L=e.right-e.getPixelForTick(e.getTicks().length-1);y?(M=u?v*h.width+x*h.offset:x*(h.height-h.offset),w=u?x*(p.height-p.offset):v*p.width+x*p.offset):(M=h.width/2,w=p.width/2),e.paddingLeft=Math.max((M-T)*e.width/(e.width-T),0)+3,e.paddingRight=Math.max((w-L)*e.width/(e.width-L),0)+3}else{var S=r.mirror?0:m.width+g+_;t.width=Math.min(e.maxWidth,t.width+S),e.paddingTop=h.height/2,e.paddingBottom=p.height/2}}e.handleMargins(),l?(e.width=e._length=n.width-e.margins.left-e.margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){W.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(sn(e))return NaN;if(("number"==typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},_convertTicksToLabels:function(e){var t,n,a,r=this;for(r.ticks=e.map((function(e){return e.value})),r.beforeTickToLabelConversion(),t=r.convertTicksToLabels(e)||r.ticks,r.afterTickToLabelConversion(),n=0,a=e.length;n<a;++n)e[n].label=t[n];return t},_getLabelSizes:function(){var e=this,t=e._labelSizes;return t||(e._labelSizes=t=dn(e.ctx,mn(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=t.widest.width),t},_parseValue:function(e){var t,n,a,r;return rn(e)?(t=+this.getRightValue(e[0]),n=+this.getRightValue(e[1]),a=Math.min(t,n),r=Math.max(t,n)):(t=void 0,n=e=+this.getRightValue(e),a=e,r=e),{min:a,max:r,start:t,end:n}},_getScaleLabel:function(e){var t=this._parseValue(e);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(e)},getLabelForIndex:W.noop,getPixelForValue:W.noop,getValueForPixel:W.noop,getPixelForTick:function(e){var t=this,n=t.options.offset,a=t._ticks.length,r=1/Math.max(a-(n?0:1),1);return e<0||e>a-1?null:t.getPixelForDecimal(e*r+(n?r/2:0))},getPixelForDecimal:function(e){var t=this;return t._reversePixels&&(e=1-e),t._startPixel+e*t._length},getDecimalForPixel:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,t=e.min,n=e.max;return e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0},_autoSkip:function(e){var t,n,a,r,s=this,o=s.options.ticks,i=s._length,u=o.maxTicksLimit||i/s._tickSize()+1,l=o.major.enabled?function(e){var t,n,a=[];for(t=0,n=e.length;t<n;t++)e[t].major&&a.push(t);return a}(e):[],d=l.length,c=l[0],h=l[d-1];if(d>u)return function(e,t,n){var a,r,s=0,o=t[0];for(n=Math.ceil(n),a=0;a<e.length;a++)r=e[a],a===o?(r._index=a,o=t[++s*n]):delete r.label}(e,l,d/u),fn(e);if(a=function(e,t,n,a){var r,s,o,i,u=function(e){var t,n,a=e.length;if(a<2)return!1;for(n=e[0],t=1;t<a;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),l=(t.length-1)/a;if(!u)return Math.max(l,1);for(o=0,i=(r=W.math._factorize(u)).length-1;o<i;o++)if((s=r[o])>l)return s;return Math.max(l,1)}(l,e,0,u),d>0){for(t=0,n=d-1;t<n;t++)_n(e,a,l[t],l[t+1]);return r=d>1?(h-c)/(d-1):null,_n(e,a,W.isNullOrUndef(r)?0:c-r,c),_n(e,a,h,W.isNullOrUndef(r)?e.length:h+r),fn(e)}return _n(e,a),fn(e)},_tickSize:function(){var e=this,t=e.options.ticks,n=W.toRadians(e.labelRotation),a=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=e._getLabelSizes(),o=t.autoSkipPadding||0,i=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return e.isHorizontal()?u*a>i*r?i/a:u/r:u*r<i*a?u/a:i/r},_isVisible:function(){var e,t,n,a=this,r=a.chart,s=a.options.display;if("auto"!==s)return!!s;for(e=0,t=r.data.datasets.length;e<t;++e)if(r.isDatasetVisible(e)&&((n=r.getDatasetMeta(e)).xAxisID===a.id||n.yAxisID===a.id))return!0;return!1},_computeGridLineItems:function(e){var t,n,a,r,s,o,i,u,l,d,c,h,p,m,f,_,g,y=this,b=y.chart,v=y.options,x=v.gridLines,k=v.position,M=x.offsetGridLines,w=y.isHorizontal(),T=y._ticksToDraw,L=T.length+(M?1:0),S=cn(x),D=[],I=x.drawBorder?un(x.lineWidth,0,0):0,N=I/2,C=W._alignPixel,E=function(e){return C(b,e,I)};for("top"===k?(t=E(y.bottom),i=y.bottom-S,l=t-N,c=E(e.top)+N,p=e.bottom):"bottom"===k?(t=E(y.top),c=e.top,p=E(e.bottom)-N,i=t+N,l=y.top+S):"left"===k?(t=E(y.right),o=y.right-S,u=t-N,d=E(e.left)+N,h=e.right):(t=E(y.left),d=e.left,h=E(e.right)-N,o=t+N,u=y.left+S),n=0;n<L;++n)a=T[n]||{},sn(a.label)&&n<T.length||(n===y.zeroLineIndex&&v.offset===M?(m=x.zeroLineWidth,f=x.zeroLineColor,_=x.zeroLineBorderDash||[],g=x.zeroLineBorderDashOffset||0):(m=un(x.lineWidth,n,1),f=un(x.color,n,"rgba(0,0,0,0.1)"),_=x.borderDash||[],g=x.borderDashOffset||0),void 0!==(r=ln(y,a._index||n,M))&&(s=C(b,r,m),w?o=u=d=h=s:i=l=c=p=s,D.push({tx1:o,ty1:i,tx2:u,ty2:l,x1:d,y1:c,x2:h,y2:p,width:m,color:f,borderDash:_,borderDashOffset:g})));return D.ticksLength=L,D.borderValue=t,D},_computeLabelItems:function(){var e,t,n,a,r,s,o,i,u,l,d,c,h=this,p=h.options,m=p.ticks,f=p.position,_=m.mirror,g=h.isHorizontal(),y=h._ticksToDraw,b=mn(m),v=m.padding,x=cn(p.gridLines),k=-W.toRadians(h.labelRotation),M=[];for("top"===f?(s=h.bottom-x-v,o=k?"left":"center"):"bottom"===f?(s=h.top+x+v,o=k?"right":"center"):"left"===f?(r=h.right-(_?0:x)-v,o=_?"left":"right"):(r=h.left+(_?0:x)+v,o=_?"right":"left"),e=0,t=y.length;e<t;++e)a=(n=y[e]).label,sn(a)||(i=h.getPixelForTick(n._index||e)+m.labelOffset,l=(u=n.major?b.major:b.minor).lineHeight,d=rn(a)?a.length:1,g?(r=i,c="top"===f?((k?1:.5)-d)*l:(k?0:.5)*l):(s=i,c=(1-d)*l/2),M.push({x:r,y:s,rotation:k,label:a,font:u,textOffset:c,textAlign:o}));return M},_drawGrid:function(e){var t=this,n=t.options.gridLines;if(n.display){var a,r,s,o,i,u=t.ctx,l=t.chart,d=W._alignPixel,c=n.drawBorder?un(n.lineWidth,0,0):0,h=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e));for(s=0,o=h.length;s<o;++s)a=(i=h[s]).width,r=i.color,a&&r&&(u.save(),u.lineWidth=a,u.strokeStyle=r,u.setLineDash&&(u.setLineDash(i.borderDash),u.lineDashOffset=i.borderDashOffset),u.beginPath(),n.drawTicks&&(u.moveTo(i.tx1,i.ty1),u.lineTo(i.tx2,i.ty2)),n.drawOnChartArea&&(u.moveTo(i.x1,i.y1),u.lineTo(i.x2,i.y2)),u.stroke(),u.restore());if(c){var p,m,f,_,g=c,y=un(n.lineWidth,h.ticksLength-1,1),b=h.borderValue;t.isHorizontal()?(p=d(l,t.left,g)-g/2,m=d(l,t.right,y)+y/2,f=_=b):(f=d(l,t.top,g)-g/2,_=d(l,t.bottom,y)+y/2,p=m=b),u.lineWidth=c,u.strokeStyle=un(n.color,0),u.beginPath(),u.moveTo(p,f),u.lineTo(m,_),u.stroke()}}},_drawLabels:function(){var e=this;if(e.options.ticks.display){var t,n,a,r,s,o,i,u,l=e.ctx,d=e._labelItems||(e._labelItems=e._computeLabelItems());for(t=0,a=d.length;t<a;++t){if(o=(s=d[t]).font,l.save(),l.translate(s.x,s.y),l.rotate(s.rotation),l.font=o.string,l.fillStyle=o.color,l.textBaseline="middle",l.textAlign=s.textAlign,i=s.label,u=s.textOffset,rn(i))for(n=0,r=i.length;n<r;++n)l.fillText(""+i[n],0,u),u+=o.lineHeight;else l.fillText(i,0,u);l.restore()}}},_drawTitle:function(){var e=this,t=e.ctx,n=e.options,a=n.scaleLabel;if(a.display){var r,s,o=on(a.fontColor,O.global.defaultFontColor),i=W.options._parseFont(a),u=W.options.toPadding(a.padding),l=i.lineHeight/2,d=n.position,c=0;if(e.isHorizontal())r=e.left+e.width/2,s="bottom"===d?e.bottom-l-u.bottom:e.top+l+u.top;else{var h="left"===d;r=h?e.left+l+u.top:e.right-l-u.top,s=e.top+e.height/2,c=h?-.5*Math.PI:.5*Math.PI}t.save(),t.translate(r,s),t.rotate(c),t.textAlign="center",t.textBaseline="middle",t.fillStyle=o,t.font=i.string,t.fillText(a.labelString,0,0),t.restore()}},draw:function(e){var t=this;t._isVisible()&&(t._drawGrid(e),t._drawTitle(),t._drawLabels())},_layers:function(){var e=this,t=e.options,n=t.ticks&&t.ticks.z||0,a=t.gridLines&&t.gridLines.z||0;return e._isVisible()&&n!==a&&e.draw===e._draw?[{z:a,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:n,draw:function(){e._drawLabels.apply(e,arguments)}}]:[{z:n,draw:function(){e.draw.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var t=this,n=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter((function(a){return(!e||a.type===e)&&(n?a.xAxisID===t.id:a.yAxisID===t.id)}))}});gn.prototype._draw=gn.prototype.draw;var yn=gn,bn=W.isNullOrUndef,vn=yn.extend({determineDataLimits:function(){var e,t=this,n=t._getLabels(),a=t.options.ticks,r=a.min,s=a.max,o=0,i=n.length-1;void 0!==r&&(e=n.indexOf(r))>=0&&(o=e),void 0!==s&&(e=n.indexOf(s))>=0&&(i=e),t.minIndex=o,t.maxIndex=i,t.min=n[o],t.max=n[i]},buildTicks:function(){var e=this,t=e._getLabels(),n=e.minIndex,a=e.maxIndex;e.ticks=0===n&&a===t.length-1?t:t.slice(n,a+1)},getLabelForIndex:function(e,t){var n=this,a=n.chart;return a.getDatasetMeta(t).controller._getValueScaleId()===n.id?n.getRightValue(a.data.datasets[t].data[e]):n._getLabels()[e]},_configure:function(){var e=this,t=e.options.offset,n=e.ticks;yn.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),n&&(e._startValue=e.minIndex-(t?.5:0),e._valueRange=Math.max(n.length-(t?0:1),1))},getPixelForValue:function(e,t,n){var a,r,s,o=this;return bn(t)||bn(n)||(e=o.chart.data.datasets[n].data[t]),bn(e)||(a=o.isHorizontal()?e.x:e.y),(void 0!==a||void 0!==e&&isNaN(t))&&(r=o._getLabels(),e=W.valueOrDefault(a,e),t=-1!==(s=r.indexOf(e))?s:t,isNaN(t)&&(t=e)),o.getPixelForDecimal((t-o._startValue)/o._valueRange)},getPixelForTick:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e],e+this.minIndex)},getValueForPixel:function(e){var t=this,n=Math.round(t._startValue+t.getDecimalForPixel(e)*t._valueRange);return Math.min(Math.max(n,0),t.ticks.length-1)},getBasePixel:function(){return this.bottom}}),xn={position:"bottom"};vn._defaults=xn;var kn=W.noop,Mn=W.isNullOrUndef;var wn=yn.extend({getRightValue:function(e){return"string"==typeof e?+e:yn.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=W.sign(e.min),a=W.sign(e.max);n<0&&a<0?e.max=0:n>0&&a>0&&(e.min=0)}var r=void 0!==t.min||void 0!==t.suggestedMin,s=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(null===e.min?e.min=t.suggestedMin:e.min=Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(null===e.max?e.max=t.suggestedMax:e.max=Math.max(e.max,t.suggestedMax)),r!==s&&e.min>=e.max&&(r?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:function(){var e,t=this,n=t.options.ticks,a=n.stepSize,r=n.maxTicksLimit;return a?e=Math.ceil(t.max/a)-Math.floor(t.min/a)+1:(e=t._computeTickLimit(),r=r||11),r&&(e=Math.min(r,e)),e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:kn,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),a={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,precision:t.precision,stepSize:W.valueOrDefault(t.fixedStepSize,t.stepSize)},r=e.ticks=function(e,t){var n,a,r,s,o=[],i=e.stepSize,u=i||1,l=e.maxTicks-1,d=e.min,c=e.max,h=e.precision,p=t.min,m=t.max,f=W.niceNum((m-p)/l/u)*u;if(f<1e-14&&Mn(d)&&Mn(c))return[p,m];(s=Math.ceil(m/f)-Math.floor(p/f))>l&&(f=W.niceNum(s*f/l/u)*u),i||Mn(h)?n=Math.pow(10,W._decimalPlaces(f)):(n=Math.pow(10,h),f=Math.ceil(f*n)/n),a=Math.floor(p/f)*f,r=Math.ceil(m/f)*f,i&&(!Mn(d)&&W.almostWhole(d/f,f/1e3)&&(a=d),!Mn(c)&&W.almostWhole(c/f,f/1e3)&&(r=c)),s=(r-a)/f,s=W.almostEquals(s,Math.round(s),f/1e3)?Math.round(s):Math.ceil(s),a=Math.round(a*n)/n,r=Math.round(r*n)/n,o.push(Mn(d)?a:d);for(var _=1;_<s;++_)o.push(Math.round((a+_*f)*n)/n);return o.push(Mn(c)?r:c),o}(a,e);e.handleDirectionalChanges(),e.max=W.max(r),e.min=W.min(r),t.reverse?(r.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),yn.prototype.convertTicksToLabels.call(e)},_configure:function(){var e,t=this,n=t.getTicks(),a=t.min,r=t.max;yn.prototype._configure.call(t),t.options.offset&&n.length&&(a-=e=(r-a)/Math.max(n.length-1,1)/2,r+=e),t._startValue=a,t._endValue=r,t._valueRange=r-a}}),Tn={position:"left",ticks:{callback:an.formatters.linear}};function Ln(e,t,n,a){var r,s,o=e.options,i=function(e,t,n){var a=[n.type,void 0===t&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===e[a]&&(e[a]={pos:[],neg:[]}),e[a]}(t,o.stacked,n),u=i.pos,l=i.neg,d=a.length;for(r=0;r<d;++r)s=e._parseValue(a[r]),isNaN(s.min)||isNaN(s.max)||n.data[r].hidden||(u[r]=u[r]||0,l[r]=l[r]||0,o.relativePoints?u[r]=100:s.min<0||s.max<0?l[r]+=s.min:u[r]+=s.max)}function Sn(e,t,n){var a,r,s=n.length;for(a=0;a<s;++a)r=e._parseValue(n[a]),isNaN(r.min)||isNaN(r.max)||t.data[a].hidden||(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}var Dn=wn.extend({determineDataLimits:function(){var e,t,n,a,r=this,s=r.options,o=r.chart.data.datasets,i=r._getMatchingVisibleMetas(),u=s.stacked,l={},d=i.length;if(r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,void 0===u)for(e=0;!u&&e<d;++e)u=void 0!==(t=i[e]).stack;for(e=0;e<d;++e)n=o[(t=i[e]).index].data,u?Ln(r,l,t,n):Sn(r,t,n);W.each(l,(function(e){a=e.pos.concat(e.neg),r.min=Math.min(r.min,W.min(a)),r.max=Math.max(r.max,W.max(a))})),r.min=W.isFinite(r.min)&&!isNaN(r.min)?r.min:0,r.max=W.isFinite(r.max)&&!isNaN(r.max)?r.max:1,r.handleTickRangeOptions()},_computeTickLimit:function(){var e,t=this;return t.isHorizontal()?Math.ceil(t.width/40):(e=W.options._parseFont(t.options.ticks),Math.ceil(t.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t=this;return t.getPixelForDecimal((+t.getRightValue(e)-t._startValue)/t._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var t=this.ticksAsNumbers;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])}}),In=Tn;Dn._defaults=In;var Nn=W.valueOrDefault,Cn=W.math.log10;var En={position:"left",ticks:{callback:an.formatters.logarithmic}};function An(e,t){return W.isFinite(e)&&e>=0?e:t}var Yn=yn.extend({determineDataLimits:function(){var e,t,n,a,r,s,o=this,i=o.options,u=o.chart,l=u.data.datasets,d=o.isHorizontal();function c(e){return d?e.xAxisID===o.id:e.yAxisID===o.id}o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var h=i.stacked;if(void 0===h)for(e=0;e<l.length;e++)if(t=u.getDatasetMeta(e),u.isDatasetVisible(e)&&c(t)&&void 0!==t.stack){h=!0;break}if(i.stacked||h){var p={};for(e=0;e<l.length;e++){var m=[(t=u.getDatasetMeta(e)).type,void 0===i.stacked&&void 0===t.stack?e:"",t.stack].join(".");if(u.isDatasetVisible(e)&&c(t))for(void 0===p[m]&&(p[m]=[]),r=0,s=(a=l[e].data).length;r<s;r++){var f=p[m];n=o._parseValue(a[r]),isNaN(n.min)||isNaN(n.max)||t.data[r].hidden||n.min<0||n.max<0||(f[r]=f[r]||0,f[r]+=n.max)}}W.each(p,(function(e){if(e.length>0){var t=W.min(e),n=W.max(e);o.min=Math.min(o.min,t),o.max=Math.max(o.max,n)}}))}else for(e=0;e<l.length;e++)if(t=u.getDatasetMeta(e),u.isDatasetVisible(e)&&c(t))for(r=0,s=(a=l[e].data).length;r<s;r++)n=o._parseValue(a[r]),isNaN(n.min)||isNaN(n.max)||t.data[r].hidden||n.min<0||n.max<0||(o.min=Math.min(n.min,o.min),o.max=Math.max(n.max,o.max),0!==n.min&&(o.minNotZero=Math.min(n.min,o.minNotZero)));o.min=W.isFinite(o.min)?o.min:null,o.max=W.isFinite(o.max)?o.max:null,o.minNotZero=W.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;e.min=An(t.min,e.min),e.max=An(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(Cn(e.min))-1),e.max=Math.pow(10,Math.floor(Cn(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(Cn(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(Cn(e.min))+1):10),null===e.minNotZero&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(Cn(e.max))):e.minNotZero=1)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),a={min:An(t.min),max:An(t.max)},r=e.ticks=function(e,t){var n,a,r=[],s=Nn(e.min,Math.pow(10,Math.floor(Cn(t.min)))),o=Math.floor(Cn(t.max)),i=Math.ceil(t.max/Math.pow(10,o));0===s?(n=Math.floor(Cn(t.minNotZero)),a=Math.floor(t.minNotZero/Math.pow(10,n)),r.push(s),s=a*Math.pow(10,n)):(n=Math.floor(Cn(s)),a=Math.floor(s/Math.pow(10,n)));var u=n<0?Math.pow(10,Math.abs(n)):1;do{r.push(s),10==++a&&(a=1,u=++n>=0?1:u),s=Math.round(a*Math.pow(10,n)*u)/u}while(n<o||n===o&&a<i);var l=Nn(e.max,s);return r.push(l),r}(a,e);e.max=W.max(r),e.min=W.min(r),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),yn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){var t=this.tickValues;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])},_getFirstTickValue:function(e){var t=Math.floor(Cn(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var e=this,t=e.min,n=0;yn.prototype._configure.call(e),0===t&&(t=e._getFirstTickValue(e.minNotZero),n=Nn(e.options.ticks.fontSize,O.global.defaultFontSize)/e._length),e._startValue=Cn(t),e._valueOffset=n,e._valueRange=(Cn(e.max)-Cn(t))/(1-n)},getPixelForValue:function(e){var t=this,n=0;return(e=+t.getRightValue(e))>t.min&&e>0&&(n=(Cn(e)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(n)},getValueForPixel:function(e){var t=this,n=t.getDecimalForPixel(e);return 0===n&&0===t.min?0:Math.pow(10,t._startValue+(n-t._valueOffset)*t._valueRange)}}),Fn=En;Yn._defaults=Fn;var Rn=W.valueOrDefault,On=W.valueAtIndexOrDefault,$n=W.options.resolve,Pn={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:an.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function Hn(e){var t=e.ticks;return t.display&&e.display?Rn(t.fontSize,O.global.defaultFontSize)+2*t.backdropPaddingY:0}function Bn(e,t,n,a,r){return e===a||e===r?{start:t-n/2,end:t+n/2}:e<a||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function Wn(e){return 0===e||180===e?"center":e<180?"left":"right"}function zn(e,t,n,a){var r,s,o=n.y+a/2;if(W.isArray(t))for(r=0,s=t.length;r<s;++r)e.fillText(t[r],n.x,o),o+=a;else e.fillText(t,n.x,o)}function jn(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function Vn(e){return W.isNumber(e)?e:0}var Un=wn.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=Hn(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;W.each(t.data.datasets,(function(r,s){if(t.isDatasetVisible(s)){var o=t.getDatasetMeta(s);W.each(r.data,(function(t,r){var s=+e.getRightValue(t);isNaN(s)||o.data[r].hidden||(n=Math.min(s,n),a=Math.max(s,a))}))}})),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=a===Number.NEGATIVE_INFINITY?0:a,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Hn(this.options))},convertTicksToLabels:function(){var e=this;wn.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map((function(){var t=W.callback(e.options.pointLabels.callback,arguments,e);return t||0===t?t:""}))},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this,t=e.options;t.display&&t.pointLabels.display?function(e){var t,n,a,r=W.options._parseFont(e.options.pointLabels),s={l:0,r:e.width,t:0,b:e.height-e.paddingTop},o={};e.ctx.font=r.string,e._pointLabelSizes=[];var i,u,l,d=e.chart.data.labels.length;for(t=0;t<d;t++){a=e.getPointPosition(t,e.drawingArea+5),i=e.ctx,u=r.lineHeight,l=e.pointLabels[t],n=W.isArray(l)?{w:W.longestText(i,i.font,l),h:l.length*u}:{w:i.measureText(l).width,h:u},e._pointLabelSizes[t]=n;var c=e.getIndexAngle(t),h=W.toDegrees(c)%360,p=Bn(h,a.x,n.w,0,180),m=Bn(h,a.y,n.h,90,270);p.start<s.l&&(s.l=p.start,o.l=c),p.end>s.r&&(s.r=p.end,o.r=c),m.start<s.t&&(s.t=m.start,o.t=c),m.end>s.b&&(s.b=m.end,o.b=c)}e.setReductions(e.drawingArea,s,o)}(e):e.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var a=this,r=t.l/Math.sin(n.l),s=Math.max(t.r-a.width,0)/Math.sin(n.r),o=-t.t/Math.cos(n.t),i=-Math.max(t.b-(a.height-a.paddingTop),0)/Math.cos(n.b);r=Vn(r),s=Vn(s),o=Vn(o),i=Vn(i),a.drawingArea=Math.min(Math.floor(e-(r+s)/2),Math.floor(e-(o+i)/2)),a.setCenterPoint(r,s,o,i)},setCenterPoint:function(e,t,n,a){var r=this,s=r.width-t-r.drawingArea,o=e+r.drawingArea,i=n+r.drawingArea,u=r.height-r.paddingTop-a-r.drawingArea;r.xCenter=Math.floor((o+s)/2+r.left),r.yCenter=Math.floor((i+u)/2+r.top+r.paddingTop)},getIndexAngle:function(e){var t=this.chart,n=(e*(360/t.data.labels.length)+((t.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(W.isNullOrUndef(e))return NaN;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,a=n.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(a)*t+n.xCenter,y:Math.sin(a)*t+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(e){var t=this,n=t.min,a=t.max;return t.getPointPositionForValue(e||0,t.beginAtZero?0:n<0&&a<0?a:n>0&&a>0?n:0)},_drawGrid:function(){var e,t,n,a=this,r=a.ctx,s=a.options,o=s.gridLines,i=s.angleLines,u=Rn(i.lineWidth,o.lineWidth),l=Rn(i.color,o.color);if(s.pointLabels.display&&function(e){var t=e.ctx,n=e.options,a=n.pointLabels,r=Hn(n),s=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),o=W.options._parseFont(a);t.save(),t.font=o.string,t.textBaseline="middle";for(var i=e.chart.data.labels.length-1;i>=0;i--){var u=0===i?r/2:0,l=e.getPointPosition(i,s+u+5),d=On(a.fontColor,i,O.global.defaultFontColor);t.fillStyle=d;var c=e.getIndexAngle(i),h=W.toDegrees(c);t.textAlign=Wn(h),jn(h,e._pointLabelSizes[i],l),zn(t,e.pointLabels[i],l,o.lineHeight)}t.restore()}(a),o.display&&W.each(a.ticks,(function(e,n){0!==n&&(t=a.getDistanceFromCenterForValue(a.ticksAsNumbers[n]),function(e,t,n,a){var r,s=e.ctx,o=t.circular,i=e.chart.data.labels.length,u=On(t.color,a-1),l=On(t.lineWidth,a-1);if((o||i)&&u&&l){if(s.save(),s.strokeStyle=u,s.lineWidth=l,s.setLineDash&&(s.setLineDash(t.borderDash||[]),s.lineDashOffset=t.borderDashOffset||0),s.beginPath(),o)s.arc(e.xCenter,e.yCenter,n,0,2*Math.PI);else{r=e.getPointPosition(0,n),s.moveTo(r.x,r.y);for(var d=1;d<i;d++)r=e.getPointPosition(d,n),s.lineTo(r.x,r.y)}s.closePath(),s.stroke(),s.restore()}}(a,o,t,n))})),i.display&&u&&l){for(r.save(),r.lineWidth=u,r.strokeStyle=l,r.setLineDash&&(r.setLineDash($n([i.borderDash,o.borderDash,[]])),r.lineDashOffset=$n([i.borderDashOffset,o.borderDashOffset,0])),e=a.chart.data.labels.length-1;e>=0;e--)t=a.getDistanceFromCenterForValue(s.ticks.reverse?a.min:a.max),n=a.getPointPosition(e,t),r.beginPath(),r.moveTo(a.xCenter,a.yCenter),r.lineTo(n.x,n.y),r.stroke();r.restore()}},_drawLabels:function(){var e=this,t=e.ctx,n=e.options.ticks;if(n.display){var a,r,s=e.getIndexAngle(0),o=W.options._parseFont(n),i=Rn(n.fontColor,O.global.defaultFontColor);t.save(),t.font=o.string,t.translate(e.xCenter,e.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",W.each(e.ticks,(function(s,u){(0!==u||n.reverse)&&(a=e.getDistanceFromCenterForValue(e.ticksAsNumbers[u]),n.showLabelBackdrop&&(r=t.measureText(s).width,t.fillStyle=n.backdropColor,t.fillRect(-r/2-n.backdropPaddingX,-a-o.size/2-n.backdropPaddingY,r+2*n.backdropPaddingX,o.size+2*n.backdropPaddingY)),t.fillStyle=i,t.fillText(s,0,-a))})),t.restore()}},_drawTitle:W.noop}),Gn=Pn;Un._defaults=Gn;var qn=W._deprecated,Xn=W.options.resolve,Kn=W.valueOrDefault,Jn=Number.MIN_SAFE_INTEGER||-9007199254740991,Qn=Number.MAX_SAFE_INTEGER||9007199254740991,Zn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ea=Object.keys(Zn);function ta(e,t){return e-t}function na(e){return W.valueOrDefault(e.time.min,e.ticks.min)}function aa(e){return W.valueOrDefault(e.time.max,e.ticks.max)}function ra(e,t,n,a){var r=function(e,t,n){for(var a,r,s,o=0,i=e.length-1;o>=0&&o<=i;){if(r=e[(a=o+i>>1)-1]||null,s=e[a],!r)return{lo:null,hi:s};if(s[t]<n)o=a+1;else{if(!(r[t]>n))return{lo:r,hi:s};i=a-1}}return{lo:s,hi:null}}(e,t,n),s=r.lo?r.hi?r.lo:e[e.length-2]:e[0],o=r.lo?r.hi?r.hi:e[e.length-1]:e[1],i=o[t]-s[t],u=i?(n-s[t])/i:0,l=(o[a]-s[a])*u;return s[a]+l}function sa(e,t){var n=e._adapter,a=e.options.time,r=a.parser,s=r||a.format,o=t;return"function"==typeof r&&(o=r(o)),W.isFinite(o)||(o="string"==typeof s?n.parse(o,s):n.parse(o)),null!==o?+o:(r||"function"!=typeof s||(o=s(t),W.isFinite(o)||(o=n.parse(o))),o)}function oa(e,t){if(W.isNullOrUndef(t))return null;var n=e.options.time,a=sa(e,e.getRightValue(t));return null===a||n.round&&(a=+e._adapter.startOf(a,n.round)),a}function ia(e,t,n,a){var r,s,o,i=ea.length;for(r=ea.indexOf(e);r<i-1;++r)if(o=(s=Zn[ea[r]]).steps?s.steps:Qn,s.common&&Math.ceil((n-t)/(o*s.size))<=a)return ea[r];return ea[i-1]}function ua(e,t,n){var a,r,s=[],o={},i=t.length;for(a=0;a<i;++a)o[r=t[a]]=a,s.push({value:r,major:!1});return 0!==i&&n?function(e,t,n,a){var r,s,o=e._adapter,i=+o.startOf(t[0].value,a),u=t[t.length-1].value;for(r=i;r<=u;r=+o.add(r,1,a))(s=n[r])>=0&&(t[s].major=!0);return t}(e,s,o,n):s}var la=yn.extend({initialize:function(){this.mergeTicksOptions(),yn.prototype.initialize.call(this)},update:function(){var e=this,t=e.options,n=t.time||(t.time={}),a=e._adapter=new nn._date(t.adapters.date);return qn("time scale",n.format,"time.format","time.parser"),qn("time scale",n.min,"time.min","ticks.min"),qn("time scale",n.max,"time.max","ticks.max"),W.mergeIf(n.displayFormats,a.formats()),yn.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),yn.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e,t,n,a,r,s,o,i=this,u=i.chart,l=i._adapter,d=i.options,c=d.time.unit||"day",h=Qn,p=Jn,m=[],f=[],_=[],g=i._getLabels();for(e=0,n=g.length;e<n;++e)_.push(oa(i,g[e]));for(e=0,n=(u.data.datasets||[]).length;e<n;++e)if(u.isDatasetVisible(e))if(r=u.data.datasets[e].data,W.isObject(r[0]))for(f[e]=[],t=0,a=r.length;t<a;++t)s=oa(i,r[t]),m.push(s),f[e][t]=s;else f[e]=_.slice(0),o||(m=m.concat(_),o=!0);else f[e]=[];_.length&&(h=Math.min(h,_[0]),p=Math.max(p,_[_.length-1])),m.length&&(m=n>1?function(e){var t,n,a,r={},s=[];for(t=0,n=e.length;t<n;++t)r[a=e[t]]||(r[a]=!0,s.push(a));return s}(m).sort(ta):m.sort(ta),h=Math.min(h,m[0]),p=Math.max(p,m[m.length-1])),h=oa(i,na(d))||h,p=oa(i,aa(d))||p,h=h===Qn?+l.startOf(Date.now(),c):h,p=p===Jn?+l.endOf(Date.now(),c)+1:p,i.min=Math.min(h,p),i.max=Math.max(h+1,p),i._table=[],i._timestamps={data:m,datasets:f,labels:_}},buildTicks:function(){var e,t,n,a=this,r=a.min,s=a.max,o=a.options,i=o.ticks,u=o.time,l=a._timestamps,d=[],c=a.getLabelCapacity(r),h=i.source,p=o.distribution;for(l="data"===h||"auto"===h&&"series"===p?l.data:"labels"===h?l.labels:function(e,t,n,a){var r,s=e._adapter,o=e.options,i=o.time,u=i.unit||ia(i.minUnit,t,n,a),l=Xn([i.stepSize,i.unitStepSize,1]),d="week"===u&&i.isoWeekday,c=t,h=[];if(d&&(c=+s.startOf(c,"isoWeek",d)),c=+s.startOf(c,d?"day":u),s.diff(n,t,u)>1e5*l)throw t+" and "+n+" are too far apart with stepSize of "+l+" "+u;for(r=c;r<n;r=+s.add(r,l,u))h.push(r);return r!==n&&"ticks"!==o.bounds||h.push(r),h}(a,r,s,c),"ticks"===o.bounds&&l.length&&(r=l[0],s=l[l.length-1]),r=oa(a,na(o))||r,s=oa(a,aa(o))||s,e=0,t=l.length;e<t;++e)(n=l[e])>=r&&n<=s&&d.push(n);return a.min=r,a.max=s,a._unit=u.unit||(i.autoSkip?ia(u.minUnit,a.min,a.max,c):function(e,t,n,a,r){var s,o;for(s=ea.length-1;s>=ea.indexOf(n);s--)if(o=ea[s],Zn[o].common&&e._adapter.diff(r,a,o)>=t-1)return o;return ea[n?ea.indexOf(n):0]}(a,d.length,u.minUnit,a.min,a.max)),a._majorUnit=i.major.enabled&&"year"!==a._unit?function(e){for(var t=ea.indexOf(e)+1,n=ea.length;t<n;++t)if(Zn[ea[t]].common)return ea[t]}(a._unit):void 0,a._table=function(e,t,n,a){if("linear"===a||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var r,s,o,i,u,l=[],d=[t];for(r=0,s=e.length;r<s;++r)(i=e[r])>t&&i<n&&d.push(i);for(d.push(n),r=0,s=d.length;r<s;++r)u=d[r+1],o=d[r-1],i=d[r],void 0!==o&&void 0!==u&&Math.round((u+o)/2)===i||l.push({time:i,pos:r/(s-1)});return l}(a._timestamps.data,r,s,p),a._offsets=function(e,t,n,a,r){var s,o,i=0,u=0;return r.offset&&t.length&&(s=ra(e,"time",t[0],"pos"),i=1===t.length?1-s:(ra(e,"time",t[1],"pos")-s)/2,o=ra(e,"time",t[t.length-1],"pos"),u=1===t.length?o:(o-ra(e,"time",t[t.length-2],"pos"))/2),{start:i,end:u,factor:1/(i+1+u)}}(a._table,d,0,0,o),i.reverse&&d.reverse(),ua(a,d,a._majorUnit)},getLabelForIndex:function(e,t){var n=this,a=n._adapter,r=n.chart.data,s=n.options.time,o=r.labels&&e<r.labels.length?r.labels[e]:"",i=r.datasets[t].data[e];return W.isObject(i)&&(o=n.getRightValue(i)),s.tooltipFormat?a.format(sa(n,o),s.tooltipFormat):"string"==typeof o?o:a.format(sa(n,o),s.displayFormats.datetime)},tickFormatFunction:function(e,t,n,a){var r=this,s=r._adapter,o=r.options,i=o.time.displayFormats,u=i[r._unit],l=r._majorUnit,d=i[l],c=n[t],h=o.ticks,p=l&&d&&c&&c.major,m=s.format(e,a||(p?d:u)),f=p?h.major:h.minor,_=Xn([f.callback,f.userCallback,h.callback,h.userCallback]);return _?_(m,t,n):m},convertTicksToLabels:function(e){var t,n,a=[];for(t=0,n=e.length;t<n;++t)a.push(this.tickFormatFunction(e[t].value,t,e));return a},getPixelForOffset:function(e){var t=this,n=t._offsets,a=ra(t._table,"time",e,"pos");return t.getPixelForDecimal((n.start+a)*n.factor)},getPixelForValue:function(e,t,n){var a=this,r=null;if(void 0!==t&&void 0!==n&&(r=a._timestamps.datasets[n][t]),null===r&&(r=oa(a,e)),null!==r)return a.getPixelForOffset(r)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,n=t._offsets,a=t.getDecimalForPixel(e)/n.factor-n.end,r=ra(t._table,"pos",a,"time");return t._adapter._create(r)},_getLabelSize:function(e){var t=this,n=t.options.ticks,a=t.ctx.measureText(e).width,r=W.toRadians(t.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),i=Kn(n.fontSize,O.global.defaultFontSize);return{w:a*s+i*o,h:a*o+i*s}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var t=this,n=t.options.time,a=n.displayFormats,r=a[n.unit]||a.millisecond,s=t.tickFormatFunction(e,0,ua(t,[e],t._majorUnit),r),o=t._getLabelSize(s),i=Math.floor(t.isHorizontal()?t.width/o.w:t.height/o.h);return t.options.offset&&i--,i>0?i:1}}),da={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};la._defaults=da;var ca={category:vn,linear:Dn,logarithmic:Yn,radialLinear:Un,time:la},ha={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};nn._date.override("function"==typeof e?{_id:"moment",formats:function(){return ha},parse:function(t,n){return"string"==typeof t&&"string"==typeof n?t=e(t,n):t instanceof e||(t=e(t)),t.isValid()?t.valueOf():null},format:function(t,n){return e(t).format(n)},add:function(t,n,a){return e(t).add(n,a).valueOf()},diff:function(t,n,a){return e(t).diff(e(n),a)},startOf:function(t,n,a){return t=e(t),"isoWeek"===n?t.isoWeekday(a).valueOf():t.startOf(n).valueOf()},endOf:function(t,n){return e(t).endOf(n).valueOf()},_create:function(t){return e(t)}}:{}),O._set("global",{plugins:{filler:{propagate:!0}}});var pa={dataset:function(e){var t=e.fill,n=e.chart,a=n.getDatasetMeta(t),r=a&&n.isDatasetVisible(t)&&a.dataset._children||[],s=r.length||0;return s?function(e,t){return t<s&&r[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,a=t?t.y:null;return W.isArray(t)?function(e,n){return t[n]}:function(e){return{x:null===n?e.x:n,y:null===a?e.y:a}}}};function ma(e,t,n){var a,r=e._model||{},s=r.fill;if(void 0===s&&(s=!!r.backgroundColor),!1===s||null===s)return!1;if(!0===s)return"origin";if(a=parseFloat(s,10),isFinite(a)&&Math.floor(a)===a)return"-"!==s[0]&&"+"!==s[0]||(a=t+a),!(a===t||a<0||a>=n)&&a;switch(s){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return s;default:return!1}}function fa(e){return(e.el._scale||{}).getPointPositionForValue?function(e){var t,n,a,r,s,o=e.el._scale,i=o.options,u=o.chart.data.labels.length,l=e.fill,d=[];if(!u)return null;for(t=i.ticks.reverse?o.max:o.min,n=i.ticks.reverse?o.min:o.max,a=o.getPointPositionForValue(0,t),r=0;r<u;++r)s="start"===l||"end"===l?o.getPointPositionForValue(r,"start"===l?t:n):o.getBasePosition(r),i.gridLines.circular&&(s.cx=a.x,s.cy=a.y,s.angle=o.getIndexAngle(r)-Math.PI/2),d.push(s);return d}(e):function(e){var t,n=e.el._model||{},a=e.el._scale||{},r=e.fill,s=null;if(isFinite(r))return null;if("start"===r?s=void 0===n.scaleBottom?a.bottom:n.scaleBottom:"end"===r?s=void 0===n.scaleTop?a.top:n.scaleTop:void 0!==n.scaleZero?s=n.scaleZero:a.getBasePixel&&(s=a.getBasePixel()),null!=s){if(void 0!==s.x&&void 0!==s.y)return s;if(W.isFinite(s))return{x:(t=a.isHorizontal())?s:null,y:t?null:s}}return null}(e)}function _a(e,t,n){var a,r=e[t].fill,s=[t];if(!n)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!isFinite(r))return r;if(!(a=e[r]))return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function ga(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),pa[n](e))}function ya(e){return e&&!e.skip}function ba(e,t,n,a,r){var s,o,i,u;if(a&&r){for(e.moveTo(t[0].x,t[0].y),s=1;s<a;++s)W.canvas.lineTo(e,t[s-1],t[s]);if(void 0===n[0].angle)for(e.lineTo(n[r-1].x,n[r-1].y),s=r-1;s>0;--s)W.canvas.lineTo(e,n[s],n[s-1],!0);else for(o=n[0].cx,i=n[0].cy,u=Math.sqrt(Math.pow(n[0].x-o,2)+Math.pow(n[0].y-i,2)),s=r-1;s>0;--s)e.arc(o,i,u,n[s].angle,n[s-1].angle,!0)}}function va(e,t,n,a,r,s){var o,i,u,l,d,c,h,p,m=t.length,f=a.spanGaps,_=[],g=[],y=0,b=0;for(e.beginPath(),o=0,i=m;o<i;++o)d=n(l=t[u=o%m]._view,u,a),c=ya(l),h=ya(d),s&&void 0===p&&c&&(i=m+(p=o+1)),c&&h?(y=_.push(l),b=g.push(d)):y&&b&&(f?(c&&_.push(l),h&&g.push(d)):(ba(e,_,g,y,b),y=b=0,_=[],g=[]));ba(e,_,g,y,b),e.closePath(),e.fillStyle=r,e.fill()}var xa={id:"filler",afterDatasetsUpdate:function(e,t){var n,a,r,s,o=(e.data.datasets||[]).length,i=t.propagate,u=[];for(a=0;a<o;++a)s=null,(r=(n=e.getDatasetMeta(a)).dataset)&&r._model&&r instanceof ke.Line&&(s={visible:e.isDatasetVisible(a),fill:ma(r,a,o),chart:e,el:r}),n.$filler=s,u.push(s);for(a=0;a<o;++a)(s=u[a])&&(s.fill=_a(u,a,i),s.boundary=fa(s),s.mapper=ga(s))},beforeDatasetsDraw:function(e){var t,n,a,r,s,o,i,u=e._getSortedVisibleDatasetMetas(),l=e.ctx;for(n=u.length-1;n>=0;--n)(t=u[n].$filler)&&t.visible&&(r=(a=t.el)._view,s=a._children||[],o=t.mapper,i=r.backgroundColor||O.global.defaultColor,o&&i&&s.length&&(W.canvas.clipArea(l,e.chartArea),va(l,s,o,r,i,a._loop),W.canvas.unclipArea(l)))}},ka=W.rtl.getRtlAdapter,Ma=W.noop,wa=W.valueOrDefault;function Ta(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}O._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,a=this.chart,r=a.getDatasetMeta(n);r.hidden=null===r.hidden?!a.data.datasets[n].hidden:null,a.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.options.legend||{},a=n.labels&&n.labels.usePointStyle;return e._getSortedDatasetMetas().map((function(n){var r=n.controller.getStyle(a?0:void 0);return{text:t[n.index].label,fillStyle:r.backgroundColor,hidden:!e.isDatasetVisible(n.index),lineCap:r.borderCapStyle,lineDash:r.borderDash,lineDashOffset:r.borderDashOffset,lineJoin:r.borderJoinStyle,lineWidth:r.borderWidth,strokeStyle:r.borderColor,pointStyle:r.pointStyle,rotation:r.rotation,datasetIndex:n.index}}),this)}}},legendCallback:function(e){var t,n,a,r=document.createElement("ul"),s=e.data.datasets;for(r.setAttribute("class",e.id+"-legend"),t=0,n=s.length;t<n;t++)(a=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=s[t].backgroundColor,s[t].label&&a.appendChild(document.createTextNode(s[t].label));return r.outerHTML}});var La=X.extend({initialize:function(e){var t=this;W.extend(t,e),t.legendHitBoxes=[],t._hoveredItem=null,t.doughnutMode=!1},beforeUpdate:Ma,update:function(e,t,n){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=t,a.margins=n,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeBuildLabels(),a.buildLabels(),a.afterBuildLabels(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:Ma,beforeSetDimensions:Ma,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:Ma,beforeBuildLabels:Ma,buildLabels:function(){var e=this,t=e.options.labels||{},n=W.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:Ma,beforeFit:Ma,fit:function(){var e=this,t=e.options,n=t.labels,a=t.display,r=e.ctx,s=W.options._parseFont(n),o=s.size,i=e.legendHitBoxes=[],u=e.minSize,l=e.isHorizontal();if(l?(u.width=e.maxWidth,u.height=a?10:0):(u.width=a?10:0,u.height=e.maxHeight),a){if(r.font=s.string,l){var d=e.lineWidths=[0],c=0;r.textAlign="left",r.textBaseline="middle",W.each(e.legendItems,(function(e,t){var a=Ta(n,o)+o/2+r.measureText(e.text).width;(0===t||d[d.length-1]+a+2*n.padding>u.width)&&(c+=o+n.padding,d[d.length-(t>0?0:1)]=0),i[t]={left:0,top:0,width:a,height:o},d[d.length-1]+=a+n.padding})),u.height+=c}else{var h=n.padding,p=e.columnWidths=[],m=e.columnHeights=[],f=n.padding,_=0,g=0;W.each(e.legendItems,(function(e,t){var a=Ta(n,o)+o/2+r.measureText(e.text).width;t>0&&g+o+2*h>u.height&&(f+=_+n.padding,p.push(_),m.push(g),_=0,g=0),_=Math.max(_,a),g+=o+h,i[t]={left:0,top:0,width:a,height:o}})),f+=_,p.push(_),m.push(g),u.width+=f}e.width=u.width,e.height=u.height}else e.width=u.width=e.height=u.height=0},afterFit:Ma,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,a=O.global,r=a.defaultColor,s=a.elements.line,o=e.height,i=e.columnHeights,u=e.width,l=e.lineWidths;if(t.display){var d,c=ka(t.rtl,e.left,e.minSize.width),h=e.ctx,p=wa(n.fontColor,a.defaultFontColor),m=W.options._parseFont(n),f=m.size;h.textAlign=c.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.strokeStyle=p,h.fillStyle=p,h.font=m.string;var _=Ta(n,f),g=e.legendHitBoxes,y=function(e,a){switch(t.align){case"start":return n.padding;case"end":return e-a;default:return(e-a+n.padding)/2}},b=e.isHorizontal();d=b?{x:e.left+y(u,l[0]),y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+y(o,i[0]),line:0},W.rtl.overrideTextDirection(e.ctx,t.textDirection);var v=f+n.padding;W.each(e.legendItems,(function(t,a){var p=h.measureText(t.text).width,m=_+f/2+p,x=d.x,k=d.y;c.setWidth(e.minSize.width),b?a>0&&x+m+n.padding>e.left+e.minSize.width&&(k=d.y+=v,d.line++,x=d.x=e.left+y(u,l[d.line])):a>0&&k+v>e.top+e.minSize.height&&(x=d.x=x+e.columnWidths[d.line]+n.padding,d.line++,k=d.y=e.top+y(o,i[d.line]));var M=c.x(x);(function(e,t,a){if(!(isNaN(_)||_<=0)){h.save();var o=wa(a.lineWidth,s.borderWidth);if(h.fillStyle=wa(a.fillStyle,r),h.lineCap=wa(a.lineCap,s.borderCapStyle),h.lineDashOffset=wa(a.lineDashOffset,s.borderDashOffset),h.lineJoin=wa(a.lineJoin,s.borderJoinStyle),h.lineWidth=o,h.strokeStyle=wa(a.strokeStyle,r),h.setLineDash&&h.setLineDash(wa(a.lineDash,s.borderDash)),n&&n.usePointStyle){var i=_*Math.SQRT2/2,u=c.xPlus(e,_/2),l=t+f/2;W.canvas.drawPoint(h,a.pointStyle,i,u,l,a.rotation)}else h.fillRect(c.leftForLtr(e,_),t,_,f),0!==o&&h.strokeRect(c.leftForLtr(e,_),t,_,f);h.restore()}})(M,k,t),g[a].left=c.leftForLtr(M,g[a].width),g[a].top=k,function(e,t,n,a){var r=f/2,s=c.xPlus(e,_+r),o=t+r;h.fillText(n.text,s,o),n.hidden&&(h.beginPath(),h.lineWidth=2,h.moveTo(s,o),h.lineTo(c.xPlus(s,a),o),h.stroke())}(M,k,t,p),b?d.x+=m+n.padding:d.y+=v})),W.rtl.restoreTextDirection(e.ctx,t.textDirection)}},_getLegendItemAt:function(e,t){var n,a,r,s=this;if(e>=s.left&&e<=s.right&&t>=s.top&&t<=s.bottom)for(r=s.legendHitBoxes,n=0;n<r.length;++n)if(e>=(a=r[n]).left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height)return s.legendItems[n];return null},handleEvent:function(e){var t,n=this,a=n.options,r="mouseup"===e.type?"click":e.type;if("mousemove"===r){if(!a.onHover&&!a.onLeave)return}else{if("click"!==r)return;if(!a.onClick)return}t=n._getLegendItemAt(e.x,e.y),"click"===r?t&&a.onClick&&a.onClick.call(n,e.native,t):(a.onLeave&&t!==n._hoveredItem&&(n._hoveredItem&&a.onLeave.call(n,e.native,n._hoveredItem),n._hoveredItem=t),a.onHover&&t&&a.onHover.call(n,e.native,t))}});function Sa(e,t){var n=new La({ctx:e.ctx,options:t,chart:e});ft.configure(e,n,t),ft.addBox(e,n),e.legend=n}var Da={id:"legend",_element:La,beforeInit:function(e){var t=e.options.legend;t&&Sa(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(W.mergeIf(t,O.global.legend),n?(ft.configure(e,n,t),n.options=t):Sa(e,t)):n&&(ft.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}},Ia=W.noop;O._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Na=X.extend({initialize:function(e){W.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:Ia,update:function(e,t,n){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=t,a.margins=n,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeBuildLabels(),a.buildLabels(),a.afterBuildLabels(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:Ia,beforeSetDimensions:Ia,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:Ia,beforeBuildLabels:Ia,buildLabels:Ia,afterBuildLabels:Ia,beforeFit:Ia,fit:function(){var e,t=this,n=t.options,a=t.minSize={},r=t.isHorizontal();n.display?(e=(W.isArray(n.text)?n.text.length:1)*W.options._parseFont(n).lineHeight+2*n.padding,t.width=a.width=r?t.maxWidth:e,t.height=a.height=r?e:t.maxHeight):t.width=a.width=t.height=a.height=0},afterFit:Ia,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=e.options;if(n.display){var a,r,s,o=W.options._parseFont(n),i=o.lineHeight,u=i/2+n.padding,l=0,d=e.top,c=e.left,h=e.bottom,p=e.right;t.fillStyle=W.valueOrDefault(n.fontColor,O.global.defaultFontColor),t.font=o.string,e.isHorizontal()?(r=c+(p-c)/2,s=d+u,a=p-c):(r="left"===n.position?c+u:p-u,s=d+(h-d)/2,a=h-d,l=Math.PI*("left"===n.position?-.5:.5)),t.save(),t.translate(r,s),t.rotate(l),t.textAlign="center",t.textBaseline="middle";var m=n.text;if(W.isArray(m))for(var f=0,_=0;_<m.length;++_)t.fillText(m[_],0,f,a),f+=i;else t.fillText(m,0,0,a);t.restore()}}});function Ca(e,t){var n=new Na({ctx:e.ctx,options:t,chart:e});ft.configure(e,n,t),ft.addBox(e,n),e.titleBlock=n}var Ea={},Aa=xa,Ya=Da,Fa={id:"title",_element:Na,beforeInit:function(e){var t=e.options.title;t&&Ca(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(W.mergeIf(t,O.global.title),n?(ft.configure(e,n,t),n.options=t):Ca(e,t)):n&&(ft.removeBox(e,n),delete e.titleBlock)}};for(var Ra in Ea.filler=Aa,Ea.legend=Ya,Ea.title=Fa,Zt.helpers=W,function(){function e(e,t,n){var a;return"string"==typeof e?(a=parseInt(e,10),-1!==e.indexOf("%")&&(a=a/100*t.parentNode[n])):a=e,a}function t(e){return null!=e&&"none"!==e}function n(n,a,r){var s=document.defaultView,o=W._getParentNode(n),i=s.getComputedStyle(n)[a],u=s.getComputedStyle(o)[a],l=t(i),d=t(u),c=Number.POSITIVE_INFINITY;return l||d?Math.min(l?e(i,n,r):c,d?e(u,o,r):c):"none"}W.where=function(e,t){if(W.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return W.each(e,(function(e){t(e)&&n.push(e)})),n},W.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var a=0,r=e.length;a<r;++a)if(t.call(n,e[a],a,e))return a;return-1},W.findNextWhere=function(e,t,n){W.isNullOrUndef(n)&&(n=-1);for(var a=n+1;a<e.length;a++){var r=e[a];if(t(r))return r}},W.findPreviousWhere=function(e,t,n){W.isNullOrUndef(n)&&(n=e.length);for(var a=n-1;a>=0;a--){var r=e[a];if(t(r))return r}},W.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},W.almostEquals=function(e,t,n){return Math.abs(e-t)<n},W.almostWhole=function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e},W.max=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.max(e,t)}),Number.NEGATIVE_INFINITY)},W.min=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.min(e,t)}),Number.POSITIVE_INFINITY)},W.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1},W.toRadians=function(e){return e*(Math.PI/180)},W.toDegrees=function(e){return e*(180/Math.PI)},W._decimalPlaces=function(e){if(W.isFinite(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}},W.getAngleFromPoint=function(e,t){var n=t.x-e.x,a=t.y-e.y,r=Math.sqrt(n*n+a*a),s=Math.atan2(a,n);return s<-.5*Math.PI&&(s+=2*Math.PI),{angle:s,distance:r}},W.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},W.aliasPixel=function(e){return e%2==0?0:.5},W._alignPixel=function(e,t,n){var a=e.currentDevicePixelRatio,r=n/2;return Math.round((t-r)*a)/a+r},W.splineCurve=function(e,t,n,a){var r=e.skip?t:e,s=t,o=n.skip?t:n,i=Math.sqrt(Math.pow(s.x-r.x,2)+Math.pow(s.y-r.y,2)),u=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2)),l=i/(i+u),d=u/(i+u),c=a*(l=isNaN(l)?0:l),h=a*(d=isNaN(d)?0:d);return{previous:{x:s.x-c*(o.x-r.x),y:s.y-c*(o.y-r.y)},next:{x:s.x+h*(o.x-r.x),y:s.y+h*(o.y-r.y)}}},W.EPSILON=Number.EPSILON||1e-14,W.splineCurveMonotone=function(e){var t,n,a,r,s,o,i,u,l,d=(e||[]).map((function(e){return{model:e._model,deltaK:0,mK:0}})),c=d.length;for(t=0;t<c;++t)if(!(a=d[t]).model.skip){if(n=t>0?d[t-1]:null,(r=t<c-1?d[t+1]:null)&&!r.model.skip){var h=r.model.x-a.model.x;a.deltaK=0!==h?(r.model.y-a.model.y)/h:0}!n||n.model.skip?a.mK=a.deltaK:!r||r.model.skip?a.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(a.deltaK)?a.mK=0:a.mK=(n.deltaK+a.deltaK)/2}for(t=0;t<c-1;++t)a=d[t],r=d[t+1],a.model.skip||r.model.skip||(W.almostEquals(a.deltaK,0,this.EPSILON)?a.mK=r.mK=0:(s=a.mK/a.deltaK,o=r.mK/a.deltaK,(u=Math.pow(s,2)+Math.pow(o,2))<=9||(i=3/Math.sqrt(u),a.mK=s*i*a.deltaK,r.mK=o*i*a.deltaK)));for(t=0;t<c;++t)(a=d[t]).model.skip||(n=t>0?d[t-1]:null,r=t<c-1?d[t+1]:null,n&&!n.model.skip&&(l=(a.model.x-n.model.x)/3,a.model.controlPointPreviousX=a.model.x-l,a.model.controlPointPreviousY=a.model.y-l*a.mK),r&&!r.model.skip&&(l=(r.model.x-a.model.x)/3,a.model.controlPointNextX=a.model.x+l,a.model.controlPointNextY=a.model.y+l*a.mK))},W.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},W.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},W.niceNum=function(e,t){var n=Math.floor(W.log10(e)),a=e/Math.pow(10,n);return(t?a<1.5?1:a<3?2:a<7?5:10:a<=1?1:a<=2?2:a<=5?5:10)*Math.pow(10,n)},W.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},W.getRelativePosition=function(e,t){var n,a,r=e.originalEvent||e,s=e.target||e.srcElement,o=s.getBoundingClientRect(),i=r.touches;i&&i.length>0?(n=i[0].clientX,a=i[0].clientY):(n=r.clientX,a=r.clientY);var u=parseFloat(W.getStyle(s,"padding-left")),l=parseFloat(W.getStyle(s,"padding-top")),d=parseFloat(W.getStyle(s,"padding-right")),c=parseFloat(W.getStyle(s,"padding-bottom")),h=o.right-o.left-u-d,p=o.bottom-o.top-l-c;return{x:n=Math.round((n-o.left-u)/h*s.width/t.currentDevicePixelRatio),y:a=Math.round((a-o.top-l)/p*s.height/t.currentDevicePixelRatio)}},W.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},W.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},W._calculatePadding=function(e,t,n){return(t=W.getStyle(e,t)).indexOf("%")>-1?n*parseInt(t,10)/100:parseInt(t,10)},W._getParentNode=function(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t},W.getMaximumWidth=function(e){var t=W._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,a=n-W._calculatePadding(t,"padding-left",n)-W._calculatePadding(t,"padding-right",n),r=W.getConstraintWidth(e);return isNaN(r)?a:Math.min(a,r)},W.getMaximumHeight=function(e){var t=W._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,a=n-W._calculatePadding(t,"padding-top",n)-W._calculatePadding(t,"padding-bottom",n),r=W.getConstraintHeight(e);return isNaN(r)?a:Math.min(a,r)},W.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},W.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var a=e.canvas,r=e.height,s=e.width;a.height=r*n,a.width=s*n,e.ctx.scale(n,n),a.style.height||a.style.width||(a.style.height=r+"px",a.style.width=s+"px")}},W.fontString=function(e,t,n){return t+" "+e+"px "+n},W.longestText=function(e,t,n,a){var r=(a=a||{}).data=a.data||{},s=a.garbageCollect=a.garbageCollect||[];a.font!==t&&(r=a.data={},s=a.garbageCollect=[],a.font=t),e.font=t;var o,i,u,l,d,c=0,h=n.length;for(o=0;o<h;o++)if(null!=(l=n[o])&&!0!==W.isArray(l))c=W.measureText(e,r,s,c,l);else if(W.isArray(l))for(i=0,u=l.length;i<u;i++)null==(d=l[i])||W.isArray(d)||(c=W.measureText(e,r,s,c,d));var p=s.length/2;if(p>n.length){for(o=0;o<p;o++)delete r[s[o]];s.splice(0,p)}return c},W.measureText=function(e,t,n,a,r){var s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>a&&(a=s),a},W.numberOfLabelLines=function(e){var t=1;return W.each(e,(function(e){W.isArray(e)&&e.length>t&&(t=e.length)})),t},W.color=x?function(e){return e instanceof CanvasGradient&&(e=O.global.defaultColor),x(e)}:function(e){return console.error("Color.js not found!"),e},W.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:W.color(e).saturate(.5).darken(.1).rgbString()}}(),Zt._adapters=nn,Zt.Animation=J,Zt.animationService=Q,Zt.controllers=Qe,Zt.DatasetController=ae,Zt.defaults=O,Zt.Element=X,Zt.elements=ke,Zt.Interaction=st,Zt.layouts=ft,Zt.platform=Ct,Zt.plugins=Et,Zt.Scale=yn,Zt.scaleService=At,Zt.Ticks=an,Zt.Tooltip=jt,Zt.helpers.each(ca,(function(e,t){Zt.scaleService.registerScaleType(t,e,e._defaults)})),Ea)Ea.hasOwnProperty(Ra)&&Zt.plugins.register(Ea[Ra]);Zt.platform.initialize();var Oa=Zt;return"undefined"!=typeof window&&(window.Chart=Zt),Zt.Chart=Zt,Zt.Legend=Ea.legend._element,Zt.Title=Ea.title._element,Zt.pluginService=Zt.plugins,Zt.PluginBase=Zt.Element.extend({}),Zt.canvasHelpers=Zt.helpers.canvas,Zt.layoutService=Zt.layouts,Zt.LinearScaleBase=wn,Zt.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(e){Zt[e]=function(t,n){return new Zt(t,Zt.helpers.merge(n||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}})),Oa}(function(){try{return n(381)}catch(e){}}())},12:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"814f29b80febe63569c75b99dba9b2e8.wasm"},8754:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"0a2108c2272688829a3b139f32bcc5e3.wasm"},9995:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"58aa73083a25ceaf1dbf081261eb0748.wasm"},2786:function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(381))},4130:function(e,t,n){!function(e){"use strict";var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},a=function(e){return function(a,r,s,o){var i=t(a),u=n[e][t(a)];return 2===i&&(u=u[r?0:1]),u.replace(/%d/i,a)}},r=["","","","","","","","","","","",""];e.defineLocale("ar-dz",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:0,doy:4}})}(n(381))},6135:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(n(381))},6440:function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},a={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(e){return function(t,r,s,o){var i=n(t),u=a[e][n(t)];return 2===i&&(u=u[r?0:1]),u.replace(/%d/i,t)}},s=["","","","","","","","","","","",""];e.defineLocale("ar-ly",{months:s,monthsShort:s,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(381))},7702:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(381))},6040:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(381))},7100:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(381))},867:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},s=function(e){return function(t,n,s,o){var i=a(t),u=r[e][a(t)];return 2===i&&(u=u[n?0:1]),u.replace(/%d/i,t)}},o=["","","","","","","","","","","",""];e.defineLocale("ar",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:s("s"),ss:s("s"),m:s("m"),mm:s("m"),h:s("h"),hh:s("h"),d:s("d"),dd:s("d"),M:s("M"),MM:s("M"),y:s("y"),yy:s("y")},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(381))},1083:function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(381))},9808:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(a=+e,r={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),a%10==1&&a%100!=11?r[0]:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?r[1]:r[2]);var a,r}e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:t,mm:t,h:t,hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(381))},8338:function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(381))},7438:function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(381))},6225:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t||""===t?e:""===t?e>=3?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<6?"":e<12?"":e<15?"":e<18?"":e<20?"":""},week:{dow:0,doy:6}})}(n(381))},8905:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(381))},1560:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(381))},1278:function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function n(e){return e>9?n(e%10):e}var a=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],r=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,s=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];e.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:s,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:s,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(n(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}})}(n(381))},622:function(e,t,n){!function(e){"use strict";function t(e,t,n){var a=e+" ";switch(n){case"ss":return a+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return a+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return a+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return a+(1===e?"dan":"dana");case"MM":return a+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return a+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},2468:function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(381))},5822:function(e,t,n){!function(e){"use strict";var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),a=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],r=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function s(e){return e>1&&e<5&&1!=~~(e/10)}function o(e,t,n,a){var r=e+" ";switch(n){case"s":return t||a?"pr sekund":"pr sekundami";case"ss":return t||a?r+(s(e)?"sekundy":"sekund"):r+"sekundami";case"m":return t?"minuta":a?"minutu":"minutou";case"mm":return t||a?r+(s(e)?"minuty":"minut"):r+"minutami";case"h":return t?"hodina":a?"hodinu":"hodinou";case"hh":return t||a?r+(s(e)?"hodiny":"hodin"):r+"hodinami";case"d":return t||a?"den":"dnem";case"dd":return t||a?r+(s(e)?"dny":"dn"):r+"dny";case"M":return t||a?"msc":"mscem";case"MM":return t||a?r+(s(e)?"msce":"msc"):r+"msci";case"y":return t||a?"rok":"rokem";case"yy":return t||a?r+(s(e)?"roky":"let"):r+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},877:function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){return e+(/$/i.exec(e)?"":/$/i.exec(e)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(n(381))},7373:function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(n(381))},4780:function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},217:function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},894:function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},9740:function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},5300:function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})}(n(381))},837:function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n,a=this._calendarEl[e],r=t&&t.hours();return n=a,("undefined"!=typeof Function&&n instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(a=a.apply(t)),a.replace("{}",r%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},8348:function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}})}(n(381))},7925:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(381))},2243:function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},6436:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},7207:function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(381))},4175:function(e,t,n){!function(e){"use strict";e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:6}})}(n(381))},6319:function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},1662:function(e,t,n){!function(e){"use strict";e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},2915:function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(381))},5251:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},6112:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"})}(n(381))},1146:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(n(381))},5655:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"})}(n(381))},5603:function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[n][2]?r[n][2]:r[n][1]:a?r[n][0]:r[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},7763:function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},6959:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(n(381))},1897:function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function a(e,a,r,s){var o="";switch(r){case"s":return s?"muutaman sekunnin":"muutama sekunti";case"ss":o=s?"sekunnin":"sekuntia";break;case"m":return s?"minuutin":"minuutti";case"mm":o=s?"minuutin":"minuuttia";break;case"h":return s?"tunnin":"tunti";case"hh":o=s?"tunnin":"tuntia";break;case"d":return s?"pivn":"piv";case"dd":o=s?"pivn":"piv";break;case"M":return s?"kuukauden":"kuukausi";case"MM":o=s?"kuukauden":"kuukautta";break;case"y":return s?"vuoden":"vuosi";case"yy":o=s?"vuoden":"vuotta"}return function(e,a){return e<10?a?n[e]:t[e]:e}(e,s)+" "+o}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},2549:function(e,t,n){!function(e){"use strict";e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(381))},4694:function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},3049:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(381))},2330:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(381))},4470:function(e,t,n){!function(e){"use strict";var t=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,n=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i];e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:t,monthsShortRegex:t,monthsStrictRegex:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,monthsShortStrictRegex:/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(381))},5044:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(381))},9295:function(e,t,n){!function(e){"use strict";e.defineLocale("ga",{months:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],weekdaysShort:["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],weekdaysMin:["Do","Lu","M","C","D","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(381))},2101:function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(381))},8794:function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},7884:function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={s:[" "," "],ss:[e+" ",e+" "],m:[" "," "],mm:[e+" ",e+" "],h:[" "," "],hh:[e+" ",e+" "],d:[" "," "],dd:[e+" ",e+" "],M:[" "," "],MM:[e+" ",e+" "],y:[" "," "],yy:[e+" ",e+" "]};return a?r[n][0]:r[n][1]}e.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e,t){switch(t){case"D":return e+"";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>12?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<12?"":e<16?"":e<20?"":""}})}(n(381))},3168:function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return a?r[n][0]:r[n][1]}e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}})}(n(381))},5349:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(381))},4206:function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}})}(n(381))},94:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i];e.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:a,longMonthsParse:a,shortMonthsParse:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(381))},316:function(e,t,n){!function(e){"use strict";function t(e,t,n){var a=e+" ";switch(n){case"ss":return a+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return a+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return a+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return a+(1===e?"dan":"dana");case"MM":return a+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return a+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},2138:function(e,t,n){!function(e){"use strict";var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,t,n,a){var r=e;switch(n){case"s":return a||t?"nhny msodperc":"nhny msodperce";case"ss":return r+(a||t)?" msodperc":" msodperce";case"m":return"egy"+(a||t?" perc":" perce");case"mm":return r+(a||t?" perc":" perce");case"h":return"egy"+(a||t?" ra":" rja");case"hh":return r+(a||t?" ra":" rja");case"d":return"egy"+(a||t?" nap":" napja");case"dd":return r+(a||t?" nap":" napja");case"M":return"egy"+(a||t?" hnap":" hnapja");case"MM":return r+(a||t?" hnap":" hnapja");case"y":return"egy"+(a||t?" v":" ve");case"yy":return r+(a||t?" v":" ve")}return""}function a(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return a.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return a.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},1423:function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})}(n(381))},9218:function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(381))},135:function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,a,r){var s=e+" ";switch(a){case"s":return n||r?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?s+(n||r?"sekndur":"sekndum"):s+"seknda";case"m":return n?"mnta":"mntu";case"mm":return t(e)?s+(n||r?"mntur":"mntum"):n?s+"mnta":s+"mntu";case"hh":return t(e)?s+(n||r?"klukkustundir":"klukkustundum"):s+"klukkustund";case"d":return n?"dagur":r?"dag":"degi";case"dd":return t(e)?n?s+"dagar":s+(r?"daga":"dgum"):n?s+"dagur":s+(r?"dag":"degi");case"M":return n?"mnuur":r?"mnu":"mnui";case"MM":return t(e)?n?s+"mnuir":s+(r?"mnui":"mnuum"):n?s+"mnuur":s+(r?"mnu":"mnui");case"y":return n||r?"r":"ri";case"yy":return t(e)?s+(n||r?"r":"rum"):s+(n||r?"r":"ri")}}e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},150:function(e,t,n){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},626:function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},9183:function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(e,t){return""===t[1]?1:parseInt(t[1]||e,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"y":return 1===e?"":e+"";case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(n(381))},4286:function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(381))},2105:function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(|||||)(|)/,(function(e,t,n){return""===n?t+"":t+n+""}))},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):e},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})}(n(381))},7772:function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(381))},8758:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(381))},9282:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})}(n(381))},3730:function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}})}(n(381))},1408:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=[" ","","","","","","","",""," "," "," "];e.defineLocale("ku",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return//.test(e)},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(381))},3291:function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(381))},6841:function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return n(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},5780:function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})}(n(381))},7010:function(e,t,n){!function(e){"use strict";var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(e,t,n,a){return t?r(n)[0]:a?r(n)[1]:r(n)[2]}function a(e){return e%10==0||e>10&&e<20}function r(e){return t[e].split("_")}function s(e,t,s,o){var i=e+" ";return 1===e?i+n(0,t,s[0],o):t?i+(a(e)?r(s)[1]:r(s)[0]):o?i+r(s)[1]:i+(a(e)?r(s)[1]:r(s)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(e,t,n,a){return t?"kelios sekunds":a?"keli sekundi":"kelias sekundes"},ss:s,m:n,mm:s,h:n,hh:s,d:n,dd:s,M:n,MM:s,y:n,yy:s},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(381))},7595:function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function a(e,a,r){return e+" "+n(t[r],e,a)}function r(e,a,r){return n(t[r],e,a)}e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(e,t){return t?"daas sekundes":"dam sekundm"},ss:a,m:r,mm:a,h:r,hh:a,d:r,dd:a,M:r,MM:a,y:r,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},9861:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,a){var r=t.words[a];return 1===a.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},5493:function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},5966:function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(381))},7341:function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})}(n(381))},5115:function(e,t,n){!function(e){"use strict";function t(e,t,n,a){switch(n){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}})}(n(381))},370:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function a(e,t,n,a){var r="";if(t)switch(n){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}else switch(n){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}return r.replace(/%d/i,e)}e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t?e:""===t||""===t||""===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"":e<12?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(381))},1237:function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(381))},9847:function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(381))},2126:function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},6165:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(381))},4924:function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},6744:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(n(381))},9814:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),a=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(381))},3901:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),a=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(381))},3877:function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},2135:function(e,t,n){!function(e){"use strict";e.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(381))},5858:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(381))},4495:function(e,t,n){!function(e){"use strict";var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),a=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function s(e,t,n){var a=e+" ";switch(n){case"ss":return a+(r(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return a+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return a+(r(e)?"godziny":"godzin");case"ww":return a+(r(e)?"tygodnie":"tygodni");case"MM":return a+(r(e)?"miesice":"miesicy");case"yy":return a+(r(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,a){return e?/D MMMM/.test(a)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:s,m:s,mm:s,h:s,hh:s,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:s,M:"miesic",MM:s,y:"rok",yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},7971:function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"})}(n(381))},9520:function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},6459:function(e,t,n){!function(e){"use strict";function t(e,t,n){var a=" ";return(e%100>=20||e>=100&&e%100==0)&&(a=" de "),e+a+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,w:"o sptmn",ww:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(381))},1793:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"":"":e+" "+(a=+e,r={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"}[n].split("_"),a%10==1&&a%100!=11?r[0]:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?r[1]:r[2]);var a,r}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,w:"",ww:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})}(n(381))},950:function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(381))},490:function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},124:function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}})}(n(381))},4249:function(e,t,n){!function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function a(e){return e>1&&e<5}function r(e,t,n,r){var s=e+" ";switch(n){case"s":return t||r?"pr seknd":"pr sekundami";case"ss":return t||r?s+(a(e)?"sekundy":"seknd"):s+"sekundami";case"m":return t?"minta":r?"mintu":"mintou";case"mm":return t||r?s+(a(e)?"minty":"mint"):s+"mintami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?s+(a(e)?"hodiny":"hodn"):s+"hodinami";case"d":return t||r?"de":"dom";case"dd":return t||r?s+(a(e)?"dni":"dn"):s+"dami";case"M":return t||r?"mesiac":"mesiacom";case"MM":return t||r?s+(a(e)?"mesiace":"mesiacov"):s+"mesiacmi";case"y":return t||r?"rok":"rokom";case"yy":return t||r?s+(a(e)?"roky":"rokov"):s+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},4985:function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r=e+" ";switch(n){case"s":return t||a?"nekaj sekund":"nekaj sekundami";case"ss":return r+(1===e?t?"sekundo":"sekundi":2===e?t||a?"sekundi":"sekundah":e<5?t||a?"sekunde":"sekundah":"sekund");case"m":return t?"ena minuta":"eno minuto";case"mm":return r+(1===e?t?"minuta":"minuto":2===e?t||a?"minuti":"minutama":e<5?t||a?"minute":"minutami":t||a?"minut":"minutami");case"h":return t?"ena ura":"eno uro";case"hh":return r+(1===e?t?"ura":"uro":2===e?t||a?"uri":"urama":e<5?t||a?"ure":"urami":t||a?"ur":"urami");case"d":return t||a?"en dan":"enim dnem";case"dd":return r+(1===e?t||a?"dan":"dnem":2===e?t||a?"dni":"dnevoma":t||a?"dni":"dnevi");case"M":return t||a?"en mesec":"enim mesecem";case"MM":return r+(1===e?t||a?"mesec":"mesecem":2===e?t||a?"meseca":"mesecema":e<5?t||a?"mesece":"meseci":t||a?"mesecev":"meseci");case"y":return t||a?"eno leto":"enim letom";case"yy":return r+(1===e?t||a?"leto":"letom":2===e?t||a?"leti":"letoma":e<5?t||a?"leta":"leti":t||a?"let":"leti")}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},1104:function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},9915:function(e,t,n){!function(e){"use strict";var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,a){var r=t.words[a];return 1===a.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},9131:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,a){var r=t.words[a];return 1===a.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},5893:function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},8760:function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?":e":1===t||2===t?":a":":e")},week:{dow:1,doy:4}})}(n(381))},1172:function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(381))},7333:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t||""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(381))},3110:function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(381))},2095:function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},7321:function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("tg",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(381))},9041:function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(381))},9005:function(e,t,n){!function(e){"use strict";var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};e.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var a=e%10;return e+(t[a]||t[e%100-a]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(381))},5768:function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(381))},9444:function(e,t,n){!function(e){"use strict";var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,a,r){var s=function(e){var n=Math.floor(e%1e3/100),a=Math.floor(e%100/10),r=e%10,s="";return n>0&&(s+=t[n]+"vatlh"),a>0&&(s+=(""!==s?" ":"")+t[a]+"maH"),r>0&&(s+=(""!==s?" ":"")+t[r]),""===s?"pagh":s}(e);switch(a){case"ss":return s+" lup";case"mm":return s+" tup";case"hh":return s+" rep";case"dd":return s+" jaj";case"MM":return s+" jar";case"yy":return s+" DIS"}}e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa tup",mm:n,h:"wa rep",hh:n,d:"wa jaj",dd:n,M:"wa jar",MM:n,y:"wa DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},2397:function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"":"":n?"s":"S"},meridiemParse:/||s|S/,isPM:function(e){return"s"===e||"S"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var a=e%10;return e+(t[a]||t[e%100-a]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(381))},8254:function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return a||t?r[n][0]:r[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},699:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(381))},1106:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(381))},9288:function(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var a=100*e+t;return a<600?" ":a<900?"":a<1130?" ":a<1230?"":a<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}})}(n(381))},7691:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(a=+e,r={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),a%10==1&&a%100!=11?r[0]:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?r[1]:r[2]);var a,r}function n(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:n("[ "),nextDay:n("[ "),lastDay:n("[ "),nextWeek:n("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[] dddd [").call(this);case 1:case 2:case 4:return n("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(381))},3795:function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(381))},588:function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(381))},6791:function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(n(381))},5666:function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(381))},4378:function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},5805:function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(n(381))},3839:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var a=100*e+t;return a<600?"":a<900?"":a<1130?"":a<1230?"":a<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(n(381))},5726:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var a=100*e+t;return a<600?"":a<900?"":a<1200?"":1200===a?"":a<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(381))},9807:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var a=100*e+t;return a<600?"":a<900?"":a<1130?"":a<1230?"":a<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(381))},4152:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var a=100*e+t;return a<600?"":a<900?"":a<1130?"":a<1230?"":a<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(381))},6700:(e,t,n)=>{var a={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5780,"./lo.js":5780,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=6700},381:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,a;function r(){return t.apply(null,arguments)}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(i(e,t))return!1;return!0}function l(e){return void 0===e}function d(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,a=[];for(n=0;n<e.length;++n)a.push(t(e[n],n));return a}function p(e,t){for(var n in t)i(t,n)&&(e[n]=t[n]);return i(t,"toString")&&(e.toString=t.toString),i(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t,n,a){return Tt(e,t,n,a,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function _(e){if(null==e._isValid){var t=f(e),n=a.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function g(e){var t=m(NaN);return null!=e?p(f(t),e):f(t).userInvalidated=!0,t}a=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),a=n.length>>>0;for(t=0;t<a;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var y=r.momentProperties=[],b=!1;function v(e,t){var n,a,r;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=f(t)),l(t._locale)||(e._locale=t._locale),y.length>0)for(n=0;n<y.length;n++)l(r=t[a=y[n]])||(e[a]=r);return e}function x(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function k(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function M(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function w(e,t){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var a,s,o,u=[];for(s=0;s<arguments.length;s++){if(a="","object"==typeof arguments[s]){for(o in a+="\n["+s+"] ",arguments[0])i(arguments[0],o)&&(a+=o+": "+arguments[0][o]+", ");a=a.slice(0,-2)}else a=arguments[s];u.push(a)}M(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var T,L={};function S(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),L[e]||(M(t),L[e]=!0)}function D(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function I(e,t){var n,a=p({},e);for(n in t)i(t,n)&&(o(e[n])&&o(t[n])?(a[n]={},p(a[n],e[n]),p(a[n],t[n])):null!=t[n]?a[n]=t[n]:delete a[n]);for(n in e)i(e,n)&&!i(t,n)&&o(e[n])&&(a[n]=p({},a[n]));return a}function N(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)i(e,t)&&n.push(t);return n};function C(e,t,n){var a=""+Math.abs(e),r=t-a.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+a}var E=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Y={},F={};function R(e,t,n,a){var r=a;"string"==typeof a&&(r=function(){return this[a]()}),e&&(F[e]=r),t&&(F[t[0]]=function(){return C(r.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function O(e,t){return e.isValid()?(t=$(t,e.localeData()),Y[t]=Y[t]||function(e){var t,n,a,r=e.match(E);for(t=0,n=r.length;t<n;t++)F[r[t]]?r[t]=F[r[t]]:r[t]=(a=r[t]).match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"");return function(t){var a,s="";for(a=0;a<n;a++)s+=D(r[a])?r[a].call(t,e):r[a];return s}}(t),Y[t](e)):e.localeData().invalidDate()}function $(e,t){var n=5;function a(e){return t.longDateFormat(e)||e}for(A.lastIndex=0;n>=0&&A.test(e);)e=e.replace(A,a),A.lastIndex=0,n-=1;return e}var P={};function H(e,t){var n=e.toLowerCase();P[n]=P[n+"s"]=P[t]=e}function B(e){return"string"==typeof e?P[e]||P[e.toLowerCase()]:void 0}function W(e){var t,n,a={};for(n in e)i(e,n)&&(t=B(n))&&(a[t]=e[n]);return a}var z={};function j(e,t){z[e]=t}function V(e){return e%4==0&&e%100!=0||e%400==0}function U(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function G(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=U(t)),n}function q(e,t){return function(n){return null!=n?(K(this,e,n),r.updateOffset(this,t),this):X(this,e)}}function X(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function K(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&V(e.year())&&1===e.month()&&29===e.date()?(n=G(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ke(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var J,Q=/\d/,Z=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ne=/[+-]?\d{6}/,ae=/\d\d?/,re=/\d\d\d\d?/,se=/\d\d\d\d\d\d?/,oe=/\d{1,3}/,ie=/\d{1,4}/,ue=/[+-]?\d{1,6}/,le=/\d+/,de=/[+-]?\d+/,ce=/Z|[+-]\d\d:?\d\d/gi,he=/Z|[+-]\d\d(?::?\d\d)?/gi,pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function me(e,t,n){J[e]=D(t)?t:function(e,a){return e&&n?n:t}}function fe(e,t){return i(J,e)?J[e](t._strict,t._locale):new RegExp(_e(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,a,r){return t||n||a||r}))))}function _e(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}J={};var ge={};function ye(e,t){var n,a=t;for("string"==typeof e&&(e=[e]),d(t)&&(a=function(e,n){n[t]=G(e)}),n=0;n<e.length;n++)ge[e[n]]=a}function be(e,t){ye(e,(function(e,n,a,r){a._w=a._w||{},t(e,a._w,a,r)}))}function ve(e,t,n){null!=t&&i(ge,e)&&ge[e](t,n._a,n,e)}var xe;function ke(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,a=(t%(n=12)+n)%n;return e+=(t-a)/12,1===a?V(e)?29:28:31-a%7%2}xe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},R("M",["MM",2],"Mo",(function(){return this.month()+1})),R("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),R("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),H("month","M"),j("month",8),me("M",ae),me("MM",ae,Z),me("MMM",(function(e,t){return t.monthsShortRegex(e)})),me("MMMM",(function(e,t){return t.monthsRegex(e)})),ye(["M","MM"],(function(e,t){t[1]=G(e)-1})),ye(["MMM","MMMM"],(function(e,t,n,a){var r=n._locale.monthsParse(e,a,n._strict);null!=r?t[1]=r:f(n).invalidMonth=e}));var Me="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),we="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Te=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Le=pe,Se=pe;function De(e,t,n){var a,r,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)s=m([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=xe.call(this._shortMonthsParse,o))?r:null:-1!==(r=xe.call(this._longMonthsParse,o))?r:null:"MMM"===t?-1!==(r=xe.call(this._shortMonthsParse,o))||-1!==(r=xe.call(this._longMonthsParse,o))?r:null:-1!==(r=xe.call(this._longMonthsParse,o))||-1!==(r=xe.call(this._shortMonthsParse,o))?r:null}function Ie(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=G(t);else if(!d(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),ke(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ne(e){return null!=e?(Ie(this,e),r.updateOffset(this,!0),this):X(this,"Month")}function Ce(){function e(e,t){return t.length-e.length}var t,n,a=[],r=[],s=[];for(t=0;t<12;t++)n=m([2e3,t]),a.push(this.monthsShort(n,"")),r.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(a.sort(e),r.sort(e),s.sort(e),t=0;t<12;t++)a[t]=_e(a[t]),r[t]=_e(r[t]);for(t=0;t<24;t++)s[t]=_e(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ee(e){return V(e)?366:365}R("Y",0,0,(function(){var e=this.year();return e<=9999?C(e,4):"+"+e})),R(0,["YY",2],0,(function(){return this.year()%100})),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),H("year","y"),j("year",1),me("Y",de),me("YY",ae,Z),me("YYYY",ie,te),me("YYYYY",ue,ne),me("YYYYYY",ue,ne),ye(["YYYYY","YYYYYY"],0),ye("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):G(e)})),ye("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),ye("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return G(e)+(G(e)>68?1900:2e3)};var Ae=q("FullYear",!0);function Ye(e,t,n,a,r,s,o){var i;return e<100&&e>=0?(i=new Date(e+400,t,n,a,r,s,o),isFinite(i.getFullYear())&&i.setFullYear(e)):i=new Date(e,t,n,a,r,s,o),i}function Fe(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Re(e,t,n){var a=7+t-n;return-(7+Fe(e,0,a).getUTCDay()-t)%7+a-1}function Oe(e,t,n,a,r){var s,o,i=1+7*(t-1)+(7+n-a)%7+Re(e,a,r);return i<=0?o=Ee(s=e-1)+i:i>Ee(e)?(s=e+1,o=i-Ee(e)):(s=e,o=i),{year:s,dayOfYear:o}}function $e(e,t,n){var a,r,s=Re(e.year(),t,n),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return o<1?a=o+Pe(r=e.year()-1,t,n):o>Pe(e.year(),t,n)?(a=o-Pe(e.year(),t,n),r=e.year()+1):(r=e.year(),a=o),{week:a,year:r}}function Pe(e,t,n){var a=Re(e,t,n),r=Re(e+1,t,n);return(Ee(e)-a+r)/7}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),H("week","w"),H("isoWeek","W"),j("week",5),j("isoWeek",5),me("w",ae),me("ww",ae,Z),me("W",ae),me("WW",ae,Z),be(["w","ww","W","WW"],(function(e,t,n,a){t[a.substr(0,1)]=G(e)}));function He(e,t){return e.slice(t,7).concat(e.slice(0,t))}R("d",0,"do","day"),R("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),R("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),R("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),H("day","d"),H("weekday","e"),H("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),me("d",ae),me("e",ae),me("E",ae),me("dd",(function(e,t){return t.weekdaysMinRegex(e)})),me("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),me("dddd",(function(e,t){return t.weekdaysRegex(e)})),be(["dd","ddd","dddd"],(function(e,t,n,a){var r=n._locale.weekdaysParse(e,a,n._strict);null!=r?t.d=r:f(n).invalidWeekday=e})),be(["d","e","E"],(function(e,t,n,a){t[a]=G(e)}));var Be="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),We="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),je=pe,Ve=pe,Ue=pe;function Ge(e,t,n){var a,r,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)s=m([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=xe.call(this._weekdaysParse,o))?r:null:"ddd"===t?-1!==(r=xe.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=xe.call(this._minWeekdaysParse,o))?r:null:"dddd"===t?-1!==(r=xe.call(this._weekdaysParse,o))||-1!==(r=xe.call(this._shortWeekdaysParse,o))||-1!==(r=xe.call(this._minWeekdaysParse,o))?r:null:"ddd"===t?-1!==(r=xe.call(this._shortWeekdaysParse,o))||-1!==(r=xe.call(this._weekdaysParse,o))||-1!==(r=xe.call(this._minWeekdaysParse,o))?r:null:-1!==(r=xe.call(this._minWeekdaysParse,o))||-1!==(r=xe.call(this._weekdaysParse,o))||-1!==(r=xe.call(this._shortWeekdaysParse,o))?r:null}function qe(){function e(e,t){return t.length-e.length}var t,n,a,r,s,o=[],i=[],u=[],l=[];for(t=0;t<7;t++)n=m([2e3,1]).day(t),a=_e(this.weekdaysMin(n,"")),r=_e(this.weekdaysShort(n,"")),s=_e(this.weekdays(n,"")),o.push(a),i.push(r),u.push(s),l.push(a),l.push(r),l.push(s);o.sort(e),i.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Xe(){return this.hours()%12||12}function Ke(e,t){R(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Je(e,t){return t._meridiemParse}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,Xe),R("k",["kk",2],0,(function(){return this.hours()||24})),R("hmm",0,0,(function(){return""+Xe.apply(this)+C(this.minutes(),2)})),R("hmmss",0,0,(function(){return""+Xe.apply(this)+C(this.minutes(),2)+C(this.seconds(),2)})),R("Hmm",0,0,(function(){return""+this.hours()+C(this.minutes(),2)})),R("Hmmss",0,0,(function(){return""+this.hours()+C(this.minutes(),2)+C(this.seconds(),2)})),Ke("a",!0),Ke("A",!1),H("hour","h"),j("hour",13),me("a",Je),me("A",Je),me("H",ae),me("h",ae),me("k",ae),me("HH",ae,Z),me("hh",ae,Z),me("kk",ae,Z),me("hmm",re),me("hmmss",se),me("Hmm",re),me("Hmmss",se),ye(["H","HH"],3),ye(["k","kk"],(function(e,t,n){var a=G(e);t[3]=24===a?0:a})),ye(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ye(["h","hh"],(function(e,t,n){t[3]=G(e),f(n).bigHour=!0})),ye("hmm",(function(e,t,n){var a=e.length-2;t[3]=G(e.substr(0,a)),t[4]=G(e.substr(a)),f(n).bigHour=!0})),ye("hmmss",(function(e,t,n){var a=e.length-4,r=e.length-2;t[3]=G(e.substr(0,a)),t[4]=G(e.substr(a,2)),t[5]=G(e.substr(r)),f(n).bigHour=!0})),ye("Hmm",(function(e,t,n){var a=e.length-2;t[3]=G(e.substr(0,a)),t[4]=G(e.substr(a))})),ye("Hmmss",(function(e,t,n){var a=e.length-4,r=e.length-2;t[3]=G(e.substr(0,a)),t[4]=G(e.substr(a,2)),t[5]=G(e.substr(r))}));var Qe=q("Hours",!0);var Ze,et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Me,monthsShort:we,week:{dow:0,doy:6},weekdays:Be,weekdaysMin:ze,weekdaysShort:We,meridiemParse:/[ap]\.?m?\.?/i},tt={},nt={};function at(e,t){var n,a=Math.min(e.length,t.length);for(n=0;n<a;n+=1)if(e[n]!==t[n])return n;return a}function rt(e){return e?e.toLowerCase().replace("_","-"):e}function st(t){var a=null;if(void 0===tt[t]&&e&&e.exports)try{a=Ze._abbr,n(6700)("./"+t),ot(a)}catch(e){tt[t]=null}return tt[t]}function ot(e,t){var n;return e&&((n=l(t)?ut(e):it(e,t))?Ze=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ze._abbr}function it(e,t){if(null!==t){var n,a=et;if(t.abbr=e,null!=tt[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])a=tt[t.parentLocale]._config;else{if(null==(n=st(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;a=n._config}return tt[e]=new N(I(a,t)),nt[e]&&nt[e].forEach((function(e){it(e.name,e.config)})),ot(e),tt[e]}return delete tt[e],null}function ut(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ze;if(!s(e)){if(t=st(e))return t;e=[e]}return function(e){for(var t,n,a,r,s=0;s<e.length;){for(t=(r=rt(e[s]).split("-")).length,n=(n=rt(e[s+1]))?n.split("-"):null;t>0;){if(a=st(r.slice(0,t).join("-")))return a;if(n&&n.length>=t&&at(r,n)>=t-1)break;t--}s++}return Ze}(e)}function lt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>ke(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,f(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),f(e)._overflowWeeks&&-1===t&&(t=7),f(e)._overflowWeekday&&-1===t&&(t=8),f(e).overflow=t),e}var dt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ct=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],mt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ft=/^\/?Date\((-?\d+)/i,_t=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function yt(e){var t,n,a,r,s,o,i=e._i,u=dt.exec(i)||ct.exec(i);if(u){for(f(e).iso=!0,t=0,n=pt.length;t<n;t++)if(pt[t][1].exec(u[1])){r=pt[t][0],a=!1!==pt[t][2];break}if(null==r)return void(e._isValid=!1);if(u[3]){for(t=0,n=mt.length;t<n;t++)if(mt[t][1].exec(u[3])){s=(u[2]||" ")+mt[t][0];break}if(null==s)return void(e._isValid=!1)}if(!a&&null!=s)return void(e._isValid=!1);if(u[4]){if(!ht.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=r+(s||"")+(o||""),Mt(e)}else e._isValid=!1}function bt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function vt(e){var t,n,a,r,s,o,i,u,l=_t.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){if(n=l[4],a=l[3],r=l[2],s=l[5],o=l[6],i=l[7],u=[bt(n),we.indexOf(a),parseInt(r,10),parseInt(s,10),parseInt(o,10)],i&&u.push(parseInt(i,10)),t=u,!function(e,t,n){return!e||We.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return gt[e];if(t)return 0;var a=parseInt(n,10),r=a%100;return(a-r)/100*60+r}(l[8],l[9],l[10]),e._d=Fe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function xt(e,t,n){return null!=e?e:null!=t?t:n}function kt(e){var t,n,a,s,o,i=[];if(!e._d){for(a=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,a,r,s,o,i,u,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,o=4,n=xt(t.GG,e._a[0],$e(Lt(),1,4).year),a=xt(t.W,1),((r=xt(t.E,1))<1||r>7)&&(u=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,l=$e(Lt(),s,o),n=xt(t.gg,e._a[0],l.year),a=xt(t.w,l.week),null!=t.d?((r=t.d)<0||r>6)&&(u=!0):null!=t.e?(r=t.e+s,(t.e<0||t.e>6)&&(u=!0)):r=s),a<1||a>Pe(n,s,o)?f(e)._overflowWeeks=!0:null!=u?f(e)._overflowWeekday=!0:(i=Oe(n,a,r,s,o),e._a[0]=i.year,e._dayOfYear=i.dayOfYear)}(e),null!=e._dayOfYear&&(o=xt(e._a[0],a[0]),(e._dayOfYear>Ee(o)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=Fe(o,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=a[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Fe:Ye).apply(null,i),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(f(e).weekdayMismatch=!0)}}function Mt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],f(e).empty=!0;var t,n,a,s,o,i,u=""+e._i,l=u.length,d=0;for(a=$(e._f,e._locale).match(E)||[],t=0;t<a.length;t++)s=a[t],(n=(u.match(fe(s,e))||[])[0])&&((o=u.substr(0,u.indexOf(n))).length>0&&f(e).unusedInput.push(o),u=u.slice(u.indexOf(n)+n.length),d+=n.length),F[s]?(n?f(e).empty=!1:f(e).unusedTokens.push(s),ve(s,n,e)):e._strict&&!n&&f(e).unusedTokens.push(s);f(e).charsLeftOver=l-d,u.length>0&&f(e).unusedInput.push(u),e._a[3]<=12&&!0===f(e).bigHour&&e._a[3]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var a;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((a=e.isPM(n))&&t<12&&(t+=12),a||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(i=f(e).era)&&(e._a[0]=e._locale.erasConvertYear(i,e._a[0])),kt(e),lt(e)}else vt(e);else yt(e)}function wt(e){var t=e._i,n=e._f;return e._locale=e._locale||ut(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new x(lt(t)):(c(t)?e._d=t:s(n)?function(e){var t,n,a,r,s,o,i=!1;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)s=0,o=!1,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Mt(t),_(t)&&(o=!0),s+=f(t).charsLeftOver,s+=10*f(t).unusedTokens.length,f(t).score=s,i?s<a&&(a=s,n=t):(null==a||s<a||o)&&(a=s,n=t,o&&(i=!0));p(e,n||t)}(e):n?Mt(e):function(e){var t=e._i;l(t)?e._d=new Date(r.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=ft.exec(e._i);null===t?(yt(e),!1===e._isValid&&(delete e._isValid,vt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):s(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),kt(e)):o(t)?function(e){if(!e._d){var t=W(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),kt(e)}}(e):d(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),_(e)||(e._d=null),e))}function Tt(e,t,n,a,r){var i,l={};return!0!==t&&!1!==t||(a=t,t=void 0),!0!==n&&!1!==n||(a=n,n=void 0),(o(e)&&u(e)||s(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=n,l._i=e,l._f=t,l._strict=a,(i=new x(lt(wt(l))))._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function Lt(e,t,n,a){return Tt(e,t,n,a,!1)}r.createFromInputFallback=w("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var St=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Lt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Dt=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Lt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function It(e,t){var n,a;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Lt();for(n=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](n)||(n=t[a]);return n}var Nt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ct(e){var t=W(e),n=t.year||0,a=t.quarter||0,r=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,u=t.hour||0,l=t.minute||0,d=t.second||0,c=t.millisecond||0;this._isValid=function(e){var t,n,a=!1;for(t in e)if(i(e,t)&&(-1===xe.call(Nt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Nt.length;++n)if(e[Nt[n]]){if(a)return!1;parseFloat(e[Nt[n]])!==G(e[Nt[n]])&&(a=!0)}return!0}(t),this._milliseconds=+c+1e3*d+6e4*l+1e3*u*60*60,this._days=+o+7*s,this._months=+r+3*a+12*n,this._data={},this._locale=ut(),this._bubble()}function Et(e){return e instanceof Ct}function At(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Yt(e,t){R(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+C(~~(e/60),2)+t+C(~~e%60,2)}))}Yt("Z",":"),Yt("ZZ",""),me("Z",he),me("ZZ",he),ye(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Rt(he,e)}));var Ft=/([\+\-]|\d\d)/gi;function Rt(e,t){var n,a,r=(t||"").match(e);return null===r?null:0===(a=60*(n=((r[r.length-1]||[])+"").match(Ft)||["-",0,0])[1]+G(n[2]))?0:"+"===n[0]?a:-a}function Ot(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(k(e)||c(e)?e.valueOf():Lt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),r.updateOffset(n,!1),n):Lt(e).local()}function $t(e){return-Math.round(e._d.getTimezoneOffset())}function Pt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ht=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Bt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wt(e,t){var n,a,r,s,o,u,l=e,c=null;return Et(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:d(e)||!isNaN(+e)?(l={},t?l[t]=+e:l.milliseconds=+e):(c=Ht.exec(e))?(n="-"===c[1]?-1:1,l={y:0,d:G(c[2])*n,h:G(c[3])*n,m:G(c[4])*n,s:G(c[5])*n,ms:G(At(1e3*c[6]))*n}):(c=Bt.exec(e))?(n="-"===c[1]?-1:1,l={y:zt(c[2],n),M:zt(c[3],n),w:zt(c[4],n),d:zt(c[5],n),h:zt(c[6],n),m:zt(c[7],n),s:zt(c[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(s=Lt(l.from),o=Lt(l.to),r=s.isValid()&&o.isValid()?(o=Ot(o,s),s.isBefore(o)?u=jt(s,o):((u=jt(o,s)).milliseconds=-u.milliseconds,u.months=-u.months),u):{milliseconds:0,months:0},(l={}).ms=r.milliseconds,l.M=r.months),a=new Ct(l),Et(e)&&i(e,"_locale")&&(a._locale=e._locale),Et(e)&&i(e,"_isValid")&&(a._isValid=e._isValid),a}function zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function jt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Vt(e,t){return function(n,a){var r;return null===a||isNaN(+a)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=a,a=r),Ut(this,Wt(n,a),e),this}}function Ut(e,t,n,a){var s=t._milliseconds,o=At(t._days),i=At(t._months);e.isValid()&&(a=null==a||a,i&&Ie(e,X(e,"Month")+i*n),o&&K(e,"Date",X(e,"Date")+o*n),s&&e._d.setTime(e._d.valueOf()+s*n),a&&r.updateOffset(e,o||i))}Wt.fn=Ct.prototype,Wt.invalid=function(){return Wt(NaN)};var Gt=Vt(1,"add"),qt=Vt(-1,"subtract");function Xt(e){return"string"==typeof e||e instanceof String}function Kt(e){return k(e)||c(e)||Xt(e)||d(e)||function(e){var t=s(e),n=!1;return t&&(n=0===e.filter((function(t){return!d(t)&&Xt(e)})).length),t&&n}(e)||function(e){var t,n,a=o(e)&&!u(e),r=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<s.length;t+=1)n=s[t],r=r||i(e,n);return a&&r}(e)||null==e}function Jt(e){var t,n=o(e)&&!u(e),a=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)a=a||i(e,r[t]);return n&&a}function Qt(e,t){if(e.date()<t.date())return-Qt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(n,"months");return-(n+(t-a<0?(t-a)/(a-e.clone().add(n-1,"months")):(t-a)/(e.clone().add(n+1,"months")-a)))||0}function Zt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ut(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function tn(){return this._locale}var nn=1e3,an=6e4,rn=36e5,sn=126227808e5;function on(e,t){return(e%t+t)%t}function un(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-sn:new Date(e,t,n).valueOf()}function ln(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-sn:Date.UTC(e,t,n)}function dn(e,t){return t.erasAbbrRegex(e)}function cn(){var e,t,n=[],a=[],r=[],s=[],o=this.eras();for(e=0,t=o.length;e<t;++e)a.push(_e(o[e].name)),n.push(_e(o[e].abbr)),r.push(_e(o[e].narrow)),s.push(_e(o[e].name)),s.push(_e(o[e].abbr)),s.push(_e(o[e].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function hn(e,t){R(0,[e,e.length],0,t)}function pn(e,t,n,a,r){var s;return null==e?$e(this,a,r).year:(t>(s=Pe(e,a,r))&&(t=s),mn.call(this,e,t,n,a,r))}function mn(e,t,n,a,r){var s=Oe(e,t,n,a,r),o=Fe(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),me("N",dn),me("NN",dn),me("NNN",dn),me("NNNN",(function(e,t){return t.erasNameRegex(e)})),me("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ye(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,a){var r=n._locale.erasParse(e,a,n._strict);r?f(n).era=r:f(n).invalidEra=e})),me("y",le),me("yy",le),me("yyy",le),me("yyyy",le),me("yo",(function(e,t){return t._eraYearOrdinalRegex||le})),ye(["y","yy","yyy","yyyy"],0),ye(["yo"],(function(e,t,n,a){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,r):t[0]=parseInt(e,10)})),R(0,["gg",2],0,(function(){return this.weekYear()%100})),R(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),hn("gggg","weekYear"),hn("ggggg","weekYear"),hn("GGGG","isoWeekYear"),hn("GGGGG","isoWeekYear"),H("weekYear","gg"),H("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),me("G",de),me("g",de),me("GG",ae,Z),me("gg",ae,Z),me("GGGG",ie,te),me("gggg",ie,te),me("GGGGG",ue,ne),me("ggggg",ue,ne),be(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,a){t[a.substr(0,2)]=G(e)})),be(["gg","GG"],(function(e,t,n,a){t[a]=r.parseTwoDigitYear(e)})),R("Q",0,"Qo","quarter"),H("quarter","Q"),j("quarter",7),me("Q",Q),ye("Q",(function(e,t){t[1]=3*(G(e)-1)})),R("D",["DD",2],"Do","date"),H("date","D"),j("date",9),me("D",ae),me("DD",ae,Z),me("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ye(["D","DD"],2),ye("Do",(function(e,t){t[2]=G(e.match(ae)[0])}));var fn=q("Date",!0);R("DDD",["DDDD",3],"DDDo","dayOfYear"),H("dayOfYear","DDD"),j("dayOfYear",4),me("DDD",oe),me("DDDD",ee),ye(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=G(e)})),R("m",["mm",2],0,"minute"),H("minute","m"),j("minute",14),me("m",ae),me("mm",ae,Z),ye(["m","mm"],4);var _n=q("Minutes",!1);R("s",["ss",2],0,"second"),H("second","s"),j("second",15),me("s",ae),me("ss",ae,Z),ye(["s","ss"],5);var gn,yn,bn=q("Seconds",!1);for(R("S",0,0,(function(){return~~(this.millisecond()/100)})),R(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),R(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),R(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),R(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),R(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),R(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),H("millisecond","ms"),j("millisecond",16),me("S",oe,Q),me("SS",oe,Z),me("SSS",oe,ee),gn="SSSS";gn.length<=9;gn+="S")me(gn,le);function vn(e,t){t[6]=G(1e3*("0."+e))}for(gn="S";gn.length<=9;gn+="S")ye(gn,vn);yn=q("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var xn=x.prototype;function kn(e){return e}xn.add=Gt,xn.calendar=function(e,t){1===arguments.length&&(arguments[0]?Kt(arguments[0])?(e=arguments[0],t=void 0):Jt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Lt(),a=Ot(n,this).startOf("day"),s=r.calendarFormat(this,a)||"sameElse",o=t&&(D(t[s])?t[s].call(this,n):t[s]);return this.format(o||this.localeData().calendar(s,this,Lt(n)))},xn.clone=function(){return new x(this)},xn.diff=function(e,t,n){var a,r,s;if(!this.isValid())return NaN;if(!(a=Ot(e,this)).isValid())return NaN;switch(r=6e4*(a.utcOffset()-this.utcOffset()),t=B(t)){case"year":s=Qt(this,a)/12;break;case"month":s=Qt(this,a);break;case"quarter":s=Qt(this,a)/3;break;case"second":s=(this-a)/1e3;break;case"minute":s=(this-a)/6e4;break;case"hour":s=(this-a)/36e5;break;case"day":s=(this-a-r)/864e5;break;case"week":s=(this-a-r)/6048e5;break;default:s=this-a}return n?s:U(s)},xn.endOf=function(e){var t,n;if(void 0===(e=B(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?ln:un,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=rn-on(t+(this._isUTC?0:this.utcOffset()*an),rn)-1;break;case"minute":t=this._d.valueOf(),t+=an-on(t,an)-1;break;case"second":t=this._d.valueOf(),t+=nn-on(t,nn)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},xn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=O(this,e);return this.localeData().postformat(t)},xn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Lt(e).isValid())?Wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},xn.fromNow=function(e){return this.from(Lt(),e)},xn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Lt(e).isValid())?Wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},xn.toNow=function(e){return this.to(Lt(),e)},xn.get=function(e){return D(this[e=B(e)])?this[e]():this},xn.invalidAt=function(){return f(this).overflow},xn.isAfter=function(e,t){var n=k(e)?e:Lt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=B(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},xn.isBefore=function(e,t){var n=k(e)?e:Lt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=B(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},xn.isBetween=function(e,t,n,a){var r=k(e)?e:Lt(e),s=k(t)?t:Lt(t);return!!(this.isValid()&&r.isValid()&&s.isValid())&&("("===(a=a||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===a[1]?this.isBefore(s,n):!this.isAfter(s,n))},xn.isSame=function(e,t){var n,a=k(e)?e:Lt(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=B(t)||"millisecond")?this.valueOf()===a.valueOf():(n=a.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},xn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},xn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},xn.isValid=function(){return _(this)},xn.lang=en,xn.locale=Zt,xn.localeData=tn,xn.max=Dt,xn.min=St,xn.parsingFlags=function(){return p({},f(this))},xn.set=function(e,t){if("object"==typeof e){var n,a=function(e){var t,n=[];for(t in e)i(e,t)&&n.push({unit:t,priority:z[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=W(e));for(n=0;n<a.length;n++)this[a[n].unit](e[a[n].unit])}else if(D(this[e=B(e)]))return this[e](t);return this},xn.startOf=function(e){var t,n;if(void 0===(e=B(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?ln:un,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=on(t+(this._isUTC?0:this.utcOffset()*an),rn);break;case"minute":t=this._d.valueOf(),t-=on(t,an);break;case"second":t=this._d.valueOf(),t-=on(t,nn)}return this._d.setTime(t),r.updateOffset(this,!0),this},xn.subtract=qt,xn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},xn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},xn.toDate=function(){return new Date(this.valueOf())},xn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?O(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",O(n,"Z")):O(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},xn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,a="moment",r="";return this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+a+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",n=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(xn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),xn.toJSON=function(){return this.isValid()?this.toISOString():null},xn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},xn.unix=function(){return Math.floor(this.valueOf()/1e3)},xn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},xn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},xn.eraName=function(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until)return a[e].name;if(a[e].until<=n&&n<=a[e].since)return a[e].name}return""},xn.eraNarrow=function(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until)return a[e].narrow;if(a[e].until<=n&&n<=a[e].since)return a[e].narrow}return""},xn.eraAbbr=function(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until)return a[e].abbr;if(a[e].until<=n&&n<=a[e].since)return a[e].abbr}return""},xn.eraYear=function(){var e,t,n,a,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,a=this.clone().startOf("day").valueOf(),s[e].since<=a&&a<=s[e].until||s[e].until<=a&&a<=s[e].since)return(this.year()-r(s[e].since).year())*n+s[e].offset;return this.year()},xn.year=Ae,xn.isLeapYear=function(){return V(this.year())},xn.weekYear=function(e){return pn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},xn.isoWeekYear=function(e){return pn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},xn.quarter=xn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},xn.month=Ne,xn.daysInMonth=function(){return ke(this.year(),this.month())},xn.week=xn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},xn.isoWeek=xn.isoWeeks=function(e){var t=$e(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},xn.weeksInYear=function(){var e=this.localeData()._week;return Pe(this.year(),e.dow,e.doy)},xn.weeksInWeekYear=function(){var e=this.localeData()._week;return Pe(this.weekYear(),e.dow,e.doy)},xn.isoWeeksInYear=function(){return Pe(this.year(),1,4)},xn.isoWeeksInISOWeekYear=function(){return Pe(this.isoWeekYear(),1,4)},xn.date=fn,xn.day=xn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},xn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},xn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},xn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},xn.hour=xn.hours=Qe,xn.minute=xn.minutes=_n,xn.second=xn.seconds=bn,xn.millisecond=xn.milliseconds=yn,xn.utcOffset=function(e,t,n){var a,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Rt(he,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(a=$t(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),s!==e&&(!t||this._changeInProgress?Ut(this,Wt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:$t(this)},xn.utc=function(e){return this.utcOffset(0,e)},xn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($t(this),"m")),this},xn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Rt(ce,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},xn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Lt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},xn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},xn.isLocal=function(){return!!this.isValid()&&!this._isUTC},xn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},xn.isUtc=Pt,xn.isUTC=Pt,xn.zoneAbbr=function(){return this._isUTC?"UTC":""},xn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},xn.dates=w("dates accessor is deprecated. Use date instead.",fn),xn.months=w("months accessor is deprecated. Use month instead",Ne),xn.years=w("years accessor is deprecated. Use year instead",Ae),xn.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),xn.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return v(t,this),(t=wt(t))._a?(e=t._isUTC?m(t._a):Lt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var a,r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(a=0;a<r;a++)(n&&e[a]!==t[a]||!n&&G(e[a])!==G(t[a]))&&o++;return o+s}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Mn=N.prototype;function wn(e,t,n,a){var r=ut(),s=m().set(a,t);return r[n](s,e)}function Tn(e,t,n){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return wn(e,t,n,"month");var a,r=[];for(a=0;a<12;a++)r[a]=wn(e,a,n,"month");return r}function Ln(e,t,n,a){"boolean"==typeof e?(d(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,d(t)&&(n=t,t=void 0),t=t||"");var r,s=ut(),o=e?s._week.dow:0,i=[];if(null!=n)return wn(t,(n+o)%7,a,"day");for(r=0;r<7;r++)i[r]=wn(t,(r+o)%7,a,"day");return i}Mn.calendar=function(e,t,n){var a=this._calendar[e]||this._calendar.sameElse;return D(a)?a.call(t,n):a},Mn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(E).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Mn.invalidDate=function(){return this._invalidDate},Mn.ordinal=function(e){return this._ordinal.replace("%d",e)},Mn.preparse=kn,Mn.postformat=kn,Mn.relativeTime=function(e,t,n,a){var r=this._relativeTime[n];return D(r)?r(e,t,n,a):r.replace(/%d/i,e)},Mn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},Mn.set=function(e){var t,n;for(n in e)i(e,n)&&(D(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Mn.eras=function(e,t){var n,a,s,o=this._eras||ut("en")._eras;for(n=0,a=o.length;n<a;++n){switch(typeof o[n].since){case"string":s=r(o[n].since).startOf("day"),o[n].since=s.valueOf()}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":s=r(o[n].until).startOf("day").valueOf(),o[n].until=s.valueOf()}}return o},Mn.erasParse=function(e,t,n){var a,r,s,o,i,u=this.eras();for(e=e.toUpperCase(),a=0,r=u.length;a<r;++a)if(s=u[a].name.toUpperCase(),o=u[a].abbr.toUpperCase(),i=u[a].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[a];break;case"NNNN":if(s===e)return u[a];break;case"NNNNN":if(i===e)return u[a]}else if([s,o,i].indexOf(e)>=0)return u[a]},Mn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n},Mn.erasAbbrRegex=function(e){return i(this,"_erasAbbrRegex")||cn.call(this),e?this._erasAbbrRegex:this._erasRegex},Mn.erasNameRegex=function(e){return i(this,"_erasNameRegex")||cn.call(this),e?this._erasNameRegex:this._erasRegex},Mn.erasNarrowRegex=function(e){return i(this,"_erasNarrowRegex")||cn.call(this),e?this._erasNarrowRegex:this._erasRegex},Mn.months=function(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Te).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone},Mn.monthsShort=function(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Te.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Mn.monthsParse=function(e,t,n){var a,r,s;if(this._monthsParseExact)return De.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(r=m([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[a]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[a]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(n&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}},Mn.monthsRegex=function(e){return this._monthsParseExact?(i(this,"_monthsRegex")||Ce.call(this),e?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=Se),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Mn.monthsShortRegex=function(e){return this._monthsParseExact?(i(this,"_monthsRegex")||Ce.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=Le),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Mn.week=function(e){return $e(e,this._week.dow,this._week.doy).week},Mn.firstDayOfYear=function(){return this._week.doy},Mn.firstDayOfWeek=function(){return this._week.dow},Mn.weekdays=function(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?He(n,this._week.dow):e?n[e.day()]:n},Mn.weekdaysMin=function(e){return!0===e?He(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Mn.weekdaysShort=function(e){return!0===e?He(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Mn.weekdaysParse=function(e,t,n){var a,r,s;if(this._weekdaysParseExact)return Ge.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(r=m([2e3,1]).day(a),n&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[a]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[a].test(e))return a;if(n&&"ddd"===t&&this._shortWeekdaysParse[a].test(e))return a;if(n&&"dd"===t&&this._minWeekdaysParse[a].test(e))return a;if(!n&&this._weekdaysParse[a].test(e))return a}},Mn.weekdaysRegex=function(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=je),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Mn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ve),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Mn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ue),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Mn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Mn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ot("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===G(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=w("moment.lang is deprecated. Use moment.locale instead.",ot),r.langData=w("moment.langData is deprecated. Use moment.localeData instead.",ut);var Sn=Math.abs;function Dn(e,t,n,a){var r=Wt(t,n);return e._milliseconds+=a*r._milliseconds,e._days+=a*r._days,e._months+=a*r._months,e._bubble()}function In(e){return e<0?Math.floor(e):Math.ceil(e)}function Nn(e){return 4800*e/146097}function Cn(e){return 146097*e/4800}function En(e){return function(){return this.as(e)}}var An=En("ms"),Yn=En("s"),Fn=En("m"),Rn=En("h"),On=En("d"),$n=En("w"),Pn=En("M"),Hn=En("Q"),Bn=En("y");function Wn(e){return function(){return this.isValid()?this._data[e]:NaN}}var zn=Wn("milliseconds"),jn=Wn("seconds"),Vn=Wn("minutes"),Un=Wn("hours"),Gn=Wn("days"),qn=Wn("months"),Xn=Wn("years");var Kn=Math.round,Jn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Qn(e,t,n,a,r){return r.relativeTime(t||1,!!n,e,a)}var Zn=Math.abs;function ea(e){return(e>0)-(e<0)||+e}function ta(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,a,r,s,o,i,u=Zn(this._milliseconds)/1e3,l=Zn(this._days),d=Zn(this._months),c=this.asSeconds();return c?(e=U(u/60),t=U(e/60),u%=60,e%=60,n=U(d/12),d%=12,a=u?u.toFixed(3).replace(/\.?0+$/,""):"",r=c<0?"-":"",s=ea(this._months)!==ea(c)?"-":"",o=ea(this._days)!==ea(c)?"-":"",i=ea(this._milliseconds)!==ea(c)?"-":"",r+"P"+(n?s+n+"Y":"")+(d?s+d+"M":"")+(l?o+l+"D":"")+(t||e||u?"T":"")+(t?i+t+"H":"")+(e?i+e+"M":"")+(u?i+a+"S":"")):"P0D"}var na=Ct.prototype;return na.isValid=function(){return this._isValid},na.abs=function(){var e=this._data;return this._milliseconds=Sn(this._milliseconds),this._days=Sn(this._days),this._months=Sn(this._months),e.milliseconds=Sn(e.milliseconds),e.seconds=Sn(e.seconds),e.minutes=Sn(e.minutes),e.hours=Sn(e.hours),e.months=Sn(e.months),e.years=Sn(e.years),this},na.add=function(e,t){return Dn(this,e,t,1)},na.subtract=function(e,t){return Dn(this,e,t,-1)},na.as=function(e){if(!this.isValid())return NaN;var t,n,a=this._milliseconds;if("month"===(e=B(e))||"quarter"===e||"year"===e)switch(t=this._days+a/864e5,n=this._months+Nn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Cn(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return 24*t+a/36e5;case"minute":return 1440*t+a/6e4;case"second":return 86400*t+a/1e3;case"millisecond":return Math.floor(864e5*t)+a;default:throw new Error("Unknown unit "+e)}},na.asMilliseconds=An,na.asSeconds=Yn,na.asMinutes=Fn,na.asHours=Rn,na.asDays=On,na.asWeeks=$n,na.asMonths=Pn,na.asQuarters=Hn,na.asYears=Bn,na.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*G(this._months/12):NaN},na._bubble=function(){var e,t,n,a,r,s=this._milliseconds,o=this._days,i=this._months,u=this._data;return s>=0&&o>=0&&i>=0||s<=0&&o<=0&&i<=0||(s+=864e5*In(Cn(i)+o),o=0,i=0),u.milliseconds=s%1e3,e=U(s/1e3),u.seconds=e%60,t=U(e/60),u.minutes=t%60,n=U(t/60),u.hours=n%24,o+=U(n/24),i+=r=U(Nn(o)),o-=In(Cn(r)),a=U(i/12),i%=12,u.days=o,u.months=i,u.years=a,this},na.clone=function(){return Wt(this)},na.get=function(e){return e=B(e),this.isValid()?this[e+"s"]():NaN},na.milliseconds=zn,na.seconds=jn,na.minutes=Vn,na.hours=Un,na.days=Gn,na.weeks=function(){return U(this.days()/7)},na.months=qn,na.years=Xn,na.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,a,r=!1,s=Jn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(s=Object.assign({},Jn,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),a=function(e,t,n,a){var r=Wt(e).abs(),s=Kn(r.as("s")),o=Kn(r.as("m")),i=Kn(r.as("h")),u=Kn(r.as("d")),l=Kn(r.as("M")),d=Kn(r.as("w")),c=Kn(r.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||i<=1&&["h"]||i<n.h&&["hh",i]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(h=h||d<=1&&["w"]||d<n.w&&["ww",d]),(h=h||l<=1&&["M"]||l<n.M&&["MM",l]||c<=1&&["y"]||["yy",c])[2]=t,h[3]=+e>0,h[4]=a,Qn.apply(null,h)}(this,!r,s,n=this.localeData()),r&&(a=n.pastFuture(+this,a)),n.postformat(a)},na.toISOString=ta,na.toString=ta,na.toJSON=ta,na.locale=Zt,na.localeData=tn,na.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ta),na.lang=en,R("X",0,0,"unix"),R("x",0,0,"valueOf"),me("x",de),me("X",/[+-]?\d+(\.\d{1,3})?/),ye("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ye("x",(function(e,t,n){n._d=new Date(G(e))})),r.version="2.29.1",t=Lt,r.fn=xn,r.min=function(){return It("isBefore",[].slice.call(arguments,0))},r.max=function(){return It("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=m,r.unix=function(e){return Lt(1e3*e)},r.months=function(e,t){return Tn(e,t,"months")},r.isDate=c,r.locale=ot,r.invalid=g,r.duration=Wt,r.isMoment=k,r.weekdays=function(e,t,n){return Ln(e,t,n,"weekdays")},r.parseZone=function(){return Lt.apply(null,arguments).parseZone()},r.localeData=ut,r.isDuration=Et,r.monthsShort=function(e,t){return Tn(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return Ln(e,t,n,"weekdaysMin")},r.defineLocale=it,r.updateLocale=function(e,t){if(null!=t){var n,a,r=et;null!=tt[e]&&null!=tt[e].parentLocale?tt[e].set(I(tt[e]._config,t)):(null!=(a=st(e))&&(r=a._config),t=I(r,t),null==a&&(t.abbr=e),(n=new N(t)).parentLocale=tt[e],tt[e]=n),ot(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?(tt[e]=tt[e].parentLocale,e===ot()&&ot(e)):null!=tt[e]&&delete tt[e]);return tt[e]},r.locales=function(){return T(tt)},r.weekdaysShort=function(e,t,n){return Ln(e,t,n,"weekdaysShort")},r.normalizeUnits=B,r.relativeTimeRounding=function(e){return void 0===e?Kn:"function"==typeof e&&(Kn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Jn[e]&&(void 0===t?Jn[e]:(Jn[e]=t,"s"===e&&(Jn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=xn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},6377:(e,t,n)=>{var a=n(4832),r=n(8652),s=n(801),o=n(2030),i=n(3618),u=n(9049),l=n(1971);l.alea=a,l.xor128=r,l.xorwow=s,l.xorshift7=o,l.xor4096=i,l.tychei=u,e.exports=l},4832:function(e,t,n){var a;!function(e,r,s){function o(e){var t,n=this,a=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var a=.02519603282416938*(t+=e.charCodeAt(n));a-=t=a>>>0,t=(a*=t)>>>0,t+=4294967296*(a-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=a(" "),n.s1=a(" "),n.s2=a(" "),n.s0-=a(e),n.s0<0&&(n.s0+=1),n.s1-=a(e),n.s1<0&&(n.s1+=1),n.s2-=a(e),n.s2<0&&(n.s2+=1),a=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new o(e),a=t&&t.state,r=n.next;return r.int32=function(){return 4294967296*n.next()|0},r.double=function(){return r()+11102230246251565e-32*(2097152*r()|0)},r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=u:n.amdD&&n.amdO?void 0===(a=function(){return u}.call(t,n,t,r))||(r.exports=a):this.alea=u}(0,e=n.nmd(e),n.amdD)},9049:function(e,t,n){var a;!function(e,r,s){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,a=t.d,r=t.a;return e=e<<25^e>>>7^n,n=n-a|0,a=a<<24^a>>>8^r,r=r-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-a|0,t.d=a<<16^n>>>16^r,t.a=r-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var a=0;a<n.length+20;a++)t.b^=0|n.charCodeAt(a),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new o(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=u:n.amdD&&n.amdO?void 0===(a=function(){return u}.call(t,n,t,r))||(r.exports=a):this.tychei=u}(0,e=n.nmd(e),n.amdD)},8652:function(e,t,n){var a;!function(e,r,s){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var a=0;a<n.length+64;a++)t.x^=0|n.charCodeAt(a),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new o(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=u:n.amdD&&n.amdO?void 0===(a=function(){return u}.call(t,n,t,r))||(r.exports=a):this.xor128=u}(0,e=n.nmd(e),n.amdD)},3618:function(e,t,n){var a;!function(e,r,s){function o(e){var t=this;t.next=function(){var e,n,a=t.w,r=t.X,s=t.i;return t.w=a=a+1640531527|0,n=r[s+34&127],e=r[s=s+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=r[s]=n^e,t.i=s,n+(a^a>>>16)|0},function(e,t){var n,a,r,s,o,i=[],u=128;for(t===(0|t)?(a=t,t=null):(t+="\0",a=0,u=Math.max(u,t.length)),r=0,s=-32;s<u;++s)t&&(a^=t.charCodeAt((s+32)%t.length)),0===s&&(o=a),a^=a<<10,a^=a>>>15,a^=a<<4,a^=a>>>13,s>=0&&(o=o+1640531527|0,r=0==(n=i[127&s]^=a+o)?r+1:0);for(r>=128&&(i[127&(t&&t.length||0)]=-1),r=127,s=512;s>0;--s)a=i[r+34&127],n=i[r=r+1&127],a^=a<<13,n^=n<<17,a^=a>>>15,n^=n>>>12,i[r]=a^n;e.w=o,e.X=i,e.i=r}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&(a.X&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=u:n.amdD&&n.amdO?void 0===(a=function(){return u}.call(t,n,t,r))||(r.exports=a):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},2030:function(e,t,n){var a;!function(e,r,s){function o(e){var t=this;t.next=function(){var e,n,a=t.x,r=t.i;return e=a[r],n=(e^=e>>>7)^e<<24,n^=(e=a[r+1&7])^e>>>10,n^=(e=a[r+3&7])^e>>>3,n^=(e=a[r+4&7])^e<<7,e=a[r+7&7],n^=(e^=e<<13)^e<<9,a[r]=n,t.i=r+1&7,n},function(e,t){var n,a=[];if(t===(0|t))a[0]=t;else for(t=""+t,n=0;n<t.length;++n)a[7&n]=a[7&n]<<15^t.charCodeAt(n)+a[n+1&7]<<13;for(;a.length<8;)a.push(0);for(n=0;n<8&&0===a[n];++n);for(8==n?a[7]=-1:a[n],e.x=a,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&(a.x&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=u:n.amdD&&n.amdO?void 0===(a=function(){return u}.call(t,n,t,r))||(r.exports=a):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},801:function(e,t,n){var a;!function(e,r,s){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var a=0;a<n.length+64;a++)t.x^=0|n.charCodeAt(a),a==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new o(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=u:n.amdD&&n.amdO?void 0===(a=function(){return u}.call(t,n,t,r))||(r.exports=a):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},1971:(e,t,n)=>{var a;!function(r,s){var o,i=this,u=256,l=s.pow(u,6),d=s.pow(2,52),c=2*d,h=255;function p(e,t,n){var a=[],h=g(_((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(r)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(u):(e=new Uint8Array(u),(i.crypto||i.msCrypto).getRandomValues(e)),y(e)}catch(e){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,y(r)]}}():e,3),a),p=new m(a),b=function(){for(var e=p.g(6),t=l,n=0;e<d;)e=(e+n)*u,t*=u,n=p.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,g(y(p.S),r),(t.pass||n||function(e,t,n,a){return a&&(a.S&&f(a,p),e.state=function(){return f(p,{})}),n?(s.random=e,t):e})(b,h,"global"in t?t.global:this==s,t.state)}function m(e){var t,n=e.length,a=this,r=0,s=a.i=a.j=0,o=a.S=[];for(n||(e=[n++]);r<u;)o[r]=r++;for(r=0;r<u;r++)o[r]=o[s=h&s+e[r%n]+(t=o[r])],o[s]=t;(a.g=function(e){for(var t,n=0,r=a.i,s=a.j,o=a.S;e--;)t=o[r=h&r+1],n=n*u+o[h&(o[r]=o[s=h&s+t])+(o[s]=t)];return a.i=r,a.j=s,n})(u)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function _(e,t){var n,a=[],r=typeof e;if(t&&"object"==r)for(n in e)try{a.push(_(e[n],t-1))}catch(e){}return a.length?a:"string"==r?e:e+"\0"}function g(e,t){for(var n,a=e+"",r=0;r<a.length;)t[h&r]=h&(n^=19*t[h&r])+a.charCodeAt(r++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(s.seedrandom=p,g(s.random(),r),e.exports){e.exports=p;try{o=n(3906)}catch(e){}}else void 0===(a=function(){return p}.call(t,n,t,e))||(e.exports=a)}([],Math)},1210:(e,t)=>{"use strict";function n(e,t){e.beginPath();let n=!0;for(const[a,r]of t)n?(e.moveTo(a,r),n=!1):e.lineTo(a,r);e.stroke()}function a(e,t,n,a){e.beginPath(),e.arc(t,n,a,0,2*Math.PI),e.fill()}Object.defineProperty(t,"__esModule",{value:!0}),t.drawHandPrediction=t.drawPoint=t.drawPath=void 0,t.drawPath=n,t.drawPoint=a,t.drawHandPrediction=function(e,t,r){if(e.fillStyle="red",e.font="24px sans-serif",e.lineJoin="round",e.lineWidth=6,e.strokeStyle="red",r){const[n,a]=t.boundingBox.topLeft,[r,s]=t.boundingBox.bottomRight;e.strokeRect(n,a,r-n,s-a),e.fillText(`${(100*t.handInViewConfidence).toFixed(1)}%`,n,a+24)}const s=["thumb","indexFinger","middleFinger","ringFinger","pinky"];for(const r of s){const s=t.annotations[r];n(e,[...t.annotations.palmBase,...s]);for(const[t,n]of s)a(e,t,n,6)}const[o,i]=t.annotations.palmBase[0];a(e,o,i,6)}},3136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingComponent=void 0;const a=n(3595);t.LoadingComponent=class{constructor(){this._elements={loadingDiv:a.selectElementOrThrow("#loading"),doneLoadingDiv:a.selectElementOrThrow("#done-loading")}}doneLoading(){this._elements.loadingDiv.style.display="none",this._elements.doneLoadingDiv.style.display="unset"}loading(){this._elements.doneLoadingDiv.style.display="none",this._elements.loadingDiv.style.display="unset"}}},3092:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewComponent=void 0;const r=n(1210),s=n(7533),o=a(n(7757)),i=n(5491),u=n(4381),l=n(3595);t.PreviewComponent=class{constructor(){this._elements={cpuRadio:l.selectElementOrThrow("#preview #cpu-radio"),flipHorizontalCheckbox:l.selectElementOrThrow("#preview #flip-horizontal-checkbox"),handposeOverlayCanvas:l.selectElementOrThrow("#preview canvas.overlay"),performanceChartCanvas:l.selectElementOrThrow("#preview #performance-chart"),stackDiv:l.selectElementOrThrow("#preview #preview-stack"),video:l.selectElementOrThrow("#preview video"),wasmRadio:l.selectElementOrThrow("#preview #wasm-radio"),webglRadio:l.selectElementOrThrow("#preview #webgl-radio")},this._metrics=new i.PerSecondMetrics(Object.keys(u.backendInfos)),this._chart=this.createPerformanceChart(),this.handleFlipHorizontalOption(),this.handleTensorFlowBackendOption(),this.startUpdatingPerformanceChart()}startDrawingHandposeOverlays(e){const t=async()=>{await s.ready();const n=await e.estimateHands(this._elements.video);this._elements.handposeOverlayCanvas.width=this._elements.video.clientWidth,this._elements.handposeOverlayCanvas.height=this._elements.video.clientHeight;const a=l.getCanvasContext(this._elements.handposeOverlayCanvas);a.clearRect(0,0,a.canvas.clientWidth,a.canvas.clientHeight);for(const e of n)r.drawHandPrediction(a,e,!0);this._metrics.increment(s.getBackend()),requestAnimationFrame(t)};requestAnimationFrame(t)}async startStreamingWebcam(e){return this._elements.video.srcObject=e,new Promise((e=>{this._elements.video.onloadedmetadata=()=>e()}))}createPerformanceChart(){const e=l.getCanvasContext(this._elements.performanceChartCanvas);return new o.default(e,{data:{datasets:Array.from(this._metrics.seriesMap).map((([e,t])=>({backgroundColor:u.backendInfos[e].color,barPercentage:1,categoryPercentage:1,data:t,label:u.backendInfos[e].friendlyName}))),labels:this._metrics.timestamps},options:{legend:{labels:{boxWidth:12},position:"bottom"},responsive:!0,scales:{xAxes:[{stacked:!0,ticks:{callback:()=>{}}}],yAxes:[{stacked:!0,ticks:{autoSkipPadding:5}}]},title:{display:!0,padding:5,text:"Predictions per Second"},tooltips:{enabled:!1}},type:"bar"})}handleFlipHorizontalOption(){const e=()=>{this._elements.stackDiv.classList.toggle("flip-horizontal",this._elements.flipHorizontalCheckbox.checked)};this._elements.flipHorizontalCheckbox.addEventListener("change",e),e()}handleTensorFlowBackendOption(){const e=[this._elements.cpuRadio,this._elements.wasmRadio,this._elements.webglRadio],t=async t=>{if(t!==s.getBackend()&&!await s.setBackend(t)){const t=e.find((e=>e.value===s.getBackend()));t&&(t.checked=!0)}};for(const n of e)n.addEventListener("change",(e=>{const n=e.target.value;t(n)})),n.value===s.getBackend()&&(n.checked=!0)}startUpdatingPerformanceChart(){setInterval((()=>{const e=this._elements.performanceChartCanvas,t=e.parentElement;if(!t)throw new Error("`canvasParent` is `null`");e.style.width="100%",e.style.height="100%",e.width=t?.clientWidth??0,e.height=t?.clientHeight??0,this._chart.update()}),1e3)}}},5620:(e,t,n)=>{"use strict";const a=n(6029),r=n(7533),s=n(3136),o=n(3092);n(4381),window.addEventListener("load",(async()=>{try{const e=new s.LoadingComponent;e.loading();try{await r.ready();const t=a.load(),n=new o.PreviewComponent,s=await navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user"}});await n.startStreamingWebcam(s);const i=await t;n.startDrawingHandposeOverlays(i)}finally{e.doneLoading()}}catch(e){throw console.error(e),e}}))},5491:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PerSecondMetrics=void 0;class n{constructor(e,t=60){this.seriesNames=e,this._currentMetrics=new Map,this._currentTimestamp=n.getCurrentTimestamp(),this._seriesMap=new Map(e.map((e=>[e,new Array(t).fill(0)]))),this._timestamps=new Array(t);for(let e=this._timestamps.length-1,t=this._currentTimestamp-1;e>=0;e--,t--)this._timestamps[e]=t}get seriesMap(){return this._seriesMap}get timestamps(){return this._timestamps}increment(e){if(!this._seriesMap.has(e))throw new Error(`Unregistered series name '${e}'`);this.advanceTime(),this._currentMetrics.set(e,(this._currentMetrics.get(e)??0)+1)}static getCurrentTimestamp(){return Math.floor(Date.now()/1e3)}advanceTime(){this._currentTimestamp=n.getCurrentTimestamp();let e=this._timestamps[this._timestamps.length-1]??this._currentTimestamp;for(;e<this._currentTimestamp-1;){for(const[e,t]of this._seriesMap)t.shift(),t.push(this._currentMetrics.get(e)??0);this._currentMetrics.clear(),e++,this._timestamps.shift(),this._timestamps.push(e)}}}t.PerSecondMetrics=n},4381:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.backendInfos=void 0,n(462);const r=n(4509);n(6859);const s=a(n(12)),o=a(n(8754)),i=a(n(9995));r.setWasmPaths({"tfjs-backend-wasm-simd.wasm":s.default,"tfjs-backend-wasm-threaded-simd.wasm":o.default,"tfjs-backend-wasm.wasm":i.default}),t.backendInfos={cpu:{color:"rgba(255, 0, 0, 0.5)",friendlyName:"CPU"},wasm:{color:"rgba(0, 255, 0, 0.5)",friendlyName:"WebAssembly"},webgl:{color:"rgba(0, 0, 255, 0.5)",friendlyName:"WebGL"}}},3595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCanvasContext=t.selectElementOrThrow=void 0,t.selectElementOrThrow=function(e){const t=document.querySelector(e);if(!t)throw new Error(`Element not found using selector '${e}'`);return t},t.getCanvasContext=function(e){const t=e.getContext("2d");if(!t)throw new Error("`HTMLCanvasElement.getContext()` returned `null`");return t}},3906:()=>{},2993:()=>{},8352:()=>{},1386:()=>{},9513:()=>{},1758:()=>{},6614:()=>{}},t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n(5620)})();
//# sourceMappingURL=index.js.map